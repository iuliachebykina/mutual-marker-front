var lt=Object.defineProperty,ct=Object.defineProperties,ut=Object.getOwnPropertyDescriptors,it=Object.getOwnPropertySymbols,ht=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable,Je=(de,M,K)=>M in de?lt(de,M,{enumerable:!0,configurable:!0,writable:!0,value:K}):de[M]=K,Ke=(de,M)=>{for(var K in M||(M={}))ht.call(M,K)&&Je(de,K,M[K]);if(it)for(var K of it(M))dt.call(M,K)&&Je(de,K,M[K]);return de},et=(de,M)=>ct(de,ut(M)),Ze=(de,M,K)=>(Je(de,"symbol"!=typeof M?M+"":M,K),K),tt=(de,M,K)=>{if(!M.has(de))throw TypeError("Cannot "+K)},be=(de,M,K)=>(tt(de,M,"read from private field"),K?K.call(de):M.get(de)),Te=(de,M,K)=>{if(M.has(de))throw TypeError("Cannot add the same private member more than once");M instanceof WeakSet?M.add(de):M.set(de,K)},ke=(de,M,K,p)=>(tt(de,M,"write to private field"),p?p.call(de,K):M.set(de,K),K),Fe=(de,M,K)=>(tt(de,M,"access private method"),K);(self.webpackChunkproject_proverka=self.webpackChunkproject_proverka||[]).push([[332],{2332:(de,M,K)=>{"use strict";K.r(M),K.d(M,{CabinetStudentModule:()=>ze});var p=K(9808),le=K(3075),ie=K(2930),se=K(3759),te=K(4173),e=K(5e3),t=K(4968),u=K(7579),s=K(2076),l=K(2722),f=K(8372),k=K(9300),d=K(6036),a=K.t(d,2),w=K(2813),F=K.t(w,2);const S=["pdfViewerContainer"];function b(W,ce){const P=new W.EventBus;return function n(W,ce){(0,t.R)(W,"documentload").pipe((0,l.R)(ce)).subscribe(()=>{const P=document.createEvent("CustomEvent");P.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(P)}),(0,t.R)(W,"pagerendered").pipe((0,l.R)(ce)).subscribe(({pageNumber:P,cssTransform:q,source:oe})=>{const ye=document.createEvent("CustomEvent");ye.initCustomEvent("pagerendered",!0,!0,{pageNumber:P,cssTransform:q}),oe.div.dispatchEvent(ye)}),(0,t.R)(W,"textlayerrendered").pipe((0,l.R)(ce)).subscribe(({pageNumber:P,source:q})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:P}),q.textLayerDiv.dispatchEvent(oe)}),(0,t.R)(W,"pagechanging").pipe((0,l.R)(ce)).subscribe(({pageNumber:P,source:q})=>{const oe=document.createEvent("UIEvents");oe.initEvent("pagechanging",!0,!0),oe.pageNumber=P,q.container.dispatchEvent(oe)}),(0,t.R)(W,"pagesinit").pipe((0,l.R)(ce)).subscribe(({source:P})=>{const q=document.createEvent("CustomEvent");q.initCustomEvent("pagesinit",!0,!0,null),P.container.dispatchEvent(q)}),(0,t.R)(W,"pagesloaded").pipe((0,l.R)(ce)).subscribe(({pagesCount:P,source:q})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("pagesloaded",!0,!0,{pagesCount:P}),q.container.dispatchEvent(oe)}),(0,t.R)(W,"scalechange").pipe((0,l.R)(ce)).subscribe(({scale:P,presetValue:q,source:oe})=>{const ye=document.createEvent("UIEvents");ye.initEvent("scalechange",!0,!0),ye.scale=P,ye.presetValue=q,oe.container.dispatchEvent(ye)}),(0,t.R)(W,"updateviewarea").pipe((0,l.R)(ce)).subscribe(({location:P,source:q})=>{const oe=document.createEvent("UIEvents");oe.initEvent("updateviewarea",!0,!0),oe.location=P,q.container.dispatchEvent(oe)}),(0,t.R)(W,"find").pipe((0,l.R)(ce)).subscribe(({source:P,type:q,query:oe,phraseSearch:ye,caseSensitive:Oe,highlightAll:De,findPrevious:qe})=>{if(P===window)return;const nt=document.createEvent("CustomEvent");nt.initCustomEvent("find"+q,!0,!0,{query:oe,phraseSearch:ye,caseSensitive:Oe,highlightAll:De,findPrevious:qe}),window.dispatchEvent(nt)}),(0,t.R)(W,"attachmentsloaded").pipe((0,l.R)(ce)).subscribe(({attachmentsCount:P,source:q})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:P}),q.container.dispatchEvent(oe)}),(0,t.R)(W,"sidebarviewchanged").pipe((0,l.R)(ce)).subscribe(({view:P,source:q})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("sidebarviewchanged",!0,!0,{view:P}),q.outerContainer.dispatchEvent(oe)}),(0,t.R)(W,"pagemode").pipe((0,l.R)(ce)).subscribe(({mode:P,source:q})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("pagemode",!0,!0,{mode:P}),q.pdfViewer.container.dispatchEvent(oe)}),(0,t.R)(W,"namedaction").pipe((0,l.R)(ce)).subscribe(({action:P,source:q})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("namedaction",!0,!0,{action:P}),q.pdfViewer.container.dispatchEvent(oe)}),(0,t.R)(W,"presentationmodechanged").pipe((0,l.R)(ce)).subscribe(({active:P,switchInProgress:q})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("presentationmodechanged",!0,!0,{active:P,switchInProgress:q}),window.dispatchEvent(oe)}),(0,t.R)(W,"outlineloaded").pipe((0,l.R)(ce)).subscribe(({outlineCount:P,source:q})=>{const oe=document.createEvent("CustomEvent");oe.initCustomEvent("outlineloaded",!0,!0,{outlineCount:P}),q.container.dispatchEvent(oe)})}(P,ce),P}function r(W,ce,P){W[ce]=P}function y(){return"undefined"==typeof window}y()||r(a,"verbosity",d.VerbosityLevel.INFOS);var m=(()=>{return(W=m||(m={}))[W.DISABLED=0]="DISABLED",W[W.ENABLED=1]="ENABLED",W[W.ENHANCED=2]="ENHANCED",m;var W})();let A=(()=>{class W{constructor(P,q){if(this.element=P,this.ngZone=q,this.isVisible=!1,this._cMapsUrl=void 0!==a?`https://unpkg.com/pdfjs-dist@${d.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=m.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new u.x,this.afterLoadComplete=new e.vpe,this.pageRendered=new e.vpe,this.pageInitialized=new e.vpe,this.textLayerRendered=new e.vpe,this.onError=new e.vpe,this.onProgress=new e.vpe,this.pageChange=new e.vpe(!0),y())return;let oe;oe=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${d.version}/legacy/build/pdf.worker.min.js`,r(d.GlobalWorkerOptions,"workerSrc",oe)}set cMapsUrl(P){this._cMapsUrl=P}set page(P){const q=P=parseInt(P,10)||1;this._pdf&&(P=this.getValidPageNumber(P)),this._page=P,q!==P&&this.pageChange.emit(P)}set renderText(P){this._renderText=P}set renderTextMode(P){this._renderTextMode=P}set originalSize(P){this._originalSize=P}set showAll(P){this._showAll=P}set stickToPage(P){this._stickToPage=P}set zoom(P){P<=0||(this._zoom=P)}get zoom(){return this._zoom}set zoomScale(P){this._zoomScale=P}get zoomScale(){return this._zoomScale}set rotation(P){"number"==typeof P&&P%90==0?this._rotation=P:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(P){this._externalLinkTarget=P}set autoresize(P){this._canAutoResize=Boolean(P)}set fitToPage(P){this._fitToPage=Boolean(P)}set showBorders(P){this._showBorders=Boolean(P)}static getLinkTarget(P){switch(P){case"blank":return w.LinkTarget.BLANK;case"none":return w.LinkTarget.NONE;case"self":return w.LinkTarget.SELF;case"parent":return w.LinkTarget.PARENT;case"top":return w.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const P=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=P?!1===this.isVisible&&null!=P&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(P){if(!y()&&this.isVisible)if("src"in P)this.loadPDF();else if(this._pdf){if("renderText"in P?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:m.DISABLED,this.resetPdfDocument()):"showAll"in P&&this.resetPdfDocument(),"page"in P){const{page:q}=P;if(q.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const P=this.getCurrentViewer();(0,s.D)(this._pdf.getPage(P.currentPageNumber)).pipe((0,l.R)(this.destroy$)).subscribe({next:q=>{const oe=this._rotation||q.rotate,ye=q.getViewport({scale:this._zoom,rotation:oe}).width*W.CSS_UNITS;let Oe=this._zoom,De=!0;if(!this._originalSize||this._fitToPage&&ye>this.pdfViewerContainer.nativeElement.clientWidth){const qe=q.getViewport({scale:1,rotation:oe});Oe=this.getScale(qe.width,qe.height),De=!this._stickToPage}P._setScale(Oe,De)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const P={},q=W.getLinkTarget(this._externalLinkTarget);return q&&(P.externalLinkTarget=q),P}setupMultiPageViewer(){r(a,"disableTextLayer",!this._renderText);const P=b(F,this.destroy$);(0,t.R)(P,"pagerendered").pipe((0,l.R)(this.destroy$)).subscribe(oe=>{this.pageRendered.emit(oe)}),(0,t.R)(P,"pagesinit").pipe((0,l.R)(this.destroy$)).subscribe(oe=>{this.pageInitialized.emit(oe)}),(0,t.R)(P,"pagechanging").pipe((0,l.R)(this.destroy$)).subscribe(({pageNumber:oe})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=oe,this.pageChange.emit(oe)},100)}),(0,t.R)(P,"textlayerrendered").pipe((0,l.R)(this.destroy$)).subscribe(oe=>{this.textLayerRendered.emit(oe)}),this.pdfMultiPageLinkService=new w.PDFLinkService(Object.assign({eventBus:P},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new w.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:P});const q={eventBus:P,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:m.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0};this.pdfMultiPageViewer=new w.PDFViewer(q),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){r(a,"disableTextLayer",!this._renderText);const P=b(F,this.destroy$);(0,t.R)(P,"pagechanging").pipe((0,l.R)(this.destroy$)).subscribe(({pageNumber:oe})=>{oe!==this._page&&(this.page=oe)}),(0,t.R)(P,"pagerendered").pipe((0,l.R)(this.destroy$)).subscribe(oe=>{this.pageRendered.emit(oe)}),(0,t.R)(P,"pagesinit").pipe((0,l.R)(this.destroy$)).subscribe(oe=>{this.pageInitialized.emit(oe)}),(0,t.R)(P,"textlayerrendered").pipe((0,l.R)(this.destroy$)).subscribe(oe=>{this.textLayerRendered.emit(oe)}),this.pdfSinglePageLinkService=new w.PDFLinkService(Object.assign({eventBus:P},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new w.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:P});const q={eventBus:P,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:m.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new w.PDFSinglePageViewer(q),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(P){return P<1?1:P>this._pdf.numPages?this._pdf.numPages:P}getDocumentParams(){const P=typeof this.src;if(!this._cMapsUrl)return this.src;const q={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===P?q.url=this.src:"object"===P&&(void 0!==this.src.byteLength?q.data=this.src:Object.assign(q,this.src)),q}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=d.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=q=>{this.onProgress.emit(q)};const P=this.src;(0,s.D)(this.loadingTask.promise).pipe((0,l.R)(this.destroy$)).subscribe({next:q=>{this._pdf=q,this.lastLoaded=P,this.afterLoadComplete.emit(q),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:q=>{this.lastLoaded=null,this.onError.emit(q)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const P=this.getCurrentViewer();(0!==this._rotation||P.pagesRotation!==this._rotation)&&setTimeout(()=>{P.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{P.currentPageNumber=this._page}),this.updateSize()}getScale(P,q){const oe=this._showBorders?2*W.BORDER_WIDTH:0,ye=this.pdfViewerContainer.nativeElement.clientWidth-oe,Oe=this.pdfViewerContainer.nativeElement.clientHeight-oe;if(0===Oe||0===q||0===ye||0===P)return 1;let De=1;switch(this._zoomScale){case"page-fit":De=Math.min(Oe/q,ye/P);break;case"page-height":De=Oe/q;break;default:De=ye/P}return this._zoom*De/W.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){y()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){y()||this.ngZone.runOutsideAngular(()=>{(0,t.R)(window,"resize").pipe((0,f.b)(100),(0,k.h)(()=>this._canAutoResize&&!!this._pdf),(0,l.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return W.CSS_UNITS=96/72,W.BORDER_WIDTH=9,W.\u0275fac=function(P){return new(P||W)(e.Y36(e.SBq),e.Y36(e.R0b))},W.\u0275cmp=e.Xpm({type:W,selectors:[["pdf-viewer"]],viewQuery:function(P,q){if(1&P&&e.Gf(S,5),2&P){let oe;e.iGM(oe=e.CRH())&&(q.pdfViewerContainer=oe.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[e.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(P,q){1&P&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2),e.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=)}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),W})(),D=(()=>{class W{}return W.\u0275fac=function(P){return new(P||W)},W.\u0275mod=e.oAB({type:W}),W.\u0275inj=e.cJS({}),W})();var L=K(4004),V=K(520);let U=(()=>{class W{constructor(P){this._httpRequestService=P}uploadStudentWork(P){const q=new FormData;return q.append("files",P,P.name),this._httpRequestService.post("/api/attachments/upload",q)}createProject(P,q){return this._httpRequestService.post(`/api/task/${P}/project`,{title:"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430",description:"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430",attachments:q})}getSelfProjectByTaskId(P){return this._httpRequestService.get(`/api/task/${P}/project/self`).pipe((0,L.U)(q=>Array.isArray(q)?q:[q]))}openFile(P){return this._httpRequestService.get("/api/attachments/open",{params:{filename:P},responseType:"blob"})}getRandomProject(P){return this._httpRequestService.get(`/api/task/${P}/project/random`).pipe((0,L.U)(q=>Array.isArray(q)?q:[q]))}}return W.\u0275fac=function(P){return new(P||W)(e.LFG(V.eN))},W.\u0275prov=e.Yz7({token:W,factory:W.\u0275fac}),W})();var N=K(9751),I=K(951);let H=(()=>{class W{constructor(P,q){this._userBaseSerice=P,this._router=q}canActivate(){return new N.y(P=>{this._userBaseSerice.getUser().pipe((0,k.h)(q=>null!==q)).subscribe({next:q=>{q?P.next(!0):this._router.navigate(["login","student"])}})})}}return W.\u0275fac=function(P){return new(P||W)(e.LFG(I.J),e.LFG(ie.F0))},W.\u0275prov=e.Yz7({token:W,factory:W.\u0275fac}),W})();const R=function(){return["/cabinet/main"]},z=function(){return["/cabinet/works"]};function v(W,ce){if(1&W){const P=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"a",3),e._uU(3,"\u041c\u043e\u0438 \u043a\u043e\u043c\u043d\u0430\u0442\u044b"),e.qZA(),e.TgZ(4,"a",3),e._uU(5,"\u041c\u043e\u0438 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA()(),e.TgZ(6,"div",4)(7,"div",5),e.NdJ("click",function(){return e.CHM(P),e.oxw().exit()}),e._uU(8),e.qZA()()()}if(2&W){const P=ce.ngIf;e.xp6(2),e.Q6J("routerLink",e.DdM(4,R)),e.xp6(2),e.Q6J("routerLink",e.DdM(5,z)),e.xp6(4),e.AsE(" ",P.name.lastName," ",P.name.firstName," ")}}let c=(()=>{class W{constructor(P,q){this._userBaseService=P,this._router=q,this.currentItem="rooms",this.user$=this._userBaseService.getUser()}ngOnInit(){document.querySelector("body").style.background="#fff"}navigatePage(P){switch(this.currentItem=P,P){case"rooms":this._router.navigate(["cabinet","main"]);break;case"works":this._router.navigate(["cabinet","works"])}}exit(){(0,e.X6Q)()&&(console.log("\u0432\u044b\u0445\u043e\u0434 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"),console.log("cookie cleared"),console.log("localstorage cleared"),console.log("local user removed")),localStorage.clear(),this._userBaseService.setUser(null),this._router.navigate(["login","student"])}}return W.\u0275fac=function(P){return new(P||W)(e.Y36(I.J),e.Y36(ie.F0))},W.\u0275cmp=e.Xpm({type:W,selectors:[["ng-component"]],decls:3,vars:3,consts:[["class","header",4,"ngIf"],[1,"header"],[1,"header__menu"],["routerLinkActive","header__menu__current",3,"routerLink"],[1,"header__username"],[3,"click"]],template:function(P,q){1&P&&(e.YNc(0,v,9,6,"div",0),e.ALo(1,"async"),e._UZ(2,"router-outlet")),2&P&&e.Q6J("ngIf",e.lcZ(1,1,q.user$))},directives:[p.O5,ie.yS,ie.Od,ie.lC],pipes:[p.Ov],styles:[".header[_ngcontent-%COMP%]{padding-top:60px;position:relative;box-shadow:0 0 15px #0000001a;padding-bottom:60px;z-index:2;background-color:#fff}.header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.header__menu[_ngcontent-%COMP%]{display:flex;font-size:24px;width:400px;margin:0 auto}.header__menu__current[_ngcontent-%COMP%]{font-weight:700}.header__menu[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:first-child{margin-right:35px}.header__menu[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:last-child{margin-left:35px}.header__username[_ngcontent-%COMP%]{position:absolute;font-size:24px;left:10%;top:50%;transform:translate(-50%,-50%)}"]}),W})();var o=K(4970),C=K(1037),_=K(4128);let T=(()=>{class W{constructor(P){this._roomService=P,this.onArrowClick=new e.vpe,this.allCount=0,this._onDestroy$=new u.x}ngOnDestroy(){this._onDestroy$.next()}arrowClick(){this.onArrowClick.emit()}ngOnInit(){(0,_.D)([this._roomService.getTeachersByRoomdId(this.roomId,0,1e3),this._roomService.getStudentsByRoomId(this.roomId,0,1e3)]).pipe((0,l.R)(this._onDestroy$),(0,L.U)(([P,q])=>P.length+q.length)).subscribe({next:P=>{this.allCount=P}})}}return W.\u0275fac=function(P){return new(P||W)(e.Y36(C.X))},W.\u0275cmp=e.Xpm({type:W,selectors:[["room-item"]],inputs:{title:"title",roomCount:"roomCount",roomId:"roomId"},outputs:{onArrowClick:"onArrowClick"},decls:12,vars:3,consts:[[1,"room"],[1,"room__arrow",3,"click"],["width","31","height","16","viewBox","0 0 31 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M29.8349 8.70711C30.2254 8.31659 30.2254 7.68342 29.8349 7.2929L23.4709 0.928935C23.0804 0.538411 22.4472 0.53841 22.0567 0.928935C21.6662 1.31946 21.6662 1.95262 22.0567 2.34315L27.7136 8L22.0567 13.6569C21.6662 14.0474 21.6662 14.6805 22.0567 15.0711C22.4472 15.4616 23.0804 15.4616 23.4709 15.0711L29.8349 8.70711ZM0.378906 9L29.1278 9L29.1278 7L0.378906 7L0.378906 9Z","fill","#767676"],[1,"room__id"],[1,"room__title"],[1,"room__count"],[1,"count"]],template:function(P,q){1&P&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return q.arrowClick()}),e.O4$(),e.TgZ(2,"svg",2),e._UZ(3,"path",3),e.qZA()(),e.kcU(),e.TgZ(4,"div",4),e._uU(5),e.qZA(),e.TgZ(6,"div",5),e._uU(7),e.qZA(),e.TgZ(8,"div",6),e._uU(9,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \xa0\xa0"),e.TgZ(10,"span",7),e._uU(11),e.qZA()()()),2&P&&(e.xp6(5),e.hij("\u041a\u043e\u043c\u043d\u0430\u0442\u0430 ",q.roomCount,""),e.xp6(2),e.Oqu(q.title),e.xp6(4),e.Oqu(q.allCount))},styles:[".room[_ngcontent-%COMP%]{border-left:10px solid #7256FD;background-color:#fff;padding:50px;box-shadow:0 0 15px #0000001a;position:relative}.room__id[_ngcontent-%COMP%]{font-size:18px;color:#767676;margin-bottom:18px}.room__arrow[_ngcontent-%COMP%]{position:absolute;top:120px;right:70px;cursor:pointer}.room__title[_ngcontent-%COMP%]{font-size:36px;width:400px;margin-bottom:75px;line-height:30px}.room__count[_ngcontent-%COMP%]{margin-bottom:-30px;font-size:18px}.count[_ngcontent-%COMP%]{color:#fe7451;font-weight:700}"]}),W})();var i=K(393);const x=function(W){return{room__item__last:W}};function E(W,ce){if(1&W){const P=e.EpF();e.TgZ(0,"div")(1,"div",4)(2,"room-item",5),e.NdJ("onArrowClick",function(){const ye=e.CHM(P).$implicit;return e.oxw(3).navigateToRoom(ye.id)}),e.qZA()()()}if(2&W){const P=ce.$implicit,q=ce.last,oe=ce.index;e.xp6(1),e.Q6J("ngClass",e.VKq(4,x,q)),e.xp6(1),e.Q6J("roomId",P.id)("roomCount",oe+1)("title",P.title)}}function B(W,ce){if(1&W&&(e.TgZ(0,"div"),e.YNc(1,E,3,6,"div",3),e.qZA()),2&W){const P=e.oxw().ngIf;e.xp6(1),e.Q6J("ngForOf",P)}}function g(W,ce){if(1&W){const P=e.EpF();e.TgZ(0,"div",6)(1,"div",7),e._uU(2," \u0423\u041f\u0421! \u0423 \u0412\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043a\u043e\u043c\u043d\u0430\u0442\u044b "),e.qZA(),e.TgZ(3,"div",8)(4,"div")(5,"tui-input",9),e._uU(6," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u043a\u043e\u043c\u043d\u0430\u0442\u044b "),e._UZ(7,"input",10),e.qZA()(),e.TgZ(8,"div")(9,"button",11),e.NdJ("click",function(){return e.CHM(P),e.oxw(2).joinRoom()}),e._uU(10," \u0412\u043e\u0439\u0442\u0438 "),e.qZA()()()()}if(2&W){const P=e.oxw(2);e.Q6J("formGroup",P.controlsGroup)}}function j(W,ce){if(1&W&&(e.ynx(0),e.TgZ(1,"div",1),e.YNc(2,B,2,1,"div",0),e.YNc(3,g,11,1,"div",2),e.qZA(),e.BQk()),2&W){const P=ce.ngIf;e.xp6(2),e.Q6J("ngIf",P.length),e.xp6(1),e.Q6J("ngIf",!P.length)}}let X=(()=>{class W extends o.L{constructor(P,q){super(),this._roomService=P,this._router=q,this._subjectDestroy$=new u.x,document.querySelector("body").style.background="#fff"}ngOnDestroy(){this._subjectDestroy$.next()}joinRoom(){this._roomService.joinStudentToRoom(this.getFormValue("code")).pipe((0,l.R)(this._subjectDestroy$)).subscribe(()=>this.updateRoom())}navigateToRoom(P){this._router.navigate(["cabinet","room",P])}ngOnInit(){this.updateRoom()}updateRoom(){this.allRooms$=this._roomService.getRooms(0,100).pipe((0,l.R)(this._subjectDestroy$))}getControls(){return new le.cw({code:new le.NI("",[le.kI.required])})}}return W.\u0275fac=function(P){return new(P||W)(e.Y36(C.X),e.Y36(ie.F0))},W.\u0275cmp=e.Xpm({type:W,selectors:[["ng-component"]],features:[e.qOj],decls:2,vars:3,consts:[[4,"ngIf"],[1,"room"],["class","room__empty",3,"formGroup",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"room__item",3,"ngClass"],[3,"roomId","roomCount","title","onArrowClick"],[1,"room__empty",3,"formGroup"],[1,"room__empty__alert"],[1,"room__empty__container"],["formControlName","code",1,"room__empty__code_field"],["tuiTextfield","","placeholder","","type","text"],["tuiButton","","type","button","appearance","primary",1,"room__empty__button_login",3,"click"]],template:function(P,q){1&P&&(e.YNc(0,j,4,2,"ng-container",0),e.ALo(1,"async")),2&P&&e.Q6J("ngIf",e.lcZ(1,1,q.allRooms$))},directives:[p.O5,p.sg,p.mk,T,le.JL,le.sg,te.K3,te.wU,le.JJ,le.u,i.MB,se.v0],pipes:[p.Ov],styles:[".room[_ngcontent-%COMP%]{margin-top:100px}.room__item[_ngcontent-%COMP%]{width:85%;margin:0 auto 30px}.room__item__last[_ngcontent-%COMP%]{margin-bottom:200px}.room__empty[_ngcontent-%COMP%]{margin:100px auto;width:65%}.room__empty__alert[_ngcontent-%COMP%]{font-weight:700;font-size:80px;line-height:1;text-align:center}.room__empty__container[_ngcontent-%COMP%]{width:60%;margin:40px auto}.room__empty__code_field[_ngcontent-%COMP%]{border-radius:0;width:100%}.room__empty__button_login[_ngcontent-%COMP%]{border-radius:0;width:100%;margin-top:40px}"]}),W})();function $(W,ce){1&W&&(e.TgZ(0,"div",2)(1,"h1"),e._uU(2,"\u0423 \u0432\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u0441\u0434\u0430\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA()())}function Q(W,ce){if(1&W&&(e.TgZ(0,"div",6)(1,"div",7),e._uU(2),e.qZA(),e.TgZ(3,"div",8),e._uU(4),e.qZA()()),2&W){const P=ce.$implicit,q=ce.index;e.xp6(2),e.hij("\u0417\u0430\u0434\u0430\u043d\u0438\u0435 ",q+1,""),e.xp6(2),e.Oqu(P.title)}}function ne(W,ce){if(1&W&&(e.TgZ(0,"div",3)(1,"div",4),e._uU(2),e.qZA(),e.YNc(3,Q,5,2,"div",5),e.qZA()),2&W){const P=ce.$implicit,q=ce.index;e.xp6(2),e.hij("\u041a\u043e\u043c\u043d\u0430\u0442\u0430 ",q+1,""),e.xp6(1),e.Q6J("ngForOf",P.tasks)}}let he=(()=>{class W{constructor(P){this._roomService=P,this.tasks=[]}ngOnInit(){document.querySelector("body").style.background="#866EFF0D",this._roomService.getRooms(0,1e3).pipe((0,L.U)(P=>P.map(q=>q.id))).subscribe({next:P=>{P.forEach(q=>{this._roomService.getTasks(q).subscribe({next:oe=>{const ye={};ye.id=q,ye.tasks=oe,this.tasks.push(ye)}})})}})}}return W.\u0275fac=function(P){return new(P||W)(e.Y36(C.X))},W.\u0275cmp=e.Xpm({type:W,selectors:[["ng-component"]],decls:4,vars:2,consts:[["class","empty",4,"ngIf"],["class","list",4,"ngFor","ngForOf"],[1,"empty"],[1,"list"],[1,"list__room"],["class","list__project",4,"ngFor","ngForOf"],[1,"list__project"],[1,"list__project__count"],[1,"list__project__title"]],template:function(P,q){1&P&&(e.TgZ(0,"h1"),e._uU(1,"\u041c\u043e\u0438 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.YNc(2,$,3,0,"div",0),e.YNc(3,ne,4,2,"div",1)),2&P&&(e.xp6(2),e.Q6J("ngIf",!q.tasks.length),e.xp6(1),e.Q6J("ngForOf",q.tasks))},directives:[p.O5,p.sg],styles:[".list[_ngcontent-%COMP%]{display:block;margin:auto;width:80%}.list[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:80px;font-weight:700}.list__room[_ngcontent-%COMP%]{font-size:24px;margin-top:80px;margin-bottom:25px}.list__project[_ngcontent-%COMP%]{background:#FFFFFF;box-shadow:0 0 15px #0000001a;height:120px;margin-bottom:20px;padding-left:50px}.list__project__title[_ngcontent-%COMP%]{font-size:24px}.list__project__count[_ngcontent-%COMP%]{line-height:60px;font-size:18px;color:#767676}h1[_ngcontent-%COMP%]{text-align:left;font-weight:700;font-size:54px;margin-left:140px}.empty[_ngcontent-%COMP%]{margin:150px auto;display:block;width:80%}"]}),W})(),ue=(()=>{class W{}return W.\u0275fac=function(P){return new(P||W)},W.\u0275cmp=e.Xpm({type:W,selectors:[["ng-component"]],decls:7,vars:0,consts:[[1,"container"],[1,"container__404"],[1,"container__404__number"],[1,"container__page-not-found"]],template:function(P,q){1&P&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," \u041e\u0448\u0438\u0431\u043a\u0430 "),e.TgZ(3,"span",2),e._uU(4,"404"),e.qZA()(),e.TgZ(5,"div",3),e._uU(6," \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430 "),e.qZA()())},styles:[".container[_ngcontent-%COMP%]{margin:15% auto;display:block;width:500px;height:auto;line-height:130px}.container__404[_ngcontent-%COMP%]{font-size:80px;text-align:center;font-weight:700}.container__404__number[_ngcontent-%COMP%]{color:#6e57e0}.container__page-not-found[_ngcontent-%COMP%]{font-size:24px;text-align:center}"]}),W})();var ge=K(3900),h=K(5698);let O=(()=>{class W{constructor(P){this._httpRequestService=P}getProjectMark(P){return this._httpRequestService.get("/api/marks/"+P)}setWorkMark(P,q,oe){return this._httpRequestService.post("/api/marks/mark",{projectId:P,profileId:q,markStepValues:oe,comment:""})}}return W.\u0275fac=function(P){return new(P||W)(e.LFG(V.eN))},W.\u0275prov=e.Yz7({token:W,factory:W.\u0275fac}),W})();const ee=["grade"],G=["input"];function Y(W,ce){if(1&W&&(e.TgZ(0,"div",6)(1,"div",7),e._uU(2,"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430"),e.qZA(),e.TgZ(3,"div",8),e._uU(4),e.qZA()()),2&W){const P=e.oxw(2);e.xp6(4),e.hij("",P.mark,"/100")}}function ae(W,ce){1&W&&(e.TgZ(0,"div",9),e._UZ(1,"div",10,11),e.qZA())}function pe(W,ce){1&W&&(e.TgZ(0,"div",12)(1,"div",13),e._uU(2,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),e.qZA(),e.TgZ(3,"div",14),e._uU(4,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),e.qZA()())}function fe(W,ce){if(1&W){const P=e.EpF();e.TgZ(0,"div")(1,"label",15),e._uU(2,"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443"),e.qZA(),e.TgZ(3,"input",16,17),e.NdJ("change",function(oe){return e.CHM(P),e.oxw(2).uploadWork(oe.target)}),e.qZA()()}}function Ae(W,ce){if(1&W&&(e.TgZ(0,"div"),e._UZ(1,"pdf-viewer",18),e.qZA()),2&W){const P=e.oxw(2);e.xp6(1),e.Q6J("src",P.pdfSrc)("render-text",!0)("original-size",!1)}}function ve(W,ce){if(1&W&&(e.TgZ(0,"div")(1,"h1"),e._uU(2),e.qZA(),e.TgZ(3,"div",1),e._uU(4),e.qZA(),e.YNc(5,Y,5,1,"div",2),e.YNc(6,ae,3,0,"div",3),e.YNc(7,pe,5,0,"div",4),e.YNc(8,fe,5,0,"div",0),e.YNc(9,Ae,2,3,"div",5),e.qZA()),2&W){const P=ce.ngIf,q=e.oxw();e.xp6(2),e.hij("\u0417\u0430\u0434\u0430\u043d\u0438\u0435 ",q.projectIndex,""),e.xp6(2),e.Oqu(P.title),e.xp6(1),e.Q6J("ngIf",q.project.length),e.xp6(1),e.Q6J("ngIf",q.project.length),e.xp6(1),e.Q6J("ngIf",q.project.length),e.xp6(1),e.Q6J("ngIf",!q.project.length),e.xp6(1),e.Q6J("ngForOf",q.project)}}let Ce=(()=>{class W{constructor(P,q,oe,ye,Oe){this._activatedRouter=P,this._roomService=q,this._fileManager=oe,this._markService=ye,this._renderer=Oe,this.mark="0",this.project=[],this.fileBackendKey=[]}ngOnInit(){this._activatedRouter.parent.params.subscribe(P=>{this.roomId=P.id,this.taskId=this._activatedRouter.snapshot.paramMap.params.id}),this._activatedRouter.queryParamMap.pipe((0,L.U)(P=>P.get("index"))).subscribe(P=>{this.projectIndex=P}),this.task$=this._roomService.getTaskById(this.taskId),this._fileManager.getSelfProjectByTaskId(this.taskId).subscribe({next:P=>{this.project=P,P&&this.openWork(P[0].attachments[0]),this._markService.getProjectMark(P[0].id).subscribe({next:q=>{this.mark=q[0].markValue.toString(),this._renderer.setStyle(this.rangeControl.nativeElement,"width",this.mark+"%")}})}})}uploadWork(P){const q=P.files.item(0);this._fileManager.uploadStudentWork(q).pipe((0,ge.w)(oe=>this._fileManager.createProject(this.taskId,oe))).subscribe(()=>{this._fileManager.getSelfProjectByTaskId(this.taskId).subscribe({next:oe=>{this.project=oe,oe&&this.openWork(oe[0].attachments[0])}})})}openWork(P){this._fileManager.openFile(P).pipe((0,h.q)(1)).subscribe({next:q=>{let oe=new Blob([q],{type:"application/pdf"}),ye=window.URL.createObjectURL(oe);this.pdfSrc=ye}})}}return W.\u0275fac=function(P){return new(P||W)(e.Y36(ie.gz),e.Y36(C.X),e.Y36(U),e.Y36(O),e.Y36(e.Qsj))},W.\u0275cmp=e.Xpm({type:W,selectors:[["ng-component"]],viewQuery:function(P,q){if(1&P&&(e.Gf(ee,5),e.Gf(G,5)),2&P){let oe;e.iGM(oe=e.CRH())&&(q.rangeControl=oe.first),e.iGM(oe=e.CRH())&&(q.input=oe.first)}},decls:2,vars:3,consts:[[4,"ngIf"],[1,"title"],["class","grade",4,"ngIf"],["class","scale",4,"ngIf"],["class","actions",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"grade"],[1,"grade__current"],[1,"grade__percent"],[1,"scale"],[1,"scale__linear"],["grade",""],[1,"actions"],[1,"actions__edit"],[1,"actions__delete"],["for","file",1,"upload-work"],["id","file","accept","application/pdf","type","file",2,"display","none",3,"change"],["input",""],[2,"width","100%","height","500px","box-shadow","0px 0px 15px rgba(0, 0, 0, 0.1)",3,"src","render-text","original-size"]],template:function(P,q){1&P&&(e.YNc(0,ve,10,7,"div",0),e.ALo(1,"async")),2&P&&e.Q6J("ngIf",e.lcZ(1,1,q.task$))},directives:[p.O5,p.sg,A],pipes:[p.Ov],styles:["h1[_ngcontent-%COMP%]{font-size:80px}.upload[_ngcontent-%COMP%]{font-size:24px;color:#7256fd;font-weight:700;cursor:pointer}.title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.actions__edit[_ngcontent-%COMP%]{color:#7256fd;font-size:24px;font-weight:700}.actions__delete[_ngcontent-%COMP%]{color:#fe5151;font-weight:700;font-size:24px}.grade[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:-23px}.grade__current[_ngcontent-%COMP%]{font-size:18px}.scale[_ngcontent-%COMP%]{width:100%;height:20px;background:#FFFFFF;box-shadow:0 0 15px #0000001a;margin-bottom:40px}.scale__linear[_ngcontent-%COMP%]{width:0%;height:100%;background-color:#17f5b3}.upload-work[_ngcontent-%COMP%]{font-weight:700;font-size:24px;color:#7256fd}"]}),W})();var we=K(9841),Me=K(2171);const Se=["range"];function Ee(W,ce){if(1&W){const P=e.EpF();e.TgZ(0,"div",12),e.NdJ("click",function(){return e.CHM(P),e.oxw(2).saveWork()}),e._uU(1,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),e.qZA()}}function Ne(W,ce){if(1&W){const P=e.EpF();e.TgZ(0,"div",13),e.NdJ("click",function(){return e.CHM(P),e.oxw(2).isRangeSaved=!1}),e._uU(1,"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),e.qZA()}}function Re(W,ce){if(1&W&&(e.TgZ(0,"div"),e._UZ(1,"pdf-viewer",14),e.qZA()),2&W){const P=e.oxw(2);e.xp6(1),e.Q6J("src",P.pdfSrc)("render-text",!0)("original-size",!1)}}function re(W,ce){if(1&W){const P=e.EpF();e.TgZ(0,"div")(1,"h1"),e._uU(2,"\u041e\u0446\u0435\u043d\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.TgZ(3,"div",1),e._uU(4),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"div",4),e._uU(8),e.qZA(),e.YNc(9,Ee,2,0,"div",5),e.YNc(10,Ne,2,0,"div",6),e.qZA(),e.TgZ(11,"input",7,8),e.NdJ("input",function(){e.CHM(P);const oe=e.MAs(12);return e.oxw().checkValue(oe.value)}),e.qZA(),e._UZ(13,"div",9),e.qZA(),e.TgZ(14,"div",10),e.NdJ("click",function(){return e.CHM(P),e.oxw().downloadWork()}),e._uU(15," \u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 "),e.qZA(),e.YNc(16,Re,2,3,"div",11),e.qZA()}if(2&W){const P=ce.ngIf,q=e.oxw();e.xp6(4),e.Oqu(P.title),e.xp6(4),e.hij("\u041e\u0446\u0435\u043d\u043a\u0430 ",q.mark,"/100"),e.xp6(1),e.Q6J("ngIf",!q.isRangeSaved),e.xp6(1),e.Q6J("ngIf",q.isRangeSaved),e.xp6(1),e.Q6J("disabled",q.isRangeSaved),e.xp6(5),e.Q6J("ngForOf",q.project)}}let Z=(()=>{class W{constructor(P,q,oe,ye,Oe,De){this._activatedRoute=P,this._fileManager=q,this._roomService=oe,this._notificationService=ye,this._markService=Oe,this._userService=De,this.mark="0",this.isRangeSaved=!1,this.project=[]}ngOnInit(){this._userService.getUser().subscribe({next:P=>{this.userId=P.id}}),(0,we.a)([this._activatedRoute.parent.params,this._activatedRoute.params,this._activatedRoute.queryParams]).subscribe({next:P=>{this.roomId=P[0].id,this.projectId=P[1].workId,this.taskId=P[2].task}}),this.task$=this._roomService.getTaskById(this.taskId),this._fileManager.getSelfProjectByTaskId(this.taskId).subscribe({next:P=>{this.project=P,P&&this.openWork(P[0].attachments[0])}})}saveWork(){this._markService.setWorkMark(this.projectId,this.userId,[parseInt(this.mark)]).subscribe({next:()=>{this.isRangeSaved=!0,this._notificationService.subject$.next({text:"\u0420\u0430\u0431\u043e\u0442\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0446\u0435\u043d\u0435\u043d\u0430",status:"success"})}})}downloadWork(){window.open(this.pdfSrc)}checkValue(P){this.mark=P}openWork(P){this._fileManager.openFile(P).pipe((0,h.q)(1)).subscribe({next:q=>{let oe=new Blob([q],{type:"application/pdf"}),ye=window.URL.createObjectURL(oe);this.pdfSrc=ye}})}}return W.\u0275fac=function(P){return new(P||W)(e.Y36(ie.gz),e.Y36(U),e.Y36(C.X),e.Y36(Me.j),e.Y36(O),e.Y36(I.J))},W.\u0275cmp=e.Xpm({type:W,selectors:[["ng-component"]],viewQuery:function(P,q){if(1&P&&e.Gf(Se,5),2&P){let oe;e.iGM(oe=e.CRH())&&(q.rangeControl=oe.first)}},decls:2,vars:3,consts:[[4,"ngIf"],[1,"title"],[2,"position","relative"],[1,"actions"],[1,"mark"],["class","save",3,"click",4,"ngIf"],["class","change",3,"click",4,"ngIf"],["type","range","min","0","max","100","step","1","value","0",1,"range",3,"disabled","input"],["range",""],[1,"progress-bar"],[1,"download",3,"click"],[4,"ngFor","ngForOf"],[1,"save",3,"click"],[1,"change",3,"click"],[2,"width","100%","height","500px","box-shadow","0px 0px 15px rgba(0, 0, 0, 0.1)",3,"src","render-text","original-size"]],template:function(P,q){1&P&&(e.YNc(0,re,17,6,"div",0),e.ALo(1,"async")),2&P&&e.Q6J("ngIf",e.lcZ(1,1,q.task$))},directives:[p.O5,p.sg,A],pipes:[p.Ov],styles:["h1[_ngcontent-%COMP%]{font-size:60px}.download[_ngcontent-%COMP%]{font-size:24px;color:#7256fd;font-weight:700;cursor:pointer;display:block}@media screen and (-webkit-min-device-pixel-ratio: 0){input[type=range][_ngcontent-%COMP%]{overflow:hidden;width:100%;height:20px;-webkit-appearance:none;background-color:#fff;box-shadow:0 0 15px #0000001a}input[type=range][_ngcontent-%COMP%]::-webkit-slider-runnable-track{height:20px;-webkit-appearance:none;color:#13bba4;margin-top:-1px}input[type=range][_ngcontent-%COMP%]::-webkit-slider-thumb{width:10px;-webkit-appearance:none;height:25px;cursor:ew-resize;background:#434343;box-shadow:-400px 0 0 400px #17f5b3}}input[type=range][_ngcontent-%COMP%]::-moz-range-progress{background-color:#17f5b3}input[type=range][_ngcontent-%COMP%]::-moz-range-track{background-color:#fff}input[type=range][_ngcontent-%COMP%]::-ms-fill-lower{background-color:#17f5b3}input[type=range][_ngcontent-%COMP%]::-ms-fill-upper{background-color:#fff}.title[_ngcontent-%COMP%]{font-size:24px;margin-top:-30px;margin-bottom:90px}.mark[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:-25px}.save[_ngcontent-%COMP%]{font-size:24px;color:#7256fd;font-weight:700}.change[_ngcontent-%COMP%]{font-size:24px;color:#fe5151;font-weight:700}"]}),W})();function J(W,ce){1&W&&(e.TgZ(0,"div",3),e._uU(1,"\u041d\u0435\u0442 \u0440\u0430\u0431\u043e\u0442 \u0434\u043b\u044f \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u043d\u0438\u044f"),e.qZA())}const _e=function(W,ce,P){return{green:W,yellow:ce,red:P}};function me(W,ce){if(1&W){const P=e.EpF();e.TgZ(0,"div")(1,"div",4),e.NdJ("click",function(){const ye=e.CHM(P).$implicit;return e.oxw().toWorkDetails(ye[0][0].id)}),e.TgZ(2,"div",5),e._uU(3),e.qZA(),e.TgZ(4,"div",6),e._uU(5),e.qZA(),e.TgZ(6,"div",7),e._uU(7),e.qZA()()()}if(2&W){const P=ce.$implicit,q=ce.index;e.xp6(1),e.Q6J("ngClass",e.kEZ(4,_e,P[0][0].grade>80,P[0][0].grade<80&&P[0][0].grade>=40,P[0][0].grade<40)),e.xp6(2),e.hij("",P[0][0].grade,"/100"),e.xp6(2),e.hij("\u0417\u0430\u0434\u0430\u043d\u0438\u0435 ",q+1,""),e.xp6(2),e.Oqu(P[0][0].title)}}let Pe=(()=>{class W{constructor(P,q,oe,ye,Oe){this._projectService=P,this._roomService=q,this._markService=oe,this.activatedRouter=ye,this._router=Oe,this.evaluate=[],this.tasks=[],ye.parent.params.subscribe(De=>{this.roomId=De.id})}ngOnInit(){this._roomService.getRooms(0,1e4).pipe((0,ge.w)(()=>this._roomService.getTasks(parseInt(this.roomId))),(0,L.U)(P=>(this.tasks=P,P.map(q=>q.id))),(0,ge.w)(P=>(0,_.D)([...P.map(q=>this._projectService.getRandomProject(q))])),(0,ge.w)(P=>(0,_.D)([...P.filter(q=>q[0]).map((q,oe)=>{var ye;return this._markService.getProjectMark(null===(ye=q[0])||void 0===ye?void 0:ye.id).pipe((0,L.U)(Oe=>{var De;const qe={grade:0|(null===(De=Oe[0])||void 0===De?void 0:De.markValue)};return[[Object.assign(P[oe][0],qe)]]}))})]))).subscribe({next:P=>{this.evaluate=P}})}toWorkDetails(P){var q;const oe=null===(q=this.tasks.find(ye=>ye.roomId===parseInt(this.roomId)))||void 0===q?void 0:q.id;this._router.navigate(["cabinet","room",this.roomId,"work",P],{queryParams:{task:oe}})}}return W.\u0275fac=function(P){return new(P||W)(e.Y36(U),e.Y36(C.X),e.Y36(O),e.Y36(ie.gz),e.Y36(ie.F0))},W.\u0275cmp=e.Xpm({type:W,selectors:[["ng-component"]],decls:5,vars:2,consts:[[1,"evaluate"],["style","font-size: 24px;",4,"ngIf"],[4,"ngFor","ngForOf"],[2,"font-size","24px"],[1,"evaluate__container",3,"ngClass","click"],[1,"evaluate__container__grade"],[1,"evaluate__container__count"],[1,"evaluate__container__title"]],template:function(P,q){1&P&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b"),e.qZA(),e.YNc(3,J,2,0,"div",1),e.YNc(4,me,8,8,"div",2),e.qZA()),2&P&&(e.xp6(3),e.Q6J("ngIf",!q.evaluate.length),e.xp6(1),e.Q6J("ngForOf",q.evaluate))},directives:[p.O5,p.sg,p.mk],styles:[".evaluate[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:70px}.evaluate[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{border-right:5px solid #17F5B3}.evaluate[_ngcontent-%COMP%]   .red[_ngcontent-%COMP%]{border-right:5px solid red}.evaluate[_ngcontent-%COMP%]   .yellow[_ngcontent-%COMP%]{border-right:5px solid #FBF10E}.evaluate__container[_ngcontent-%COMP%]{background:#FFFFFF;box-shadow:0 0 15px #0000001a;padding:0 0 40px 60px;margin-bottom:30px;position:relative;cursor:pointer}.evaluate__container__count[_ngcontent-%COMP%]{color:#767676;font-size:18px}.evaluate__container__title[_ngcontent-%COMP%]{color:#1a1a1a;font-size:36px;width:60%;line-height:42px}.evaluate__container__grade[_ngcontent-%COMP%]{position:absolute;top:-10px;right:30px;font-size:18px}"]}),W})();const xe=function(){return["info"]},Be=function(){return["evaluate"]};function Ue(W,ce){if(1&W){const P=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"ul")(3,"li",3),e._uU(4," \u041a\u043e\u043c\u043d\u0430\u0442\u0430 "),e.qZA(),e.TgZ(5,"li",3),e._uU(6," \u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438"),e.qZA(),e.TgZ(7,"li",3),e._uU(8," \u041e\u0446\u0435\u043d\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b "),e.qZA(),e.TgZ(9,"li",3),e._uU(10," \u041e\u0446\u0435\u043d\u0435\u043d\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b "),e.qZA()(),e.TgZ(11,"div",4),e.NdJ("click",function(){return e.CHM(P),e.oxw().joinRoom()}),e._uU(12," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043d\u0430\u0442\u0443 "),e.qZA()(),e.TgZ(13,"div",5),e._UZ(14,"router-outlet"),e.qZA()()}2&W&&(e.xp6(3),e.Q6J("routerLink",e.DdM(4,xe)),e.xp6(2),e.Q6J("routerLink",e.DdM(5,xe)),e.xp6(2),e.Q6J("routerLink",e.DdM(6,Be)),e.xp6(2),e.Q6J("routerLink",e.DdM(7,xe)))}let Ve=(()=>{class W{constructor(P,q,oe){this._activatedRouter=P,this._roomService=q,this._router=oe,this._destroySubj$=new u.x}ngOnInit(){document.querySelector("body").style.background="#866EFF0D",this.roomId=this._activatedRouter.snapshot.paramMap.get("id"),this.room$=this._roomService.getRoomById(parseInt(this.roomId)).pipe((0,l.R)(this._destroySubj$))}joinRoom(){this._router.navigate(["cabinet","join"])}ngOnDestroy(){this._destroySubj$.next()}}return W.\u0275fac=function(P){return new(P||W)(e.Y36(ie.gz),e.Y36(C.X),e.Y36(ie.F0))},W.\u0275cmp=e.Xpm({type:W,selectors:[["ng-component"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"container__menu"],["routerLinkActive","container__menu__current",3,"routerLink"],[1,"container__menu__join",3,"click"],[1,"container__info"]],template:function(P,q){1&P&&(e.YNc(0,Ue,15,8,"div",0),e.ALo(1,"async")),2&P&&e.Q6J("ngIf",e.lcZ(1,1,q.room$))},directives:[p.O5,ie.Od,ie.rH,ie.lC],pipes:[p.Ov],styles:[".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 2fr}.container__menu[_ngcontent-%COMP%]{height:100vh;background-color:#fff;position:relative}.container__menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%);top:60px}.container__menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:24px;line-height:64px}.container__menu__current[_ngcontent-%COMP%]{font-weight:700}.container__menu__join[_ngcontent-%COMP%]{position:absolute;font-size:24px;bottom:200px;left:50%;transform:translate(-50%);cursor:pointer}.container__current_task[_ngcontent-%COMP%]{font-size:24px;margin-top:25px}.container__info[_ngcontent-%COMP%]{margin:12px auto;width:80%;line-height:80px;text-align:left}.container__info__add_task[_ngcontent-%COMP%]{color:#fe7451;font-size:24px;cursor:pointer}h1[_ngcontent-%COMP%]{font-size:80px}"]}),W})(),Ie=(()=>{class W{constructor(){this.onTaskClick=new e.vpe}clickTask(){this.onTaskClick.emit()}}return W.\u0275fac=function(P){return new(P||W)},W.\u0275cmp=e.Xpm({type:W,selectors:[["task-item"]],inputs:{task:"task",index:"index"},outputs:{onTaskClick:"onTaskClick"},decls:5,vars:2,consts:[[1,"room",3,"click"],[1,"room__id"],[1,"room__title"]],template:function(P,q){1&P&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return q.clickTask()}),e.TgZ(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e._uU(4),e.qZA()()),2&P&&(e.xp6(2),e.hij(" \u0417\u0430\u0434\u0430\u043d\u0438\u0435 ",q.index," "),e.xp6(2),e.hij(" ",q.task.title," "))},styles:[".room[_ngcontent-%COMP%]{border-left:6px solid #7256FD;background-color:#fff;height:110px;box-shadow:0 0 15px #0000001a;line-height:20px;padding:18px 0 0 47px;margin-bottom:20px;position:relative}.room__id[_ngcontent-%COMP%]{font-size:18px;color:#767676;margin-bottom:35px}.room__title[_ngcontent-%COMP%]{font-size:24px}"]}),W})();function We(W,ce){if(1&W&&(e.TgZ(0,"h1"),e._uU(1),e.qZA()),2&W){const P=e.oxw();e.xp6(1),e.Oqu(P.room.title)}}function je(W,ce){1&W&&(e.TgZ(0,"div",3),e._uU(1,"\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f:"),e.qZA())}function He(W,ce){1&W&&(e.TgZ(0,"div",3),e._uU(1,"\u0412 \u044d\u0442\u043e\u0439 \u043a\u043e\u043c\u043d\u0430\u0442\u0435 \u0435\u0449\u0435 \u043d\u0435\u0442 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0437\u0430\u0434\u0430\u043d\u0438\u044f "),e.qZA())}function Le(W,ce){if(1&W){const P=e.EpF();e.TgZ(0,"div")(1,"task-item",4),e.NdJ("onTaskClick",function(){const oe=e.CHM(P),ye=oe.$implicit,Oe=oe.index;return e.oxw(2).navigateToDetails(ye.id,Oe+1)}),e.qZA()()}if(2&W){const P=ce.$implicit,q=ce.index;e.xp6(1),e.Q6J("task",P)("index",q+1)}}function Ge(W,ce){if(1&W&&(e.ynx(0),e.YNc(1,je,2,0,"div",1),e.YNc(2,He,2,0,"div",1),e.YNc(3,Le,2,2,"div",2),e.BQk()),2&W){const P=ce.ngIf;e.xp6(1),e.Q6J("ngIf",P.length),e.xp6(1),e.Q6J("ngIf",!P.length),e.xp6(1),e.Q6J("ngForOf",P)}}const $e=[{path:"",component:c,canActivate:[H],children:[{path:"",pathMatch:"full",redirectTo:"main"},{path:"main",component:X},{path:"join",component:(()=>{class W extends o.L{constructor(P,q,oe){super(),this._roomService=P,this._router=q,this._notificationService=oe,this._subjectDestroy$=new u.x}ngOnDestroy(){this._subjectDestroy$.next()}joinRoom(){this._roomService.joinStudentToRoom(this.getFormValue("code")).pipe((0,l.R)(this._subjectDestroy$)).subscribe({next:()=>{this._notificationService.subject$.next({status:"success",text:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0438\u0441\u044c \u0432 \u043a\u043e\u043c\u043d\u0430\u0442\u0443"}),this._router.navigate(["cabinet","main"])},error:()=>{this._notificationService.subject$.next({status:"error",text:"\u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0432 \u043a\u043e\u043c\u043d\u0430\u0442\u0443 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430"})}})}getControls(){return new le.cw({code:new le.NI("",[le.kI.required])})}}return W.\u0275fac=function(P){return new(P||W)(e.Y36(C.X),e.Y36(ie.F0),e.Y36(Me.j))},W.\u0275cmp=e.Xpm({type:W,selectors:[["ng-component"]],features:[e.qOj],decls:11,vars:1,consts:[[1,"room__empty",3,"formGroup"],[1,"room__empty__alert"],[1,"room__empty__container"],["formControlName","code",1,"room__empty__code_field"],["tuiTextfield","","placeholder","","type","text"],["tuiButton","","type","button","appearance","primary",1,"room__empty__button_login",3,"click"]],template:function(P,q){1&P&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043d\u0430\u0442\u0443 "),e.qZA(),e.TgZ(3,"div",2)(4,"div")(5,"tui-input",3),e._uU(6," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u043a\u043e\u043c\u043d\u0430\u0442\u044b "),e._UZ(7,"input",4),e.qZA()(),e.TgZ(8,"div")(9,"button",5),e.NdJ("click",function(){return q.joinRoom()}),e._uU(10," \u0412\u043e\u0439\u0442\u0438 "),e.qZA()()()()),2&P&&e.Q6J("formGroup",q.controlsGroup)},directives:[le.JL,le.sg,te.K3,te.wU,le.JJ,le.u,i.MB,se.v0],styles:[".room__item[_ngcontent-%COMP%]{width:85%;margin:100px auto 0}.room__last[_ngcontent-%COMP%]{margin-bottom:60px}.room__empty[_ngcontent-%COMP%]{margin:100px auto;width:65%}.room__empty__alert[_ngcontent-%COMP%]{font-weight:700;font-size:80px;line-height:1;text-align:center}.room__empty__container[_ngcontent-%COMP%]{width:60%;margin:40px auto}.room__empty__code_field[_ngcontent-%COMP%]{border-radius:0;width:100%}.room__empty__button_login[_ngcontent-%COMP%]{border-radius:0;width:100%;margin-top:40px}"]}),W})()},{path:"works",component:he},{path:"room/:id",component:Ve,children:[{path:"",redirectTo:"info"},{path:"info",component:(()=>{class W{constructor(P,q,oe){this._activatedRouter=P,this._roomService=q,this._router=oe,this._destroySubj$=new u.x,P.parent.params.subscribe(ye=>{this.roomId=ye.id})}ngOnInit(){this._roomService.getRoomById(parseInt(this.roomId)).pipe((0,l.R)(this._destroySubj$)).subscribe(P=>{this.room=P}),this.tasks$=this._roomService.getTasks(parseInt(this.roomId)).pipe((0,l.R)(this._destroySubj$))}navigateToDetails(P,q){this._router.navigate(["cabinet","room",this.roomId,"task",P],{queryParams:{index:q}})}ngOnDestroy(){this._destroySubj$.next()}}return W.\u0275fac=function(P){return new(P||W)(e.Y36(ie.gz),e.Y36(C.X),e.Y36(ie.F0))},W.\u0275cmp=e.Xpm({type:W,selectors:[["ng-component"]],decls:4,vars:4,consts:[[4,"ngIf"],["class","current_task",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"current_task"],[3,"task","index","onTaskClick"]],template:function(P,q){1&P&&(e.TgZ(0,"div"),e.YNc(1,We,2,1,"h1",0),e.YNc(2,Ge,4,3,"ng-container",0),e.ALo(3,"async"),e.qZA()),2&P&&(e.xp6(1),e.Q6J("ngIf",q.room),e.xp6(1),e.Q6J("ngIf",e.lcZ(3,2,q.tasks$)))},directives:[p.O5,p.sg,Ie],pipes:[p.Ov],styles:["h1[_ngcontent-%COMP%]{font-size:80px}.current_task[_ngcontent-%COMP%]{font-size:24px;margin-top:25px}"]}),W})()},{path:"task/:id",component:Ce},{path:"evaluate",component:Pe},{path:"work/:workId",component:Z}]},{path:"**",pathMatch:"full",component:ue}]}];let ze=(()=>{class W{}return W.\u0275fac=function(P){return new(P||W)},W.\u0275mod=e.oAB({type:W}),W.\u0275inj=e.cJS({providers:[H,U,O],imports:[[p.ez,ie.Bz.forChild($e),le.UX,te.Qf,se.fN,D]]}),W})()},6036:function(module,__unused_webpack_exports,__webpack_require__){var _asyncToGenerator=__webpack_require__(8926).default,K;K=function(){return(()=>{"use strict";var __webpack_modules__=[,(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.VerbosityLevel=M.Util=M.UnknownErrorException=M.UnexpectedResponseException=M.UNSUPPORTED_FEATURES=M.TextRenderingMode=M.StreamType=M.RenderingIntentFlag=M.PermissionFlag=M.PasswordResponses=M.PasswordException=M.PageActionEventType=M.OPS=M.MissingPDFException=M.IsLittleEndianCached=M.IsEvalSupportedCached=M.InvalidPDFException=M.ImageKind=M.IDENTITY_MATRIX=M.FormatError=M.FontType=M.FONT_IDENTITY_MATRIX=M.DocumentActionEventType=M.CMapCompressionType=M.BaseException=M.AnnotationType=M.AnnotationStateModelType=M.AnnotationReviewState=M.AnnotationReplyType=M.AnnotationMode=M.AnnotationMarkedState=M.AnnotationFlag=M.AnnotationFieldFlag=M.AnnotationBorderStyleType=M.AnnotationActionEventType=M.AbortException=void 0,M.arrayByteLength=Q,M.arraysToBytes=function ne(re){const Z=re.length;if(1===Z&&re[0]instanceof Uint8Array)return re[0];let J=0;for(let Pe=0;Pe<Z;Pe++)J+=Q(re[Pe]);let _e=0;const me=new Uint8Array(J);for(let Pe=0;Pe<Z;Pe++){let xe=re[Pe];xe instanceof Uint8Array||(xe="string"==typeof xe?$(xe):new Uint8Array(xe));const Be=xe.byteLength;me.set(xe,_e),_e+=Be}return me},M.assert=function z(re,Z){re||R(Z)},M.bytesToString=function X(re){("object"!=typeof re||null===re||void 0===re.length)&&R("Invalid argument for bytesToString");const Z=re.length,J=8192;if(Z<J)return String.fromCharCode.apply(null,re);const _e=[];for(let me=0;me<Z;me+=J){const Pe=Math.min(me+J,Z),xe=re.subarray(me,Pe);_e.push(String.fromCharCode.apply(null,xe))}return _e.join("")},M.createPromiseCapability=function Re(){const re=Object.create(null);let Z=!1;return Object.defineProperty(re,"settled",{get:()=>Z}),re.promise=new Promise(function(J,_e){re.resolve=function(me){Z=!0,J(me)},re.reject=function(me){Z=!0,_e(me)}}),re},M.createValidAbsoluteUrl=function o(re,Z=null,J=null){if(!re)return null;try{if(J&&"string"==typeof re){if(J.addDefaultProtocol&&re.startsWith("www.")){const me=re.match(/\./g);me&&me.length>=2&&(re=`http://${re}`)}if(J.tryConvertEncoding)try{re=we(re)}catch(me){}}const _e=Z?new URL(re,Z):new URL(re);if(function c(re){if(!re)return!1;switch(re.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(_e))return _e}catch(_e){}return null},M.escapeString=function Ae(re){return re.replace(/([()\\\n\r])/g,Z=>"\n"===Z?"\\n":"\r"===Z?"\\r":`\\${Z}`)},M.getModificationDate=function Ne(re=new Date){return[re.getUTCFullYear().toString(),(re.getUTCMonth()+1).toString().padStart(2,"0"),re.getUTCDate().toString().padStart(2,"0"),re.getUTCHours().toString().padStart(2,"0"),re.getUTCMinutes().toString().padStart(2,"0"),re.getUTCSeconds().toString().padStart(2,"0")].join("")},M.getVerbosityLevel=function N(){return V},M.info=function I(re){V>=y.INFOS&&console.log(`Info: ${re}`)},M.isArrayBuffer=function Se(re){return"object"==typeof re&&null!==re&&void 0!==re.byteLength},M.isArrayEqual=function Ee(re,Z){if(re.length!==Z.length)return!1;for(let J=0,_e=re.length;J<_e;J++)if(re[J]!==Z[J])return!1;return!0},M.isAscii=function ve(re){return/^[\x00-\x7F]*$/.test(re)},M.isSameOrigin=function v(re,Z){let J;try{if(J=new URL(re),!J.origin||"null"===J.origin)return!1}catch(me){return!1}const _e=new URL(Z,J);return J.origin===_e.origin},M.objectFromMap=function ge(re){const Z=Object.create(null);for(const[J,_e]of re)Z[J]=_e;return Z},M.objectSize=function ue(re){return Object.keys(re).length},M.setVerbosityLevel=function U(re){Number.isInteger(re)&&(V=re)},M.shadow=C,M.string32=function he(re){return String.fromCharCode(re>>24&255,re>>16&255,re>>8&255,255&re)},M.stringToBytes=$,M.stringToPDFString=function fe(re){if(re[0]>="\xef"){let J;if("\xfe"===re[0]&&"\xff"===re[1]?J="utf-16be":"\xff"===re[0]&&"\xfe"===re[1]?J="utf-16le":"\xef"===re[0]&&"\xbb"===re[1]&&"\xbf"===re[2]&&(J="utf-8"),J)try{const _e=new TextDecoder(J,{fatal:!0}),me=$(re);return _e.decode(me)}catch(_e){H(`stringToPDFString: "${_e}".`)}}const Z=[];for(let J=0,_e=re.length;J<_e;J++){const me=pe[re.charCodeAt(J)];Z.push(me?String.fromCharCode(me):re.charAt(J))}return Z.join("")},M.stringToUTF16BEString=function Ce(re){const Z=["\xfe\xff"];for(let J=0,_e=re.length;J<_e;J++){const me=re.charCodeAt(J);Z.push(String.fromCharCode(me>>8&255),String.fromCharCode(255&me))}return Z.join("")},M.stringToUTF8String=we,M.unreachable=R,M.utf8StringToString=function Me(re){return unescape(encodeURIComponent(re))},M.warn=H,K(2),M.IDENTITY_MATRIX=[1,0,0,1,0,0],M.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],M.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},M.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},M.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},M.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},M.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},M.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},M.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},M.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},M.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},M.AnnotationReplyType={GROUP:"Group",REPLY:"R"},M.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},M.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},M.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},M.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},M.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},M.PageActionEventType={O:"PageOpen",C:"PageClose"},M.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},M.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const y={ERRORS:0,WARNINGS:1,INFOS:5};M.VerbosityLevel=y,M.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},M.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},M.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},M.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let V=y.WARNINGS;function H(re){V>=y.WARNINGS&&console.log(`Warning: ${re}`)}function R(re){throw new Error(re)}function C(re,Z,J){return Object.defineProperty(re,Z,{value:J,enumerable:!0,configurable:!0,writable:!1}),J}const _=function(){function Z(J,_e){this.constructor===Z&&R("Cannot initialize BaseException."),this.message=J,this.name=_e}return Z.prototype=new Error,Z.constructor=Z,Z}();function $(re){"string"!=typeof re&&R("Invalid argument for stringToBytes");const Z=re.length,J=new Uint8Array(Z);for(let _e=0;_e<Z;++_e)J[_e]=255&re.charCodeAt(_e);return J}function Q(re){return void 0!==re.length?re.length:void 0!==re.byteLength?re.byteLength:void R("Invalid argument for arrayByteLength")}M.BaseException=_,M.PasswordException=class T extends _{constructor(Z,J){super(Z,"PasswordException"),this.code=J}},M.UnknownErrorException=class i extends _{constructor(Z,J){super(Z,"UnknownErrorException"),this.details=J}},M.InvalidPDFException=class x extends _{constructor(Z){super(Z,"InvalidPDFException")}},M.MissingPDFException=class E extends _{constructor(Z){super(Z,"MissingPDFException")}},M.UnexpectedResponseException=class B extends _{constructor(Z,J){super(Z,"UnexpectedResponseException"),this.status=J}},M.FormatError=class g extends _{constructor(Z){super(Z,"FormatError")}},M.AbortException=class j extends _{constructor(Z){super(Z,"AbortException")}},M.IsLittleEndianCached={get value(){return C(this,"value",function h(){const re=new Uint8Array(4);return re[0]=1,1===new Uint32Array(re.buffer,0,1)[0]}())}},M.IsEvalSupportedCached={get value(){return C(this,"value",function ee(){try{return new Function(""),!0}catch(re){return!1}}())}};const Y=[...Array(256).keys()].map(re=>re.toString(16).padStart(2,"0"));class ae{static makeHexColor(Z,J,_e){return`#${Y[Z]}${Y[J]}${Y[_e]}`}static transform(Z,J){return[Z[0]*J[0]+Z[2]*J[1],Z[1]*J[0]+Z[3]*J[1],Z[0]*J[2]+Z[2]*J[3],Z[1]*J[2]+Z[3]*J[3],Z[0]*J[4]+Z[2]*J[5]+Z[4],Z[1]*J[4]+Z[3]*J[5]+Z[5]]}static applyTransform(Z,J){return[Z[0]*J[0]+Z[1]*J[2]+J[4],Z[0]*J[1]+Z[1]*J[3]+J[5]]}static applyInverseTransform(Z,J){const _e=J[0]*J[3]-J[1]*J[2];return[(Z[0]*J[3]-Z[1]*J[2]+J[2]*J[5]-J[4]*J[3])/_e,(-Z[0]*J[1]+Z[1]*J[0]+J[4]*J[1]-J[5]*J[0])/_e]}static getAxialAlignedBoundingBox(Z,J){const _e=ae.applyTransform(Z,J),me=ae.applyTransform(Z.slice(2,4),J),Pe=ae.applyTransform([Z[0],Z[3]],J),xe=ae.applyTransform([Z[2],Z[1]],J);return[Math.min(_e[0],me[0],Pe[0],xe[0]),Math.min(_e[1],me[1],Pe[1],xe[1]),Math.max(_e[0],me[0],Pe[0],xe[0]),Math.max(_e[1],me[1],Pe[1],xe[1])]}static inverseTransform(Z){const J=Z[0]*Z[3]-Z[1]*Z[2];return[Z[3]/J,-Z[1]/J,-Z[2]/J,Z[0]/J,(Z[2]*Z[5]-Z[4]*Z[3])/J,(Z[4]*Z[1]-Z[5]*Z[0])/J]}static apply3dTransform(Z,J){return[Z[0]*J[0]+Z[1]*J[1]+Z[2]*J[2],Z[3]*J[0]+Z[4]*J[1]+Z[5]*J[2],Z[6]*J[0]+Z[7]*J[1]+Z[8]*J[2]]}static singularValueDecompose2dScale(Z){const J=[Z[0],Z[2],Z[1],Z[3]],_e=Z[0]*J[0]+Z[1]*J[2],xe=Z[2]*J[1]+Z[3]*J[3],Be=(_e+xe)/2,Ue=Math.sqrt((_e+xe)**2-4*(_e*xe-(Z[2]*J[0]+Z[3]*J[2])*(Z[0]*J[1]+Z[1]*J[3])))/2,Ie=Be-Ue||1;return[Math.sqrt(Be+Ue||1),Math.sqrt(Ie)]}static normalizeRect(Z){const J=Z.slice(0);return Z[0]>Z[2]&&(J[0]=Z[2],J[2]=Z[0]),Z[1]>Z[3]&&(J[1]=Z[3],J[3]=Z[1]),J}static intersect(Z,J){function _e(Be,Ue){return Be-Ue}const me=[Z[0],Z[2],J[0],J[2]].sort(_e),Pe=[Z[1],Z[3],J[1],J[3]].sort(_e),xe=[];return Z=ae.normalizeRect(Z),J=ae.normalizeRect(J),me[0]===Z[0]&&me[1]===J[0]||me[0]===J[0]&&me[1]===Z[0]?(xe[0]=me[1],xe[2]=me[2],Pe[0]===Z[1]&&Pe[1]===J[1]||Pe[0]===J[1]&&Pe[1]===Z[1]?(xe[1]=Pe[1],xe[3]=Pe[2],xe):null):null}static bezierBoundingBox(Z,J,_e,me,Pe,xe,Be,Ue){const Ve=[],Ie=[[],[]];let We,je,He,Le,Ge,Xe,Ye,$e;for(let P=0;P<2;++P)if(0===P?(je=6*Z-12*_e+6*Pe,We=-3*Z+9*_e-9*Pe+3*Be,He=3*_e-3*Z):(je=6*J-12*me+6*xe,We=-3*J+9*me-9*xe+3*Ue,He=3*me-3*J),Math.abs(We)<1e-12){if(Math.abs(je)<1e-12)continue;Le=-He/je,0<Le&&Le<1&&Ve.push(Le)}else Ye=je*je-4*He*We,$e=Math.sqrt(Ye),!(Ye<0)&&(Ge=(-je+$e)/(2*We),0<Ge&&Ge<1&&Ve.push(Ge),Xe=(-je-$e)/(2*We),0<Xe&&Xe<1&&Ve.push(Xe));let W,ze=Ve.length;const ce=ze;for(;ze--;)Le=Ve[ze],W=1-Le,Ie[0][ze]=W*W*W*Z+3*W*W*Le*_e+3*W*Le*Le*Pe+Le*Le*Le*Be,Ie[1][ze]=W*W*W*J+3*W*W*Le*me+3*W*Le*Le*xe+Le*Le*Le*Ue;return Ie[0][ce]=Z,Ie[1][ce]=J,Ie[0][ce+1]=Be,Ie[1][ce+1]=Ue,Ie[0].length=Ie[1].length=ce+2,[Math.min(...Ie[0]),Math.min(...Ie[1]),Math.max(...Ie[0]),Math.max(...Ie[1])]}}M.Util=ae;const pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function we(re){return decodeURIComponent(escape(re))}},(de,M,K)=>{K(3)},(de,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.isNodeJS=void 0;const K=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);M.isNodeJS=K},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var de,M,K,p,le,ie,se,rt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){const t=new PDFDocumentLoadingTask;let u;if("string"==typeof e||e instanceof URL)u={url:e};else if((0,_util.isArrayBuffer)(e))u={data:e};else if(e instanceof PDFDataRangeTransport)u={range:e};else{if("object"!=typeof e)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");u=e}const s=Object.create(null);let l=null,f=null;for(const d in u){const a=u[d];switch(d){case"url":if("undefined"!=typeof window)try{s[d]=new URL(a,window.location).href;continue}catch(w){(0,_util.warn)(`Cannot create valid URL: "${w}".`)}else if("string"==typeof a||a instanceof URL){s[d]=a.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":l=a;continue;case"worker":f=a;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&a instanceof Buffer)s[d]=new Uint8Array(a);else{if(a instanceof Uint8Array)break;if("string"==typeof a)s[d]=(0,_util.stringToBytes)(a);else if("object"!=typeof a||null===a||isNaN(a.length)){if(!(0,_util.isArrayBuffer)(a))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");s[d]=new Uint8Array(a)}else s[d]=new Uint8Array(a)}continue}s[d]=a}if(s.rangeChunkSize=s.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,s.CMapReaderFactory=s.CMapReaderFactory||DefaultCMapReaderFactory,s.StandardFontDataFactory=s.StandardFontDataFactory||DefaultStandardFontDataFactory,s.ignoreErrors=!0!==s.stopAtErrors,s.fontExtraProperties=!0===s.fontExtraProperties,s.pdfBug=!0===s.pdfBug,s.enableXfa=!0===s.enableXfa,("string"!=typeof s.docBaseUrl||(0,_display_utils.isDataScheme)(s.docBaseUrl))&&(s.docBaseUrl=null),Number.isInteger(s.maxImageSize)||(s.maxImageSize=-1),"boolean"!=typeof s.useWorkerFetch&&(s.useWorkerFetch=s.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&s.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof s.isEvalSupported&&(s.isEvalSupported=!0),"boolean"!=typeof s.disableFontFace&&(s.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof s.useSystemFonts&&(s.useSystemFonts=!_is_node.isNodeJS&&!s.disableFontFace),void 0===s.ownerDocument&&(s.ownerDocument=globalThis.document),"boolean"!=typeof s.disableRange&&(s.disableRange=!1),"boolean"!=typeof s.disableStream&&(s.disableStream=!1),"boolean"!=typeof s.disableAutoFetch&&(s.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(s.verbosity),!f){const d={verbosity:s.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};f=d.port?_PDFWorker.fromPort(d):new _PDFWorker(d),t._worker=f}const k=t.docId;return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");const d=_fetchDocument(f,s,l,k),a=new Promise(function(w){let F;l?F=new _transport_stream.PDFDataTransportStream({length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,contentDispositionFilename:s.contentDispositionFilename,disableRange:s.disableRange,disableStream:s.disableStream},l):s.data||(F=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream})),w(F)});return Promise.all([d,a]).then(function([w,F]){if(t.destroyed)throw new Error("Loading aborted");const S=new _message_handler.MessageHandler(k,w,f.port),b=new WorkerTransport(S,t,F,s);t._transport=b,S.send("Ready",null)})}).catch(t._capability.reject),t}function _fetchDocument(e,t,u,s){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(e,t,u,s){if(e.destroyed)throw new Error("Worker was destroyed");u&&(t.length=u.length,t.initialData=u.initialData,t.progressiveDone=u.progressiveDone,t.contentDispositionFilename=u.contentDispositionFilename);const l=yield e.messageHandler.sendWithPromise("GetDocRequest",{docId:s,apiVersion:"2.13.216",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,enableXfa:t.enableXfa,useSystemFonts:t.useSystemFonts,cMapUrl:t.useWorkerFetch?t.cMapUrl:null,standardFontDataUrl:t.useWorkerFetch?t.standardFontDataUrl:null});if(e.destroyed)throw new Error("Worker was destroyed");return l})).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.idCounters.doc++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var t=this;return _asyncToGenerator(function*(){var u;t.destroyed=!0,yield null==(u=t._transport)?void 0:u.destroy(),t._transport=null,t._worker&&(t._worker.destroy(),t._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(t,u,s=!1,l=null){this.length=t,this.initialData=u,this.progressiveDone=s,this.contentDispositionFilename=l,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,u){for(const s of this._rangeListeners)s(t,u)}onDataProgress(t,u){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,u)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const u of this._progressiveReadListeners)u(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,u){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(t,u){var l,s=this;this._pdfInfo=t,this._transport=u,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(l=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),s.stats||{streamTypes:{},fontTypes:{}}}),function(){return l.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(t,u,s,l,f=!1){this._pageIndex=t,this._pageInfo=u,this._ownerDocument=l,this._transport=s,this._stats=f?new _display_utils.StatTimer:null,this._pdfBug=f,this.commonObjs=s.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:u=this.rotate,offsetX:s=0,offsetY:l=0,dontFlip:f=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:u,offsetX:s,offsetY:l,dontFlip:f})}getAnnotations({intent:t="display"}={}){const u=this._transport.getRenderingIntent(t);let s=this._annotationPromises.get(u.cacheKey);return s||(s=this._transport.getAnnotations(this._pageIndex,u.renderingIntent),this._annotationPromises.set(u.cacheKey,s),s=s.then(l=>{for(const f of l)void 0!==f.titleObj&&Object.defineProperty(f,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),f.titleObj.str)}),void 0!==f.contentsObj&&Object.defineProperty(f,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),f.contentsObj.str)});return l})),s}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var t=this;return _asyncToGenerator(function*(){var u;return(null==(u=t._transport._htmlForXfa)?void 0:u.children[t._pageIndex])||null})()}render({canvasContext:t,viewport:u,intent:s="display",annotationMode:l=_util.AnnotationMode.ENABLE,transform:f=null,imageLayer:k=null,canvasFactory:d=null,background:a=null,optionalContentConfigPromise:w=null,annotationCanvasMap:F=null}){var D,L;void 0!==(null==(D=arguments[0])?void 0:D.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&l===_util.AnnotationMode.ENABLE&&(l=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null==(L=arguments[0])?void 0:L.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&l===_util.AnnotationMode.ENABLE&&(l=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const S=this._transport.getRenderingIntent(s,l);this.pendingCleanup=!1,w||(w=this._transport.getOptionalContentConfig());let b=this._intentStates.get(S.cacheKey);b||(b=Object.create(null),this._intentStates.set(S.cacheKey,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const n=d||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),r=!!(S.renderingIntent&_util.RenderingIntentFlag.PRINT);b.displayReadyCapability||(b.displayReadyCapability=(0,_util.createPromiseCapability)(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(S));const y=V=>{b.renderTasks.delete(m),(this.cleanupAfterRender||r)&&(this.pendingCleanup=!0),this._tryCleanup(),V?(m.capability.reject(V),this._abortOperatorList({intentState:b,reason:V instanceof Error?V:new Error(V)})):m.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},m=new InternalRenderTask({callback:y,params:{canvasContext:t,viewport:u,transform:f,imageLayer:k,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:F,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:n,useRequestAnimationFrame:!r,pdfBug:this._pdfBug});(b.renderTasks||(b.renderTasks=new Set)).add(m);const A=m.task;return Promise.all([b.displayReadyCapability.promise,w]).then(([V,U])=>{this.pendingCleanup?y():(this._stats&&this._stats.time("Rendering"),m.initializeGraphics({transparency:V,optionalContentConfig:U}),m.operatorListChanged())}).catch(y),A}getOperatorList({intent:t="display",annotationMode:u=_util.AnnotationMode.ENABLE}={}){const l=this._transport.getRenderingIntent(t,u,!0);let k,f=this._intentStates.get(l.cacheKey);return f||(f=Object.create(null),this._intentStates.set(l.cacheKey,f)),f.opListReadCapability||(k=Object.create(null),k.operatorListChanged=function s(){f.operatorList.lastChunk&&(f.opListReadCapability.resolve(f.operatorList),f.renderTasks.delete(k))},f.opListReadCapability=(0,_util.createPromiseCapability)(),(f.renderTasks||(f.renderTasks=new Set)).add(k),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(l)),f.opListReadCapability.promise}streamTextContent({disableCombineTextItems:t=!1,includeMarkedContent:u=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==t,includeMarkedContent:!0===u},{highWaterMark:100,size:l=>l.items.length})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>_xfa_text.XfaText.textContent(s));const u=this.streamTextContent(t);return new Promise(function(s,l){const k=u.getReader(),d={items:[],styles:Object.create(null)};!function f(){k.read().then(function({value:a,done:w}){w?s(d):(Object.assign(d.styles,a.styles),d.items.push(...a.items),f())},l)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const t=[];for(const u of this._intentStates.values())if(this._abortOperatorList({intentState:u,reason:new Error("Page was destroyed."),force:!0}),!u.opListReadCapability)for(const s of u.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}cleanup(t=!1){return this.pendingCleanup=!0,this._tryCleanup(t)}_tryCleanup(t=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:u,operatorList:s}of this._intentStates.values())if(u.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(t,u){const s=this._intentStates.get(u);!s||(this._stats&&this._stats.timeEnd("Page Request"),s.displayReadyCapability&&s.displayReadyCapability.resolve(t))}_renderPageChunk(t,u){for(let s=0,l=t.length;s<l;s++)u.operatorList.fnArray.push(t.fnArray[s]),u.operatorList.argsArray.push(t.argsArray[s]);u.operatorList.lastChunk=t.lastChunk;for(const s of u.renderTasks)s.operatorListChanged();t.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:t,cacheKey:u}){const l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:u,annotationStorage:t&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),f=this._intentStates.get(u);f.streamReader=l;const k=()=>{l.read().then(({value:d,done:a})=>{a?f.streamReader=null:this._transport.destroyed||(this._renderPageChunk(d,f),k())},d=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const a of f.renderTasks)a.operatorListChanged();this._tryCleanup()}if(f.displayReadyCapability)f.displayReadyCapability.reject(d);else{if(!f.opListReadCapability)throw d;f.opListReadCapability.reject(d)}}})};k()}_abortOperatorList({intentState:t,reason:u,force:s=!1}){if(t.streamReader){if(!s){if(t.renderTasks.size>0)return;if(u instanceof _display_utils.RenderingCancelledException)return void(t.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:t,reason:u,force:!0}),t.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(t.streamReader.cancel(new _util.AbortException(u.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[l,f]of this._intentStates)if(f===t){this._intentStates.delete(l);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(t,u){const s={data:structuredClone(t,u)};this._deferred.then(()=>{for(const l of this._listeners)l.call(this,s)})}addEventListener(t,u){this._listeners.push(u)}removeEventListener(t,u){const s=this._listeners.indexOf(u);this._listeners.splice(s,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const e=null==(de=null==document?void 0:document.currentScript)?void 0:de.src;e&&(PDFWorkerUtil.fallbackWorkerSrc=e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(e){return URL.createObjectURL(new Blob([`importScripts("${e}");`]))};class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:e=null,port:t=null,verbosity:u=(0,_util.getVerbosityLevel)()}={}){if(t&&_PDFWorker._workerPorts.has(t))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=e,this.destroyed=!1,this.verbosity=u,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t)return _PDFWorker._workerPorts.set(t,this),void this._initializeFromPort(t);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let e=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e),u=new _message_handler.MessageHandler("main","worker",t),s=()=>{t.removeEventListener("error",l),u.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},l=()=>{this._webWorker||s()};t.addEventListener("error",l),u.on("test",k=>{t.removeEventListener("error",l),this.destroyed?s():k?(this._messageHandler=u,this._port=t,this._webWorker=t,this._readyCapability.resolve(),u.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),u.destroy(),t.terminate())}),u.on("ready",k=>{if(t.removeEventListener("error",l),this.destroyed)s();else try{f()}catch(d){this._setupFakeWorker()}});const f=()=>{const k=new Uint8Array([255]);try{u.send("test",k,[k.buffer])}catch(d){(0,_util.warn)("Cannot use postMessage transfers."),k[0]=0,u.send("test",k)}};return void f()}catch(t){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(e=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const t=new LoopbackPort;this._port=t;const u="fake"+PDFWorkerUtil.fakeWorkerId++,s=new _message_handler.MessageHandler(u+"_worker",u,t);e.setup(s,t);const l=new _message_handler.MessageHandler(u,u+"_worker",t);this._messageHandler=l,this._readyCapability.resolve(),l.send("configure",{verbosity:this.verbosity})}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!(null==e?void 0:e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(e.port)?this._workerPorts.get(e.port):new _PDFWorker(e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var e;try{return(null==(e=globalThis.pdfjsWorker)?void 0:e.WorkerMessageHandler)||null}catch(t){return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function e(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(t,u,s,l){Te(this,M,null),Te(this,K,new Map),Te(this,p,new Map),Te(this,le,null),this.messageHandler=t,this.loadingTask=u,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:u.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:l.ownerDocument,styleElement:l.styleElement}),this._params=l,l.useWorkerFetch||(this.CMapReaderFactory=new l.CMapReaderFactory({baseUrl:l.cMapUrl,isCompressed:l.cMapPacked}),this.StandardFontDataFactory=new l.StandardFontDataFactory({baseUrl:l.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return be(this,M)}getRenderingIntent(t,u=_util.AnnotationMode.ENABLE,s=!1){let l=_util.RenderingIntentFlag.DISPLAY,f="";switch(t){case"any":l=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":l=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${t}`)}switch(u){case _util.AnnotationMode.DISABLE:l+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:l+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:l+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,f=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${u}`)}return s&&(l+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:l,cacheKey:`${l}_${f}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const s of be(this,K).values())t.push(s._destroy());be(this,K).clear(),be(this,p).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const u=this.messageHandler.sendWithPromise("Terminate",null);return t.push(u),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),ke(this,le,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:u}=this;t.on("GetReader",(s,l)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=f=>{this._lastProgress={loaded:f.loaded,total:f.total}},l.onPull=()=>{this._fullReader.read().then(function({value:f,done:k}){k?l.close():((0,_util.assert)((0,_util.isArrayBuffer)(f),"GetReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(f),1,[f]))}).catch(f=>{l.error(f)})},l.onCancel=f=>{this._fullReader.cancel(f),l.ready.catch(k=>{if(!this.destroyed)throw k})}}),t.on("ReaderHeadersReady",s=>{const l=(0,_util.createPromiseCapability)(),f=this._fullReader;return f.headersReady.then(()=>{var k;(!f.isStreamingSupported||!f.isRangeSupported)&&(this._lastProgress&&(null==(k=u.onProgress)||k.call(u,this._lastProgress)),f.onProgress=d=>{var a;null==(a=u.onProgress)||a.call(u,{loaded:d.loaded,total:d.total})}),l.resolve({isStreamingSupported:f.isStreamingSupported,isRangeSupported:f.isRangeSupported,contentLength:f.contentLength})},l.reject),l.promise}),t.on("GetRangeReader",(s,l)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const f=this._networkStream.getRangeReader(s.begin,s.end);f?(l.onPull=()=>{f.read().then(function({value:k,done:d}){d?l.close():((0,_util.assert)((0,_util.isArrayBuffer)(k),"GetRangeReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(k),1,[k]))}).catch(k=>{l.error(k)})},l.onCancel=k=>{f.cancel(k),l.ready.catch(d=>{if(!this.destroyed)throw d})}):l.close()}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,u._capability.resolve(new PDFDocumentProxy(s,this))}),t.on("DocException",function(s){let l;switch(s.name){case"PasswordException":l=new _util.PasswordException(s.message,s.code);break;case"InvalidPDFException":l=new _util.InvalidPDFException(s.message);break;case"MissingPDFException":l=new _util.MissingPDFException(s.message);break;case"UnexpectedResponseException":l=new _util.UnexpectedResponseException(s.message,s.status);break;case"UnknownErrorException":l=new _util.UnknownErrorException(s.message,s.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}u._capability.reject(l)}),t.on("PasswordRequest",s=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),u.onPassword){const l=f=>{f instanceof Error?this._passwordCapability.reject(f):this._passwordCapability.resolve({password:f})};try{u.onPassword(l,s.code)}catch(f){this._passwordCapability.reject(f)}}else this._passwordCapability.reject(new _util.PasswordException(s.message,s.code));return this._passwordCapability.promise}),t.on("DataLoaded",s=>{var l;null==(l=u.onProgress)||l.call(u,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{this.destroyed||be(this,K).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,l,f])=>{var k;if(!this.destroyed&&!this.commonObjs.has(s))switch(l){case"Font":const d=this._params;if("error"in f){const F=f.error;(0,_util.warn)(`Error during font loading: ${F}`),this.commonObjs.resolve(s,F);break}let a=null;d.pdfBug&&(null==(k=globalThis.FontInspector)?void 0:k.enabled)&&(a={registerFont(F,S){globalThis.FontInspector.fontAdded(F,S)}});const w=new _font_loader.FontFaceObject(f,{isEvalSupported:d.isEvalSupported,disableFontFace:d.disableFontFace,ignoreErrors:d.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:a});this.fontLoader.bind(w).catch(F=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!d.fontExtraProperties&&w.data&&(w.data=null),this.commonObjs.resolve(s,w)});break;case"FontPath":case"Image":this.commonObjs.resolve(s,f);break;default:throw new Error(`Got unknown common object type ${l}`)}}),t.on("obj",([s,l,f,k])=>{var a;if(this.destroyed)return;const d=be(this,K).get(l);if(!d.objs.has(s))switch(f){case"Image":d.objs.resolve(s,k),(null==(a=null==k?void 0:k.data)?void 0:a.length)>8e6&&(d.cleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(s,k);break;default:throw new Error(`Got unknown object type ${f}`)}}),t.on("DocProgress",s=>{var l;this.destroyed||null==(l=u.onProgress)||l.call(u,{loaded:s.loaded,total:s.total})}),t.on("DocStats",s=>{this.destroyed||ke(this,M,Object.freeze({streamTypes:Object.freeze(s.streamTypes),fontTypes:Object.freeze(s.fontTypes)}))}),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(s):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(s):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:t}){var u,s;this.destroyed||null==(s=(u=this.loadingTask).onUnsupportedFeature)||s.call(u,t)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const u=t-1,s=be(this,p).get(u);if(s)return s;const l=this.messageHandler.sendWithPromise("GetPage",{pageIndex:u}).then(f=>{if(this.destroyed)throw new Error("Transport destroyed");const k=new PDFPageProxy(u,f,this,this._params.ownerDocument,this._params.pdfBug);return be(this,K).set(u,k),k});return be(this,p).set(u,l),l}getPageIndex(t){return"object"!=typeof t||null===t||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}getAnnotations(t,u){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:u})}saveDocument(){var t,u;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!=(u=null==(t=this._fullReader)?void 0:t.filename)?u:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(t=>new _optional_content_config.OptionalContentConfig(t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return be(this,le)||ke(this,le,this.messageHandler.sendWithPromise("GetMetadata",null).then(t=>{var u,s,l,f;return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:null!=(s=null==(u=this._fullReader)?void 0:u.filename)?s:null,contentLength:null!=(f=null==(l=this._fullReader)?void 0:l.contentLength)?f:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(t=!1){var u=this;return _asyncToGenerator(function*(){if(yield u.messageHandler.sendWithPromise("Cleanup",null),!u.destroyed){for(const s of be(u,K).values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);u.commonObjs.clear(),t||u.fontLoader.clear(),ke(u,le,null),u._getFieldObjectsPromise=null,u._hasJSActionsPromise=null}})()}get loadingParams(){const t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}M=new WeakMap,K=new WeakMap,p=new WeakMap,le=new WeakMap;class PDFObjects{constructor(){Te(this,se),Te(this,ie,Object.create(null))}get(t,u=null){if(u){const l=Fe(this,se,rt).call(this,t);return l.capability.promise.then(()=>u(l.data)),null}const s=be(this,ie)[t];if(!(null==s?void 0:s.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const u=be(this,ie)[t];return(null==u?void 0:u.capability.settled)||!1}resolve(t,u=null){const s=Fe(this,se,rt).call(this,t);s.data=u,s.capability.resolve()}clear(){ke(this,ie,Object.create(null))}}ie=new WeakMap,se=new WeakSet,rt=function(t){return be(this,ie)[t]||(be(this,ie)[t]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(t){this._internalRenderTask=t,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:t,params:u,objs:s,commonObjs:l,annotationCanvasMap:f,operatorList:k,pageIndex:d,canvasFactory:a,useRequestAnimationFrame:w=!1,pdfBug:F=!1}){this.callback=t,this.params=u,this.objs=s,this.commonObjs=l,this.annotationCanvasMap=f,this.operatorListIdx=null,this.operatorList=k,this._pageIndex=d,this.canvasFactory=a,this._pdfBug=F,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===w&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=u.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:u}){var a;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&(null==(a=globalThis.StepperManager)?void 0:a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:l,transform:f,imageLayer:k,background:d}=this.params;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,k,u,this.annotationCanvasMap),this.gfx.beginDrawing({transform:f,viewport:l,transparency:t,background:d}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(t=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var t=this;return _asyncToGenerator(function*(){t.cancelled||(t.operatorListIdx=t.gfx.executeOperatorList(t.operatorList,t.operatorListIdx,t._continueBound,t.stepper),t.operatorListIdx===t.operatorList.argsArray.length&&(t.running=!1,t.operatorList.lastChunk&&(t.gfx.endDrawing(),t._canvas&&InternalRenderTask.canvasInUse.delete(t._canvas),t.callback())))})()}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.StatTimer=M.RenderingCancelledException=M.PixelsPerInch=M.PageViewport=M.PDFDateString=M.DOMStandardFontDataFactory=M.DOMSVGFactory=M.DOMCanvasFactory=M.DOMCMapReaderFactory=void 0,M.deprecated=function r(L){console.log("Deprecated API usage: "+L)},M.getFilenameFromUrl=function w(L){const V=L.indexOf("#"),U=L.indexOf("?"),N=Math.min(V>0?V:L.length,U>0?U:L.length);return L.substring(L.lastIndexOf("/",N)+1,N)},M.getPdfFilenameFromUrl=function F(L,V="document.pdf"){if("string"!=typeof L)return V;if(d(L))return(0,le.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),V;const N=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,I=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(L);let H=N.exec(I[1])||N.exec(I[2])||N.exec(I[3]);if(H&&(H=H[0],H.includes("%")))try{H=N.exec(decodeURIComponent(H))[0]}catch(R){}return H||V},M.getXfaPageViewport=function A(L,{scale:V=1,rotation:U=0}){const{width:N,height:I}=L.attributes.style,H=[0,0,parseInt(N),parseInt(I)];return new f({viewBox:H,scale:V,rotation:U})},M.isDataScheme=d,M.isPdfFile=function a(L){return"string"==typeof L&&/\.pdf$/i.test(L)},M.isValidFetchUrl=b,M.loadScript=function n(L,V=!1){return new Promise((U,N)=>{const I=document.createElement("script");I.src=L,I.onload=function(H){V&&I.remove(),U(H)},I.onerror=function(){N(new Error(`Cannot load script at: ${I.src}`))},(document.head||document.documentElement).appendChild(I)})};var p=K(6),le=K(1);const D=class{};let y,se=D;function e(L){return t.apply(this,arguments)}function t(){return(t=_asyncToGenerator(function*(L,V=!1){if(b(L,document.baseURI)){const U=yield fetch(L);if(!U.ok)throw new Error(U.statusText);return V?new Uint8Array(yield U.arrayBuffer()):(0,le.stringToBytes)(yield U.text())}return new Promise((U,N)=>{const I=new XMLHttpRequest;I.open("GET",L,!0),V&&(I.responseType="arraybuffer"),I.onreadystatechange=()=>{if(I.readyState===XMLHttpRequest.DONE){if(200===I.status||0===I.status){let H;if(V&&I.response?H=new Uint8Array(I.response):!V&&I.responseText&&(H=(0,le.stringToBytes)(I.responseText)),H)return void U(H)}N(new Error(I.statusText))}},I.send(null)})})).apply(this,arguments)}Ze(se,"CSS",96),Ze(se,"PDF",72),Ze(se,"PDF_TO_CSS_UNITS",D.CSS/D.PDF),M.PixelsPerInch=se,M.DOMCanvasFactory=class te extends p.BaseCanvasFactory{constructor({ownerDocument:V=globalThis.document}={}){super(),this._document=V}_createCanvas(V,U){const N=this._document.createElement("canvas");return N.width=V,N.height=U,N}},M.DOMCMapReaderFactory=class u extends p.BaseCMapReaderFactory{_fetchData(V,U){return e(V,this.isCompressed).then(N=>({cMapData:N,compressionType:U}))}},M.DOMStandardFontDataFactory=class s extends p.BaseStandardFontDataFactory{_fetchData(V){return e(V,!0)}},M.DOMSVGFactory=class l extends p.BaseSVGFactory{_createSVG(V){return document.createElementNS("http://www.w3.org/2000/svg",V)}};class f{constructor({viewBox:V,scale:U,rotation:N,offsetX:I=0,offsetY:H=0,dontFlip:R=!1}){this.viewBox=V,this.scale=U,this.rotation=N,this.offsetX=I,this.offsetY=H;const z=(V[2]+V[0])/2,v=(V[3]+V[1])/2;let c,o,C,_,T,i,x,E;switch((N%=360)<0&&(N+=360),N){case 180:c=-1,o=0,C=0,_=1;break;case 90:c=0,o=1,C=1,_=0;break;case 270:c=0,o=-1,C=-1,_=0;break;case 0:c=1,o=0,C=0,_=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}R&&(C=-C,_=-_),0===c?(T=Math.abs(v-V[1])*U+I,i=Math.abs(z-V[0])*U+H,x=Math.abs(V[3]-V[1])*U,E=Math.abs(V[2]-V[0])*U):(T=Math.abs(z-V[0])*U+I,i=Math.abs(v-V[1])*U+H,x=Math.abs(V[2]-V[0])*U,E=Math.abs(V[3]-V[1])*U),this.transform=[c*U,o*U,C*U,_*U,T-c*U*z-C*U*v,i-o*U*z-_*U*v],this.width=x,this.height=E}clone({scale:V=this.scale,rotation:U=this.rotation,offsetX:N=this.offsetX,offsetY:I=this.offsetY,dontFlip:H=!1}={}){return new f({viewBox:this.viewBox.slice(),scale:V,rotation:U,offsetX:N,offsetY:I,dontFlip:H})}convertToViewportPoint(V,U){return le.Util.applyTransform([V,U],this.transform)}convertToViewportRectangle(V){const U=le.Util.applyTransform([V[0],V[1]],this.transform),N=le.Util.applyTransform([V[2],V[3]],this.transform);return[U[0],U[1],N[0],N[1]]}convertToPdfPoint(V,U){return le.Util.applyInverseTransform([V,U],this.transform)}}function d(L){const V=L.length;let U=0;for(;U<V&&""===L[U].trim();)U++;return"data:"===L.substring(U,U+5).toLowerCase()}function b(L,V){try{const{protocol:U}=V?new URL(L,V):new URL(L);return"http:"===U||"https:"===U}catch(U){return!1}}M.PageViewport=f,M.RenderingCancelledException=class k extends le.BaseException{constructor(V,U){super(V,"RenderingCancelledException"),this.type=U}},M.StatTimer=class S{constructor(){this.started=Object.create(null),this.times=[]}time(V){V in this.started&&(0,le.warn)(`Timer is already running for ${V}`),this.started[V]=Date.now()}timeEnd(V){V in this.started||(0,le.warn)(`Timer has not been started for ${V}`),this.times.push({name:V,start:this.started[V],end:Date.now()}),delete this.started[V]}toString(){const V=[];let U=0;for(const N of this.times){const I=N.name;I.length>U&&(U=I.length)}for(const N of this.times){const I=N.end-N.start;V.push(`${N.name.padEnd(U)} ${I}ms\n`)}return V.join("")}},M.PDFDateString=class m{static toDateObject(V){if(!V||"string"!=typeof V)return null;y||(y=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const U=y.exec(V);if(!U)return null;const N=parseInt(U[1],10);let I=parseInt(U[2],10);I=I>=1&&I<=12?I-1:0;let H=parseInt(U[3],10);H=H>=1&&H<=31?H:1;let R=parseInt(U[4],10);R=R>=0&&R<=23?R:0;let z=parseInt(U[5],10);z=z>=0&&z<=59?z:0;let v=parseInt(U[6],10);v=v>=0&&v<=59?v:0;const c=U[7]||"Z";let o=parseInt(U[8],10);o=o>=0&&o<=23?o:0;let C=parseInt(U[9],10)||0;return C=C>=0&&C<=59?C:0,"-"===c?(R+=o,z+=C):"+"===c&&(R-=o,z-=C),new Date(Date.UTC(N,I,H,R,z,v))}}},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.BaseStandardFontDataFactory=M.BaseSVGFactory=M.BaseCanvasFactory=M.BaseCMapReaderFactory=void 0;var p=K(1);class le{constructor(){this.constructor===le&&(0,p.unreachable)("Cannot initialize BaseCanvasFactory.")}create(t,u){if(t<=0||u<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,u);return{canvas:s,context:s.getContext("2d")}}reset(t,u,s){if(!t.canvas)throw new Error("Canvas is not specified");if(u<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=u,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,u){(0,p.unreachable)("Abstract method `_createCanvas` called.")}}M.BaseCanvasFactory=le;class ie{constructor({baseUrl:t=null,isCompressed:u=!1}){this.constructor===ie&&(0,p.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=u}fetch({name:t}){var u=this;return _asyncToGenerator(function*(){if(!u.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const s=u.baseUrl+t+(u.isCompressed?".bcmap":"");return u._fetchData(s,u.isCompressed?p.CMapCompressionType.BINARY:p.CMapCompressionType.NONE).catch(f=>{throw new Error(`Unable to load ${u.isCompressed?"binary ":""}CMap at: ${s}`)})})()}_fetchData(t,u){(0,p.unreachable)("Abstract method `_fetchData` called.")}}M.BaseCMapReaderFactory=ie;class se{constructor({baseUrl:t=null}){this.constructor===se&&(0,p.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}fetch({filename:t}){var u=this;return _asyncToGenerator(function*(){if(!u.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const s=`${u.baseUrl}${t}`;return u._fetchData(s).catch(l=>{throw new Error(`Unable to load font data at: ${s}`)})})()}_fetchData(t){(0,p.unreachable)("Abstract method `_fetchData` called.")}}M.BaseStandardFontDataFactory=se;class te{constructor(){this.constructor===te&&(0,p.unreachable)("Cannot initialize BaseSVGFactory.")}create(t,u){if(t<=0||u<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),s.setAttribute("width",`${t}px`),s.setAttribute("height",`${u}px`),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${u}`),s}createElement(t){if("string"!=typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){(0,p.unreachable)("Abstract method `_createSVG` called.")}}M.BaseSVGFactory=te},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.FontLoader=M.FontFaceObject=void 0;var p=K(1);class le{constructor({docId:e,onUnsupportedFeature:t,ownerDocument:u=globalThis.document,styleElement:s=null}){this.constructor===le&&(0,p.unreachable)("Cannot initialize BaseFontLoader."),this.docId=e,this._onUnsupportedFeature=t,this._document=u,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}insertRule(e){let t=this.styleElement;t||(t=this.styleElement=this._document.createElement("style"),t.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(t));const u=t.sheet;u.insertRule(e,u.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(e){var t=this;return _asyncToGenerator(function*(){if(e.attached||e.missingFile)return;if(e.attached=!0,t.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){t.addNativeFontFace(s);try{yield s.loaded}catch(l){throw t._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,p.warn)(`Failed to load font '${s.family}': '${l}'.`),e.disableFontFace=!0,l}}return}const u=e.createFontFaceRule();if(u){if(t.insertRule(u),t.isSyncFontLoadingSupported)return;yield new Promise(s=>{const l=t._queueLoadingCallback(s);t._prepareFontLoadEvent([u],[e],l)})}})()}_queueLoadingCallback(e){(0,p.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var t;const e=!!(null==(t=this._document)?void 0:t.fonts);return(0,p.shadow)(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){(0,p.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,p.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(e,t,u){(0,p.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let ie;M.FontLoader=ie,M.FontLoader=ie=class extends le{constructor(e){super(e),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let e=!1;if("undefined"==typeof navigator)e=!0;else{const t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==t?void 0:t[1])>=14&&(e=!0)}return(0,p.shadow)(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){const u=this.loadingContext,s={id:"pdfjs-font-loading-"+u.nextRequestId++,done:!1,complete:function t(){for((0,p.assert)(!s.done,"completeRequest() cannot be called twice."),s.done=!0;u.requests.length>0&&u.requests[0].done;){const l=u.requests.shift();setTimeout(l.callback,0)}},callback:e};return u.requests.push(s),s}get _loadTestFont(){return(0,p.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t,u){function s(U,N){return U.charCodeAt(N)<<24|U.charCodeAt(N+1)<<16|U.charCodeAt(N+2)<<8|255&U.charCodeAt(N+3)}function l(U,N,I,H){return U.substring(0,N)+H+U.substring(N+I)}let f,k;const d=this._document.createElement("canvas");d.width=1,d.height=1;const a=d.getContext("2d");let w=0;const S=`lt${Date.now()}${this.loadTestFontId++}`;let b=this._loadTestFont;b=l(b,976,S.length,S);const y=1482184792;let m=s(b,16);for(f=0,k=S.length-3;f<k;f+=4)m=m-y+s(S,f)|0;f<S.length&&(m=m-y+s(S+"XXX",f)|0),b=l(b,16,4,(0,p.string32)(m));const A=`url(data:font/opentype;base64,${btoa(b)});`;this.insertRule(`@font-face {font-family:"${S}";src:${A}}`);const L=[];for(const U of t)L.push(U.loadedName);L.push(S);const V=this._document.createElement("div");V.style.visibility="hidden",V.style.width=V.style.height="10px",V.style.position="absolute",V.style.top=V.style.left="0px";for(const U of L){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=U,V.appendChild(N)}this._document.body.appendChild(V),function F(U,N){if(w++,w>30)return(0,p.warn)("Load test font never loaded."),void N();a.font="30px "+U,a.fillText(".",0,20),a.getImageData(0,0,1,1).data[3]>0?N():setTimeout(F.bind(null,U,N))}(S,()=>{V.remove(),u.complete()})}},M.FontFaceObject=class se{constructor(e,{isEvalSupported:t=!0,disableFontFace:u=!1,ignoreErrors:s=!1,onUnsupportedFeature:l,fontRegistry:f=null}){this.compiledGlyphs=Object.create(null);for(const k in e)this[k]=e[k];this.isEvalSupported=!1!==t,this.disableFontFace=!0===u,this.ignoreErrors=!0===s,this._onUnsupportedFeature=l,this.fontRegistry=f}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,p.bytesToString)(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`;let u;if(this.cssFontInfo){let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),u=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}else u=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,t),u}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let u;try{u=e.get(this.loadedName+"_path_"+t)}catch(s){if(!this.ignoreErrors)throw s;return this._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,p.warn)(`getPathGenerator - ignoring character: "${s}".`),this.compiledGlyphs[t]=function(l,f){}}if(this.isEvalSupported&&p.IsEvalSupportedCached.value){const s=[];for(const l of u){const f=void 0!==l.args?l.args.join(","):"";s.push("c.",l.cmd,"(",f,");\n")}return this.compiledGlyphs[t]=new Function("c","size",s.join(""))}return this.compiledGlyphs[t]=function(s,l){for(const f of u)"scale"===f.cmd&&(f.args=[l,-l]),s[f.cmd].apply(s,f.args)}}}},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.NodeStandardFontDataFactory=M.NodeCanvasFactory=M.NodeCMapReaderFactory=void 0;var p=K(6),le=K(3),ie=K(1);let se=class{constructor(){(0,ie.unreachable)("Not implemented: NodeCanvasFactory")}};M.NodeCanvasFactory=se;let te=class{constructor(){(0,ie.unreachable)("Not implemented: NodeCMapReaderFactory")}};M.NodeCMapReaderFactory=te;let e=class{constructor(){(0,ie.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(M.NodeStandardFontDataFactory=e,le.isNodeJS){const t=function(u){return new Promise((s,l)=>{__webpack_require__(172).readFile(u,(k,d)=>{!k&&d?s(new Uint8Array(d)):l(new Error(k))})})};M.NodeCanvasFactory=se=class extends p.BaseCanvasFactory{_createCanvas(u,s){return __webpack_require__(3414).createCanvas(u,s)}},M.NodeCMapReaderFactory=te=class extends p.BaseCMapReaderFactory{_fetchData(u,s){return t(u).then(l=>({cMapData:l,compressionType:s}))}},M.NodeStandardFontDataFactory=e=class extends p.BaseStandardFontDataFactory{_fetchData(u){return t(u)}}}},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.AnnotationStorage=void 0;var p=K(1);M.AnnotationStorage=class le{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(se,te){const e=this._storage.get(se);return void 0===e?te:Object.assign(te,e)}setValue(se,te){const e=this._storage.get(se);let t=!1;if(void 0!==e)for(const[u,s]of Object.entries(te))e[u]!==s&&(t=!0,e[u]=s);else t=!0,this._storage.set(se,te);t&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,p.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.CanvasGraphics=void 0;var p=K(1),le=K(11),ie=K(5);const e=4096,f=16;function a(v){if(v._transformStack&&(v._transformStack=[]),!v.mozCurrentTransform){v._originalSave=v.save,v._originalRestore=v.restore,v._originalRotate=v.rotate,v._originalScale=v.scale,v._originalTranslate=v.translate,v._originalTransform=v.transform,v._originalSetTransform=v.setTransform,v._originalResetTransform=v.resetTransform,v._transformMatrix=v._transformMatrix||[1,0,0,1,0,0],v._transformStack=[];try{const c=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(v),"lineWidth");v._setLineWidth=c.set,v._getLineWidth=c.get,Object.defineProperty(v,"lineWidth",{set:function(C){this._setLineWidth(1.000001*C)},get:function(){return this._getLineWidth()}})}catch(c){}Object.defineProperty(v,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(v,"mozCurrentTransformInverse",{get:function(){const[o,C,_,T,i,x]=this._transformMatrix,E=o*T-C*_,B=C*_-o*T;return[T/E,C/B,_/B,o/E,(T*i-_*x)/B,(C*i-o*x)/E]}}),v.save=function(){const o=this._transformMatrix;this._transformStack.push(o),this._transformMatrix=o.slice(0,6),this._originalSave()},v.restore=function(){0===this._transformStack.length&&(0,p.warn)("Tried to restore a ctx when the stack was already empty.");const o=this._transformStack.pop();o&&(this._transformMatrix=o,this._originalRestore())},v.translate=function(o,C){const _=this._transformMatrix;_[4]=_[0]*o+_[2]*C+_[4],_[5]=_[1]*o+_[3]*C+_[5],this._originalTranslate(o,C)},v.scale=function(o,C){const _=this._transformMatrix;_[0]*=o,_[1]*=o,_[2]*=C,_[3]*=C,this._originalScale(o,C)},v.transform=function(o,C,_,T,i,x){const E=this._transformMatrix;this._transformMatrix=[E[0]*o+E[2]*C,E[1]*o+E[3]*C,E[0]*_+E[2]*T,E[1]*_+E[3]*T,E[0]*i+E[2]*x+E[4],E[1]*i+E[3]*x+E[5]],v._originalTransform(o,C,_,T,i,x)},v.setTransform=function(o,C,_,T,i,x){this._transformMatrix=[o,C,_,T,i,x],v._originalSetTransform(o,C,_,T,i,x)},v.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],v._originalResetTransform()},v.rotate=function(o){const C=Math.cos(o),_=Math.sin(o),T=this._transformMatrix;this._transformMatrix=[T[0]*C+T[2]*_,T[1]*C+T[3]*_,T[0]*-_+T[2]*C,T[1]*-_+T[3]*C,T[4],T[5]],this._originalRotate(o)}}}class w{constructor(c){this.canvasFactory=c,this.cache=Object.create(null)}getCanvas(c,o,C,_){let T;return void 0!==this.cache[c]?(T=this.cache[c],this.canvasFactory.reset(T,o,C),T.context.setTransform(1,0,0,1,0,0)):(T=this.canvasFactory.create(o,C),this.cache[c]=T),_&&a(T.context),T}clear(){for(const c in this.cache)this.canvasFactory.destroy(this.cache[c]),delete this.cache[c]}}class S{constructor(c,o){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=p.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=p.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,c,o])}clone(){const c=Object.create(this);return c.clipBox=this.clipBox.slice(),c}setCurrentPoint(c,o){this.x=c,this.y=o}updatePathMinMax(c,o,C){[o,C]=p.Util.applyTransform([o,C],c),this.minX=Math.min(this.minX,o),this.minY=Math.min(this.minY,C),this.maxX=Math.max(this.maxX,o),this.maxY=Math.max(this.maxY,C)}updateCurvePathMinMax(c,o,C,_,T,i,x,E,B){const g=p.Util.bezierBoundingBox(o,C,_,T,i,x,E,B);this.updatePathMinMax(c,g[0],g[1]),this.updatePathMinMax(c,g[2],g[3])}getPathBoundingBox(c=le.PathType.FILL,o=null){const C=[this.minX,this.minY,this.maxX,this.maxY];if(c===le.PathType.STROKE){o||(0,p.unreachable)("Stroke bounding box must include transform.");const _=p.Util.singularValueDecompose2dScale(o),T=_[0]*this.lineWidth/2,i=_[1]*this.lineWidth/2;C[0]-=T,C[1]-=i,C[2]+=T,C[3]+=i}return C}updateClipFromPath(){const c=p.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(c||[0,0,0,0])}startNewPathAndClipBox(c){this.clipBox=c,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(c=le.PathType.FILL,o=null){return p.Util.intersect(this.clipBox,this.getPathBoundingBox(c,o))}}function b(v,c,o=null){if("undefined"!=typeof ImageData&&c instanceof ImageData)return void v.putImageData(c,0,0);const C=c.height,_=c.width,T=C%f,i=(C-T)/f,x=0===T?i:i+1,E=v.createImageData(_,f);let g,B=0;const j=c.data,X=E.data;let $,Q,ne,he,ue,ge,h,O;if(o)switch(o.length){case 1:ue=o[0],ge=o[0],h=o[0],O=o[0];break;case 4:ue=o[0],ge=o[1],h=o[2],O=o[3]}if(c.kind===p.ImageKind.GRAYSCALE_1BPP){const ee=j.byteLength,G=new Uint32Array(X.buffer,0,X.byteLength>>2),Y=G.length,ae=_+7>>3;let pe=4294967295,fe=p.IsLittleEndianCached.value?4278190080:255;for(O&&255===O[0]&&0===O[255]&&([pe,fe]=[fe,pe]),$=0;$<x;$++){for(ne=$<i?f:T,g=0,Q=0;Q<ne;Q++){const Ae=ee-B;let ve=0;const Ce=Ae>ae?_:8*Ae-7,we=-8&Ce;let Me=0,Se=0;for(;ve<we;ve+=8)Se=j[B++],G[g++]=128&Se?pe:fe,G[g++]=64&Se?pe:fe,G[g++]=32&Se?pe:fe,G[g++]=16&Se?pe:fe,G[g++]=8&Se?pe:fe,G[g++]=4&Se?pe:fe,G[g++]=2&Se?pe:fe,G[g++]=1&Se?pe:fe;for(;ve<Ce;ve++)0===Me&&(Se=j[B++],Me=128),G[g++]=Se&Me?pe:fe,Me>>=1}for(;g<Y;)G[g++]=0;v.putImageData(E,0,$*f)}}else if(c.kind===p.ImageKind.RGBA_32BPP){const ee=!!(ue||ge||h);for(Q=0,he=_*f*4,$=0;$<i;$++){if(X.set(j.subarray(B,B+he)),B+=he,ee)for(let G=0;G<he;G+=4)ue&&(X[G+0]=ue[X[G+0]]),ge&&(X[G+1]=ge[X[G+1]]),h&&(X[G+2]=h[X[G+2]]);v.putImageData(E,0,Q),Q+=f}if($<x){if(he=_*T*4,X.set(j.subarray(B,B+he)),ee)for(let G=0;G<he;G+=4)ue&&(X[G+0]=ue[X[G+0]]),ge&&(X[G+1]=ge[X[G+1]]),h&&(X[G+2]=h[X[G+2]]);v.putImageData(E,0,Q)}}else{if(c.kind!==p.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${c.kind}`);{const ee=!!(ue||ge||h);for(ne=f,he=_*ne,$=0;$<x;$++){for($>=i&&(ne=T,he=_*ne),g=0,Q=he;Q--;)X[g++]=j[B++],X[g++]=j[B++],X[g++]=j[B++],X[g++]=255;if(ee)for(let G=0;G<g;G+=4)ue&&(X[G+0]=ue[X[G+0]]),ge&&(X[G+1]=ge[X[G+1]]),h&&(X[G+2]=h[X[G+2]]);v.putImageData(E,0,$*f)}}}}function n(v,c){const o=c.height,C=c.width,_=o%f,T=(o-_)/f,i=0===_?T:T+1,x=v.createImageData(C,f);let E=0;const B=c.data,g=x.data;for(let j=0;j<i;j++){const X=j<T?f:_;let $=3;for(let Q=0;Q<X;Q++){let ne,he=0;for(let ue=0;ue<C;ue++)he||(ne=B[E++],he=128),g[$]=ne&he?0:255,$+=4,he>>=1}v.putImageData(x,0,j*f)}}function r(v,c){const o=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let C=0,_=o.length;C<_;C++){const T=o[C];void 0!==v[T]&&(c[T]=v[T])}void 0!==v.setLineDash&&(c.setLineDash(v.getLineDash()),c.lineDashOffset=v.lineDashOffset)}function y(v){v.strokeStyle="#000000",v.fillStyle="#000000",v.fillRule="nonzero",v.globalAlpha=1,v.lineWidth=1,v.lineCap="butt",v.lineJoin="miter",v.miterLimit=10,v.globalCompositeOperation="source-over",v.font="10px sans-serif",void 0!==v.setLineDash&&(v.setLineDash([]),v.lineDashOffset=0)}function m(v,c,o,C){const _=v.length;for(let T=3;T<_;T+=4){const i=v[T];if(0===i)v[T-3]=c,v[T-2]=o,v[T-1]=C;else if(i<255){const x=255-i;v[T-3]=v[T-3]*i+c*x>>8,v[T-2]=v[T-2]*i+o*x>>8,v[T-1]=v[T-1]*i+C*x>>8}}}function A(v,c,o){const C=v.length;for(let T=3;T<C;T+=4)c[T]=c[T]*(o?o[v[T]]:v[T])*.00392156862745098|0}function D(v,c,o){const C=v.length;for(let _=3;_<C;_+=4){const T=77*v[_-3]+152*v[_-2]+28*v[_-1];c[_]=o?c[_]*o[T>>8]>>8:c[_]*T>>16}}function U(v,c){const o=p.Util.singularValueDecompose2dScale(v);o[0]=Math.fround(o[0]),o[1]=Math.fround(o[1]);const C=Math.fround((globalThis.devicePixelRatio||1)*ie.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==c?c:o[0]<=C||o[1]<=C}const N=["butt","round","square"],I=["miter","round","bevel"],H={},R={};class z{constructor(c,o,C,_,T,i,x){this.ctx=c,this.current=new S(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=o,this.objs=C,this.canvasFactory=_,this.imageLayer=T,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=i,this.cachedCanvases=new w(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=x,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,c&&a(c),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:c,viewport:o,transparency:C=!1,background:_=null}){const T=this.ctx.canvas.width,i=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=_||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,T,i),this.ctx.restore(),C){const x=this.cachedCanvases.getCanvas("transparent",T,i,!0);this.compositeCtx=this.ctx,this.transparentCanvas=x.canvas,this.ctx=x.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),y(this.ctx),c&&(this.ctx.transform.apply(this.ctx,c),this.outputScaleX=c[0],this.outputScaleY=c[0]),this.ctx.transform.apply(this.ctx,o.transform),this.viewportScale=o.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(c,o,C,_){const T=c.argsArray,i=c.fnArray;let x=o||0;const E=T.length;if(E===x)return x;const B=E-x>10&&"function"==typeof C,g=B?Date.now()+15:0;let j=0;const X=this.commonObjs,$=this.objs;let Q;for(;;){if(void 0!==_&&x===_.nextBreakPoint)return _.breakIt(x,C),x;if(Q=i[x],Q!==p.OPS.dependency)this[Q].apply(this,T[x]);else for(const ne of T[x]){const he=ne.startsWith("g_")?X:$;if(!he.has(ne))return he.get(ne,C),x}if(x++,x===E)return x;if(B&&++j>10){if(Date.now()>g)return C(),x;j=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(c,o){const C=c.width,_=c.height;let g,j,T=Math.max(Math.hypot(o[0],o[1]),1),i=Math.max(Math.hypot(o[2],o[3]),1),x=C,E=_,B="prescale1";for(;T>2&&x>1||i>2&&E>1;){let X=x,$=E;T>2&&x>1&&(X=Math.ceil(x/2),T/=x/X),i>2&&E>1&&($=Math.ceil(E/2),i/=E/$),g=this.cachedCanvases.getCanvas(B,X,$),j=g.context,j.clearRect(0,0,X,$),j.drawImage(c,0,0,x,E,0,0,X,$),c=g.canvas,x=X,E=$,B="prescale1"===B?"prescale2":"prescale1"}return{img:c,paintWidth:x,paintHeight:E}}_createMaskCanvas(c){const o=this.ctx,C=c.width,_=c.height,T=this.current.fillColor,i=this.current.patternFill,x=this.cachedCanvases.getCanvas("maskCanvas",C,_);n(x.context,c);let g=p.Util.transform(o.mozCurrentTransform,[1/C,0,0,-1/_,0,0]);g=p.Util.transform(g,[1,0,0,1,0,-_]);const j=p.Util.applyTransform([0,0],g),X=p.Util.applyTransform([C,_],g),$=p.Util.normalizeRect([j[0],j[1],X[0],X[1]]),Q=Math.ceil($[2]-$[0]),ne=Math.ceil($[3]-$[1]),he=this.cachedCanvases.getCanvas("fillCanvas",Q,ne,!0),ue=he.context,ge=Math.min(j[0],X[0]),h=Math.min(j[1],X[1]);ue.translate(-ge,-h),ue.transform.apply(ue,g);const O=this._scaleImage(x.canvas,ue.mozCurrentTransformInverse);ue.imageSmoothingEnabled=U(ue.mozCurrentTransform,c.interpolate),ue.drawImage(O.img,0,0,O.img.width,O.img.height,0,0,C,_),ue.globalCompositeOperation="source-in";const ee=p.Util.transform(ue.mozCurrentTransformInverse,[1,0,0,1,-ge,-h]);return ue.fillStyle=i?T.getPattern(o,this,ee,le.PathType.FILL):T,ue.fillRect(0,0,C,_),{canvas:he.canvas,offsetX:Math.round(ge),offsetY:Math.round(h)}}setLineWidth(c){this.current.lineWidth=c,this.ctx.lineWidth=c}setLineCap(c){this.ctx.lineCap=N[c]}setLineJoin(c){this.ctx.lineJoin=I[c]}setMiterLimit(c){this.ctx.miterLimit=c}setDash(c,o){const C=this.ctx;void 0!==C.setLineDash&&(C.setLineDash(c),C.lineDashOffset=o)}setRenderingIntent(c){}setFlatness(c){}setGState(c){for(let o=0,C=c.length;o<C;o++){const _=c[o],i=_[1];switch(_[0]){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=_[1];break;case"ca":this.current.fillAlpha=_[1],this.ctx.globalAlpha=_[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=i}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const c=this.inSMaskMode;this.current.activeSMask&&!c?this.beginSMaskMode():!this.current.activeSMask&&c&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const _=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=_.context;const T=this.ctx;T.setTransform.apply(T,this.suspendedCtx.mozCurrentTransform),r(this.suspendedCtx,T),function d(v,c){if(v._removeMirroring)throw new Error("Context is already forwarding operations.");v.__originalSave=v.save,v.__originalRestore=v.restore,v.__originalRotate=v.rotate,v.__originalScale=v.scale,v.__originalTranslate=v.translate,v.__originalTransform=v.transform,v.__originalSetTransform=v.setTransform,v.__originalResetTransform=v.resetTransform,v.__originalClip=v.clip,v.__originalMoveTo=v.moveTo,v.__originalLineTo=v.lineTo,v.__originalBezierCurveTo=v.bezierCurveTo,v.__originalRect=v.rect,v.__originalClosePath=v.closePath,v.__originalBeginPath=v.beginPath,v._removeMirroring=()=>{v.save=v.__originalSave,v.restore=v.__originalRestore,v.rotate=v.__originalRotate,v.scale=v.__originalScale,v.translate=v.__originalTranslate,v.transform=v.__originalTransform,v.setTransform=v.__originalSetTransform,v.resetTransform=v.__originalResetTransform,v.clip=v.__originalClip,v.moveTo=v.__originalMoveTo,v.lineTo=v.__originalLineTo,v.bezierCurveTo=v.__originalBezierCurveTo,v.rect=v.__originalRect,v.closePath=v.__originalClosePath,v.beginPath=v.__originalBeginPath,delete v._removeMirroring},v.save=function(){c.save(),this.__originalSave()},v.restore=function(){c.restore(),this.__originalRestore()},v.translate=function(C,_){c.translate(C,_),this.__originalTranslate(C,_)},v.scale=function(C,_){c.scale(C,_),this.__originalScale(C,_)},v.transform=function(C,_,T,i,x,E){c.transform(C,_,T,i,x,E),this.__originalTransform(C,_,T,i,x,E)},v.setTransform=function(C,_,T,i,x,E){c.setTransform(C,_,T,i,x,E),this.__originalSetTransform(C,_,T,i,x,E)},v.resetTransform=function(){c.resetTransform(),this.__originalResetTransform()},v.rotate=function(C){c.rotate(C),this.__originalRotate(C)},v.clip=function(C){c.clip(C),this.__originalClip(C)},v.moveTo=function(o,C){c.moveTo(o,C),this.__originalMoveTo(o,C)},v.lineTo=function(o,C){c.lineTo(o,C),this.__originalLineTo(o,C)},v.bezierCurveTo=function(o,C,_,T,i,x){c.bezierCurveTo(o,C,_,T,i,x),this.__originalBezierCurveTo(o,C,_,T,i,x)},v.rect=function(o,C,_,T){c.rect(o,C,_,T),this.__originalRect(o,C,_,T)},v.closePath=function(){c.closePath(),this.__originalClosePath()},v.beginPath=function(){c.beginPath(),this.__originalBeginPath()}}(T,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),r(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(c){this.current.activeSMask&&(c?(c[0]=Math.floor(c[0]),c[1]=Math.floor(c[1]),c[2]=Math.ceil(c[2]),c[3]=Math.ceil(c[3])):c=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function V(v,c,o,C){const _=C[0],T=C[1],i=C[2]-_,x=C[3]-T;0===i||0===x||(function L(v,c,o,C,_,T,i,x,E,B,g){const j=!!T,X=j?T[0]:0,$=j?T[1]:0,Q=j?T[2]:0;let ne;ne="Luminosity"===_?D:A;const ue=Math.min(C,Math.ceil(1048576/o));for(let ge=0;ge<C;ge+=ue){const h=Math.min(ue,C-ge),O=v.getImageData(x-B,ge+(E-g),o,h),ee=c.getImageData(x,ge+E,o,h);j&&m(O.data,X,$,Q),ne(O.data,ee.data,i),c.putImageData(ee,x,ge+E)}}(c.context,o,i,x,c.subtype,c.backdrop,c.transferMap,_,T,c.offsetX,c.offsetY),v.save(),v.globalAlpha=1,v.globalCompositeOperation="source-over",v.setTransform(1,0,0,1,0,0),v.drawImage(o.canvas,0,0),v.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,c),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(r(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const c=this.current;this.stateStack.push(c),this.current=c.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),r(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(c,o,C,_,T,i){this.ctx.transform(c,o,C,_,T,i),this._cachedGetSinglePixelWidth=null}constructPath(c,o){const C=this.ctx,_=this.current;let x,E,T=_.x,i=_.y;for(let B=0,g=0,j=c.length;B<j;B++)switch(0|c[B]){case p.OPS.rectangle:T=o[g++],i=o[g++];const X=o[g++],$=o[g++],Q=T+X,ne=i+$;C.moveTo(T,i),0===X||0===$?C.lineTo(Q,ne):(C.lineTo(Q,i),C.lineTo(Q,ne),C.lineTo(T,ne)),_.updatePathMinMax(C.mozCurrentTransform,T,i),_.updatePathMinMax(C.mozCurrentTransform,Q,ne),C.closePath();break;case p.OPS.moveTo:T=o[g++],i=o[g++],C.moveTo(T,i),_.updatePathMinMax(C.mozCurrentTransform,T,i);break;case p.OPS.lineTo:T=o[g++],i=o[g++],C.lineTo(T,i),_.updatePathMinMax(C.mozCurrentTransform,T,i);break;case p.OPS.curveTo:x=T,E=i,T=o[g+4],i=o[g+5],C.bezierCurveTo(o[g],o[g+1],o[g+2],o[g+3],T,i),_.updateCurvePathMinMax(C.mozCurrentTransform,x,E,o[g],o[g+1],o[g+2],o[g+3],T,i),g+=6;break;case p.OPS.curveTo2:x=T,E=i,C.bezierCurveTo(T,i,o[g],o[g+1],o[g+2],o[g+3]),_.updateCurvePathMinMax(C.mozCurrentTransform,x,E,T,i,o[g],o[g+1],o[g+2],o[g+3]),T=o[g+2],i=o[g+3],g+=4;break;case p.OPS.curveTo3:x=T,E=i,T=o[g+2],i=o[g+3],C.bezierCurveTo(o[g],o[g+1],T,i,T,i),_.updateCurvePathMinMax(C.mozCurrentTransform,x,E,o[g],o[g+1],T,i,T,i),g+=4;break;case p.OPS.closePath:C.closePath()}_.setCurrentPoint(T,i)}closePath(){this.ctx.closePath()}stroke(c){c=void 0===c||c;const o=this.ctx,C=this.current.strokeColor;if(o.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof C&&(null==C?void 0:C.getPattern)){const _=this.getSinglePixelWidth();o.save(),o.strokeStyle=C.getPattern(o,this,o.mozCurrentTransformInverse,le.PathType.STROKE),o.lineWidth=Math.max(_,this.current.lineWidth),o.stroke(),o.restore()}else{const _=this.getSinglePixelWidth();_<0&&-_>=this.current.lineWidth?(o.save(),o.resetTransform(),o.lineWidth=Math.floor(this._combinedScaleFactor),o.stroke(),o.restore()):(o.lineWidth=Math.max(_,this.current.lineWidth),o.stroke())}c&&this.consumePath(this.current.getClippedPathBoundingBox()),o.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(c){c=void 0===c||c;const o=this.ctx,C=this.current.fillColor;let T=!1;this.current.patternFill&&(o.save(),o.fillStyle=C.getPattern(o,this,o.mozCurrentTransformInverse,le.PathType.FILL),T=!0);const i=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==i&&(this.pendingEOFill?(o.fill("evenodd"),this.pendingEOFill=!1):o.fill()),T&&o.restore(),c&&this.consumePath(i)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=H}eoClip(){this.pendingClip=R}beginText(){this.current.textMatrix=p.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const c=this.pendingTextPaths,o=this.ctx;if(void 0!==c){o.save(),o.beginPath();for(let C=0;C<c.length;C++){const _=c[C];o.setTransform.apply(o,_.transform),o.translate(_.x,_.y),_.addToPath(o,_.fontSize)}o.restore(),o.clip(),o.beginPath(),delete this.pendingTextPaths}else o.beginPath()}setCharSpacing(c){this.current.charSpacing=c}setWordSpacing(c){this.current.wordSpacing=c}setHScale(c){this.current.textHScale=c/100}setLeading(c){this.current.leading=-c}setFont(c,o){const C=this.commonObjs.get(c),_=this.current;if(!C)throw new Error(`Can't find font for ${c}`);if(_.fontMatrix=C.fontMatrix||p.FONT_IDENTITY_MATRIX,(0===_.fontMatrix[0]||0===_.fontMatrix[3])&&(0,p.warn)("Invalid font matrix for font "+c),o<0?(o=-o,_.fontDirection=-1):_.fontDirection=1,this.current.font=C,this.current.fontSize=o,C.isType3Font)return;let i="normal";C.black?i="900":C.bold&&(i="bold");const x=C.italic?"italic":"normal",E=`"${C.loadedName||"sans-serif"}", ${C.fallbackName}`;let B=o;o<16?B=16:o>100&&(B=100),this.current.fontSizeScale=o/B,this.ctx.font=`${x} ${i} ${B}px ${E}`}setTextRenderingMode(c){this.current.textRenderingMode=c}setTextRise(c){this.current.textRise=c}moveText(c,o){this.current.x=this.current.lineX+=c,this.current.y=this.current.lineY+=o}setLeadingMoveText(c,o){this.setLeading(-o),this.moveText(c,o)}setTextMatrix(c,o,C,_,T,i){this.current.textMatrix=[c,o,C,_,T,i],this.current.textMatrixScale=Math.hypot(c,o),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(c,o,C,_,T){const i=this.ctx,x=this.current,E=x.font,B=x.textRenderingMode,g=x.fontSize/x.fontSizeScale,j=B&p.TextRenderingMode.FILL_STROKE_MASK,X=!!(B&p.TextRenderingMode.ADD_TO_PATH_FLAG),$=x.patternFill&&!E.missingFile;let Q;(E.disableFontFace||X||$)&&(Q=E.getPathGenerator(this.commonObjs,c)),E.disableFontFace||$?(i.save(),i.translate(o,C),i.beginPath(),Q(i,g),_&&i.setTransform.apply(i,_),(j===p.TextRenderingMode.FILL||j===p.TextRenderingMode.FILL_STROKE)&&i.fill(),(j===p.TextRenderingMode.STROKE||j===p.TextRenderingMode.FILL_STROKE)&&(T&&(i.resetTransform(),i.lineWidth=Math.floor(this._combinedScaleFactor)),i.stroke()),i.restore()):((j===p.TextRenderingMode.FILL||j===p.TextRenderingMode.FILL_STROKE)&&i.fillText(c,o,C),(j===p.TextRenderingMode.STROKE||j===p.TextRenderingMode.FILL_STROKE)&&(T?(i.save(),i.moveTo(o,C),i.resetTransform(),i.lineWidth=Math.floor(this._combinedScaleFactor),i.strokeText(c,0,0),i.restore()):i.strokeText(c,o,C))),X&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:i.mozCurrentTransform,x:o,y:C,fontSize:g,addToPath:Q})}get isFontSubpixelAAEnabled(){const{context:c}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);c.scale(1.5,1),c.fillText("I",0,10);const o=c.getImageData(0,0,10,10).data;let C=!1;for(let _=3;_<o.length;_+=4)if(o[_]>0&&o[_]<255){C=!0;break}return(0,p.shadow)(this,"isFontSubpixelAAEnabled",C)}showText(c){const o=this.current,C=o.font;if(C.isType3Font)return this.showType3Text(c);const _=o.fontSize;if(0===_)return;const T=this.ctx,i=o.fontSizeScale,x=o.charSpacing,E=o.wordSpacing,B=o.fontDirection,g=o.textHScale*B,j=c.length,X=C.vertical,$=X?1:-1,Q=C.defaultVMetrics,ne=_*o.fontMatrix[0],he=o.textRenderingMode===p.TextRenderingMode.FILL&&!C.disableFontFace&&!o.patternFill;let ue;if(T.save(),T.transform.apply(T,o.textMatrix),T.translate(o.x,o.y+o.textRise),T.scale(g,B>0?-1:1),o.patternFill){T.save();const Y=o.fillColor.getPattern(T,this,T.mozCurrentTransformInverse,le.PathType.FILL);ue=T.mozCurrentTransform,T.restore(),T.fillStyle=Y}let ge=o.lineWidth,h=!1;const O=o.textMatrixScale;if(0===O||0===ge){const Y=o.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;(Y===p.TextRenderingMode.STROKE||Y===p.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,ge=this.getSinglePixelWidth(),h=ge<0)}else ge/=O;1!==i&&(T.scale(i,i),ge/=i),T.lineWidth=ge;let G,ee=0;for(G=0;G<j;++G){const Y=c[G];if("number"==typeof Y){ee+=$*Y*_/1e3;continue}let ae=!1;const pe=(Y.isSpace?E:0)+x,fe=Y.fontChar,Ae=Y.accent;let ve,Ce,Me,we=Y.width;if(X){const Se=Y.vmetric||Q,Ee=-(Y.vmetric?Se[1]:.5*we)*ne;we=Se?-Se[0]:we,ve=Ee/i,Ce=(ee+Se[2]*ne)/i}else ve=ee/i,Ce=0;if(C.remeasure&&we>0){const Se=1e3*T.measureText(fe).width/_*i;if(we<Se&&this.isFontSubpixelAAEnabled){const Ee=we/Se;ae=!0,T.save(),T.scale(Ee,1),ve/=Ee}else we!==Se&&(ve+=(we-Se)/2e3*_/i)}this.contentVisible&&(Y.isInFont||C.missingFile)&&(he&&!Ae?T.fillText(fe,ve,Ce):(this.paintChar(fe,ve,Ce,ue,h),Ae&&this.paintChar(Ae.fontChar,ve+_*Ae.offset.x/i,Ce-_*Ae.offset.y/i,ue,h))),Me=X?we*ne-pe*B:we*ne+pe*B,ee+=Me,ae&&T.restore()}X?o.y-=ee:o.x+=ee*g,T.restore(),this.compose()}showType3Text(c){const o=this.ctx,C=this.current,_=C.font,T=C.fontSize,i=C.fontDirection,x=_.vertical?1:-1,E=C.charSpacing,B=C.wordSpacing,g=C.textHScale*i,j=C.fontMatrix||p.FONT_IDENTITY_MATRIX,X=c.length;let Q,ne,he,ue;if(C.textRenderingMode!==p.TextRenderingMode.INVISIBLE&&0!==T){for(this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,C.textMatrix),o.translate(C.x,C.y),o.scale(g,i),Q=0;Q<X;++Q){if(ne=c[Q],"number"==typeof ne){ue=x*ne*T/1e3,this.ctx.translate(ue,0),C.x+=ue*g;continue}const ge=(ne.isSpace?B:0)+E,h=_.charProcOperatorList[ne.operatorListId];h?(this.contentVisible&&(this.processingType3=ne,this.save(),o.scale(T,T),o.transform.apply(o,j),this.executeOperatorList(h),this.restore()),he=p.Util.applyTransform([ne.width,0],j)[0]*T+ge,o.translate(he,0),C.x+=he*g):(0,p.warn)(`Type3 character "${ne.operatorListId}" is not available.`)}o.restore(),this.processingType3=null}}setCharWidth(c,o){}setCharWidthAndBounds(c,o,C,_,T,i){this.ctx.rect(C,_,T-C,i-_),this.clip(),this.endPath()}getColorN_Pattern(c){let o;if("TilingPattern"===c[0]){const C=c[1],_=this.baseTransform||this.ctx.mozCurrentTransform.slice();o=new le.TilingPattern(c,C,this.ctx,{createCanvasGraphics:i=>new z(i,this.commonObjs,this.objs,this.canvasFactory)},_)}else o=this._getPattern(c[1],c[2]);return o}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(c,o,C){const _=p.Util.makeHexColor(c,o,C);this.ctx.strokeStyle=_,this.current.strokeColor=_}setFillRGBColor(c,o,C){const _=p.Util.makeHexColor(c,o,C);this.ctx.fillStyle=_,this.current.fillColor=_,this.current.patternFill=!1}_getPattern(c,o=null){let C;return this.cachedPatterns.has(c)?C=this.cachedPatterns.get(c):(C=(0,le.getShadingPattern)(this.objs.get(c)),this.cachedPatterns.set(c,C)),o&&(C.matrix=o),C}shadingFill(c){if(!this.contentVisible)return;const o=this.ctx;this.save();const C=this._getPattern(c);o.fillStyle=C.getPattern(o,this,o.mozCurrentTransformInverse,le.PathType.SHADING);const _=o.mozCurrentTransformInverse;if(_){const T=o.canvas,i=T.width,x=T.height,E=p.Util.applyTransform([0,0],_),B=p.Util.applyTransform([0,x],_),g=p.Util.applyTransform([i,0],_),j=p.Util.applyTransform([i,x],_),X=Math.min(E[0],B[0],g[0],j[0]),$=Math.min(E[1],B[1],g[1],j[1]),Q=Math.max(E[0],B[0],g[0],j[0]),ne=Math.max(E[1],B[1],g[1],j[1]);this.ctx.fillRect(X,$,Q-X,ne-$)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,p.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,p.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(c,o){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(c)&&6===c.length&&this.transform.apply(this,c),this.baseTransform=this.ctx.mozCurrentTransform,o)&&(this.ctx.rect(o[0],o[1],o[2]-o[0],o[3]-o[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,o[0],o[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,o[2],o[3]),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(c){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const o=this.ctx;c.isolated||(0,p.info)("TODO: Support non-isolated groups."),c.knockout&&(0,p.warn)("Knockout groups not supported.");const C=o.mozCurrentTransform;if(c.matrix&&o.transform.apply(o,c.matrix),!c.bbox)throw new Error("Bounding box is required.");let _=p.Util.getAxialAlignedBoundingBox(c.bbox,o.mozCurrentTransform);_=p.Util.intersect(_,[0,0,o.canvas.width,o.canvas.height])||[0,0,0,0];const i=Math.floor(_[0]),x=Math.floor(_[1]);let E=Math.max(Math.ceil(_[2])-i,1),B=Math.max(Math.ceil(_[3])-x,1),g=1,j=1;E>e&&(g=E/e,E=e),B>e&&(j=B/e,B=e),this.current.startNewPathAndClipBox([0,0,E,B]);let X="groupAt"+this.groupLevel;c.smask&&(X+="_smask_"+this.smaskCounter++%2);const $=this.cachedCanvases.getCanvas(X,E,B,!0),Q=$.context;Q.scale(1/g,1/j),Q.translate(-i,-x),Q.transform.apply(Q,C),c.smask?this.smaskStack.push({canvas:$.canvas,context:Q,offsetX:i,offsetY:x,scaleX:g,scaleY:j,subtype:c.smask.subtype,backdrop:c.smask.backdrop,transferMap:c.smask.transferMap||null,startTransformInverse:null}):(o.setTransform(1,0,0,1,0,0),o.translate(i,x),o.scale(g,j),o.save()),r(o,Q),this.ctx=Q,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(o),this.groupLevel++}endGroup(c){if(!this.contentVisible)return;this.groupLevel--;const o=this.ctx,C=this.groupStack.pop();if(this.ctx=C,this.ctx.imageSmoothingEnabled=!1,c.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const _=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,_);const T=p.Util.getAxialAlignedBoundingBox([0,0,o.canvas.width,o.canvas.height],_);this.ctx.drawImage(o.canvas,0,0),this.ctx.restore(),this.compose(T)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(c,o,C,_,T){if(this.save(),Array.isArray(o)&&4===o.length){const i=o[2]-o[0],x=o[3]-o[1];if(T&&this.annotationCanvasMap){(C=C.slice())[4]-=o[0],C[5]-=o[1],(o=o.slice())[0]=o[1]=0,o[2]=i,o[3]=x;const[E,B]=p.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:g}=this,j=Math.ceil(i*this.outputScaleX*g),X=Math.ceil(x*this.outputScaleY*g);this.annotationCanvas=this.canvasFactory.create(j,X);const{canvas:$,context:Q}=this.annotationCanvas;$.style.width=`calc(${i}px * var(--viewport-scale-factor))`,$.style.height=`calc(${x}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(c,$),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Q,this.ctx.setTransform(E,0,0,-B,0,x*B),a(this.ctx),y(this.ctx)}else y(this.ctx),this.ctx.rect(o[0],o[1],i,x),this.clip(),this.endPath()}this.current=new S(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,C),this.transform.apply(this,_)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(c){if(!this.contentVisible)return;const o=this.ctx,C=c.width,_=c.height,T=this.processingType3;if(T&&void 0===T.compiled&&(T.compiled=C<=1e3&&_<=1e3?function F(v){const o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),C=v.width,_=v.height,T=C+1;let i,x,E,B;const g=new Uint8Array(T*(_+1)),j=C+7&-8,X=v.data,$=new Uint8Array(j*_);let Q=0;for(i=0,x=X.length;i<x;i++){const h=X[i];let O=128;for(;O>0;)$[Q++]=h&O?0:255,O>>=1}let ne=0;for(Q=0,0!==$[Q]&&(g[0]=1,++ne),E=1;E<C;E++)$[Q]!==$[Q+1]&&(g[E]=$[Q]?2:1,++ne),Q++;for(0!==$[Q]&&(g[E]=2,++ne),i=1;i<_;i++){Q=i*j,B=i*T,$[Q-j]!==$[Q]&&(g[B]=$[Q]?1:8,++ne);let h=($[Q]?4:0)+($[Q-j]?8:0);for(E=1;E<C;E++)h=(h>>2)+($[Q+1]?4:0)+($[Q-j+1]?8:0),o[h]&&(g[B+E]=o[h],++ne),Q++;if($[Q-j]!==$[Q]&&(g[B+E]=$[Q]?2:4,++ne),ne>1e3)return null}for(Q=j*(_-1),B=i*T,0!==$[Q]&&(g[B]=8,++ne),E=1;E<C;E++)$[Q]!==$[Q+1]&&(g[B+E]=$[Q]?4:8,++ne),Q++;if(0!==$[Q]&&(g[B+E]=4,++ne),ne>1e3)return null;const he=new Int32Array([0,T,-1,0,-T,0,0,0,1]),ue=[];for(i=0;ne&&i<=_;i++){let h=i*T;const O=h+C;for(;h<O&&!g[h];)h++;if(h===O)continue;const ee=[h%T,i],G=h;let Y=g[h];do{const ae=he[Y];do{h+=ae}while(!g[h]);const pe=g[h];5!==pe&&10!==pe?(Y=pe,g[h]=0):(Y=pe&51*Y>>4,g[h]&=Y>>2|Y<<2),ee.push(h%T,h/T|0),g[h]||--ne}while(G!==h);ue.push(ee),--i}return function(h){h.save(),h.scale(1/C,-1/_),h.translate(0,-_),h.beginPath();for(let O=0,ee=ue.length;O<ee;O++){const G=ue[O];h.moveTo(G[0],G[1]);for(let Y=2,ae=G.length;Y<ae;Y+=2)h.lineTo(G[Y],G[Y+1])}h.fill(),h.beginPath(),h.restore()}}({data:c.data,width:C,height:_}):null),null==T?void 0:T.compiled)return void T.compiled(o);const i=this._createMaskCanvas(c),x=i.canvas;o.save(),o.setTransform(1,0,0,1,0,0),o.drawImage(x,i.offsetX,i.offsetY),o.restore(),this.compose()}paintImageMaskXObjectRepeat(c,o,C=0,_=0,T,i){if(!this.contentVisible)return;const x=this.ctx;x.save();const E=x.mozCurrentTransform;x.transform(o,C,_,T,0,0);const B=this._createMaskCanvas(c);x.setTransform(1,0,0,1,0,0);for(let g=0,j=i.length;g<j;g+=2){const X=p.Util.transform(E,[o,C,_,T,i[g],i[g+1]]),[$,Q]=p.Util.applyTransform([0,0],X);x.drawImage(B.canvas,$,Q)}x.restore(),this.compose()}paintImageMaskXObjectGroup(c){if(!this.contentVisible)return;const o=this.ctx,C=this.current.fillColor,_=this.current.patternFill;for(let T=0,i=c.length;T<i;T++){const x=c[T],E=x.width,B=x.height,g=this.cachedCanvases.getCanvas("maskCanvas",E,B),j=g.context;j.save(),n(j,x),j.globalCompositeOperation="source-in",j.fillStyle=_?C.getPattern(j,this,o.mozCurrentTransformInverse,le.PathType.FILL):C,j.fillRect(0,0,E,B),j.restore(),o.save(),o.transform.apply(o,x.transform),o.scale(1,-1),o.drawImage(g.canvas,0,0,E,B,0,-1,1,1),o.restore()}this.compose()}paintImageXObject(c){if(!this.contentVisible)return;const o=c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c);o?this.paintInlineImageXObject(o):(0,p.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(c,o,C,_){if(!this.contentVisible)return;const T=c.startsWith("g_")?this.commonObjs.get(c):this.objs.get(c);if(!T)return void(0,p.warn)("Dependent image isn't ready yet");const i=T.width,x=T.height,E=[];for(let B=0,g=_.length;B<g;B+=2)E.push({transform:[o,0,0,C,_[B],_[B+1]],x:0,y:0,w:i,h:x});this.paintInlineImageXObjectGroup(T,E)}paintInlineImageXObject(c){if(!this.contentVisible)return;const o=c.width,C=c.height,_=this.ctx;let T;if(this.save(),_.scale(1/o,-1/C),"function"==typeof HTMLElement&&c instanceof HTMLElement||!c.data)T=c;else{const x=this.cachedCanvases.getCanvas("inlineImage",o,C);b(x.context,c,this.current.transferMaps),T=x.canvas}const i=this._scaleImage(T,_.mozCurrentTransformInverse);if(_.imageSmoothingEnabled=U(_.mozCurrentTransform,c.interpolate),_.drawImage(i.img,0,0,i.paintWidth,i.paintHeight,0,-C,o,C),this.imageLayer){const x=this.getCanvasPosition(0,-C);this.imageLayer.appendImage({imgData:c,left:x[0],top:x[1],width:o/_.mozCurrentTransformInverse[0],height:C/_.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(c,o){if(!this.contentVisible)return;const C=this.ctx,_=c.width,T=c.height,i=this.cachedCanvases.getCanvas("inlineImage",_,T);b(i.context,c,this.current.transferMaps);for(let E=0,B=o.length;E<B;E++){const g=o[E];if(C.save(),C.transform.apply(C,g.transform),C.scale(1,-1),C.drawImage(i.canvas,g.x,g.y,g.w,g.h,0,-1,1,1),this.imageLayer){const j=this.getCanvasPosition(g.x,g.y);this.imageLayer.appendImage({imgData:c,left:j[0],top:j[1],width:_,height:T})}C.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(c){}markPointProps(c,o){}beginMarkedContent(c){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(c,o){this.markedContentStack.push("OC"===c?{visible:this.optionalContentConfig.isVisible(o)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(c){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(c);const o=this.ctx;this.pendingClip&&(this.pendingClip===R?o.clip("evenodd"):o.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),o.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const c=this.ctx.mozCurrentTransform,o=Math.abs(c[0]*c[3]-c[2]*c[1]),C=c[0]**2+c[2]**2,_=c[1]**2+c[3]**2,T=Math.sqrt(Math.max(C,_))/o;this._cachedGetSinglePixelWidth=C!==_&&this._combinedScaleFactor*T>1?-this._combinedScaleFactor*T:o>Number.EPSILON?T:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(c,o){const C=this.ctx.mozCurrentTransform;return[C[0]*c+C[2]*o+C[4],C[1]*c+C[3]*o+C[5]]}isContentVisible(){for(let c=this.markedContentStack.length-1;c>=0;c--)if(!this.markedContentStack[c].visible)return!1;return!0}}M.CanvasGraphics=z;for(const v in p.OPS)void 0!==z.prototype[v]&&(z.prototype[p.OPS[v]]=z.prototype[v])},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.TilingPattern=M.PathType=void 0,M.getShadingPattern=function l(d){switch(d[0]){case"RadialAxial":return new te(d);case"Mesh":return new u(d);case"Dummy":return new s}throw new Error(`Unknown IR type: ${d[0]}`)};var p=K(1);const le={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function ie(d,a){if(!a||"undefined"==typeof Path2D)return;const w=a[2]-a[0],F=a[3]-a[1],S=new Path2D;S.rect(a[0],a[1],w,F),d.clip(S)}M.PathType=le;class se{constructor(){this.constructor===se&&(0,p.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,p.unreachable)("Abstract method `getPattern` called.")}}class te extends se{constructor(a){super(),this._type=a[1],this._bbox=a[2],this._colorStops=a[3],this._p0=a[4],this._p1=a[5],this._r0=a[6],this._r1=a[7],this.matrix=null}_createGradient(a){let w;"axial"===this._type?w=a.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(w=a.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const F of this._colorStops)w.addColorStop(F[0],F[1]);return w}getPattern(a,w,F,S){let b;if(S===le.STROKE||S===le.FILL){const n=w.current.getClippedPathBoundingBox(S,a.mozCurrentTransform)||[0,0,0,0],r=Math.ceil(n[2]-n[0])||1,y=Math.ceil(n[3]-n[1])||1,m=w.cachedCanvases.getCanvas("pattern",r,y,!0),A=m.context;A.clearRect(0,0,A.canvas.width,A.canvas.height),A.beginPath(),A.rect(0,0,A.canvas.width,A.canvas.height),A.translate(-n[0],-n[1]),F=p.Util.transform(F,[1,0,0,1,n[0],n[1]]),A.transform.apply(A,w.baseTransform),this.matrix&&A.transform.apply(A,this.matrix),ie(A,this._bbox),A.fillStyle=this._createGradient(A),A.fill(),b=a.createPattern(m.canvas,"no-repeat");const D=new DOMMatrix(F);try{b.setTransform(D)}catch(L){(0,p.warn)(`RadialAxialShadingPattern.getPattern: "${null==L?void 0:L.message}".`)}}else ie(a,this._bbox),b=this._createGradient(a);return b}}function e(d,a,w,F,S,b,n,r){const y=a.coords,m=a.colors,A=d.data,D=4*d.width;let L;y[w+1]>y[F+1]&&(L=w,w=F,F=L,L=b,b=n,n=L),y[F+1]>y[S+1]&&(L=F,F=S,S=L,L=n,n=r,r=L),y[w+1]>y[F+1]&&(L=w,w=F,F=L,L=b,b=n,n=L);const V=(y[w]+a.offsetX)*a.scaleX,U=(y[w+1]+a.offsetY)*a.scaleY,N=(y[F]+a.offsetX)*a.scaleX,I=(y[F+1]+a.offsetY)*a.scaleY,H=(y[S]+a.offsetX)*a.scaleX,R=(y[S+1]+a.offsetY)*a.scaleY;if(U>=R)return;const z=m[b],v=m[b+1],c=m[b+2],o=m[n],C=m[n+1],_=m[n+2],T=m[r],i=m[r+1],x=m[r+2],E=Math.round(U),B=Math.round(R);let g,j,X,$,Q,ne,he,ue;for(let ge=E;ge<=B;ge++){if(ge<I){let Y;Y=ge<U?0:(U-ge)/(U-I),g=V-(V-N)*Y,j=z-(z-o)*Y,X=v-(v-C)*Y,$=c-(c-_)*Y}else{let Y;Y=ge>R?1:I===R?0:(I-ge)/(I-R),g=N-(N-H)*Y,j=o-(o-T)*Y,X=C-(C-i)*Y,$=_-(_-x)*Y}let h;h=ge<U?0:ge>R?1:(U-ge)/(U-R),Q=V-(V-H)*h,ne=z-(z-T)*h,he=v-(v-i)*h,ue=c-(c-x)*h;const O=Math.round(Math.min(g,Q)),ee=Math.round(Math.max(g,Q));let G=D*ge+4*O;for(let Y=O;Y<=ee;Y++)h=(g-Y)/(g-Q),h<0?h=0:h>1&&(h=1),A[G++]=j-(j-ne)*h|0,A[G++]=X-(X-he)*h|0,A[G++]=$-($-ue)*h|0,A[G++]=255}}function t(d,a,w){const F=a.coords,S=a.colors;let b,n;switch(a.type){case"lattice":const r=a.verticesPerRow,y=Math.floor(F.length/r)-1,m=r-1;for(b=0;b<y;b++){let A=b*r;for(let D=0;D<m;D++,A++)e(d,w,F[A],F[A+1],F[A+r],S[A],S[A+1],S[A+r]),e(d,w,F[A+r+1],F[A+1],F[A+r],S[A+r+1],S[A+1],S[A+r])}break;case"triangles":for(b=0,n=F.length;b<n;b+=3)e(d,w,F[b],F[b+1],F[b+2],S[b],S[b+1],S[b+2]);break;default:throw new Error("illegal figure")}}class u extends se{constructor(a){super(),this._coords=a[2],this._colors=a[3],this._figures=a[4],this._bounds=a[5],this._bbox=a[7],this._background=a[8],this.matrix=null}_createMeshCanvas(a,w,F){const r=Math.floor(this._bounds[0]),y=Math.floor(this._bounds[1]),m=Math.ceil(this._bounds[2])-r,A=Math.ceil(this._bounds[3])-y,D=Math.min(Math.ceil(Math.abs(m*a[0]*1.1)),3e3),L=Math.min(Math.ceil(Math.abs(A*a[1]*1.1)),3e3),V=m/D,U=A/L,N={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-y,scaleX:1/V,scaleY:1/U},R=F.getCanvas("mesh",D+4,L+4,!1),z=R.context,v=z.createImageData(D,L);if(w){const o=v.data;for(let C=0,_=o.length;C<_;C+=4)o[C]=w[0],o[C+1]=w[1],o[C+2]=w[2],o[C+3]=255}for(const o of this._figures)t(v,o,N);return z.putImageData(v,2,2),{canvas:R.canvas,offsetX:r-2*V,offsetY:y-2*U,scaleX:V,scaleY:U}}getPattern(a,w,F,S){let b;if(ie(a,this._bbox),S===le.SHADING)b=p.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(b=p.Util.singularValueDecompose2dScale(w.baseTransform),this.matrix){const r=p.Util.singularValueDecompose2dScale(this.matrix);b=[b[0]*r[0],b[1]*r[1]]}const n=this._createMeshCanvas(b,S===le.SHADING?null:this._background,w.cachedCanvases);return S!==le.SHADING&&(a.setTransform.apply(a,w.baseTransform),this.matrix&&a.transform.apply(a,this.matrix)),a.translate(n.offsetX,n.offsetY),a.scale(n.scaleX,n.scaleY),a.createPattern(n.canvas,"no-repeat")}}class s extends se{getPattern(){return"hotpink"}}class k{static get MAX_PATTERN_SIZE(){return(0,p.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(a,w,F,S,b){this.operatorList=a[2],this.matrix=a[3]||[1,0,0,1,0,0],this.bbox=a[4],this.xstep=a[5],this.ystep=a[6],this.paintType=a[7],this.tilingType=a[8],this.color=w,this.ctx=F,this.canvasGraphicsFactory=S,this.baseTransform=b}createPatternCanvas(a){const w=this.operatorList,F=this.bbox,S=this.xstep,b=this.ystep,n=this.paintType,y=this.color,m=this.canvasGraphicsFactory;(0,p.info)("TilingType: "+this.tilingType);const A=F[0],D=F[1],L=F[2],V=F[3],U=p.Util.singularValueDecompose2dScale(this.matrix),N=p.Util.singularValueDecompose2dScale(this.baseTransform),I=[U[0]*N[0],U[1]*N[1]],H=this.getSizeAndScale(S,this.ctx.canvas.width,I[0]),R=this.getSizeAndScale(b,this.ctx.canvas.height,I[1]),z=a.cachedCanvases.getCanvas("pattern",H.size,R.size,!0),v=z.context,c=m.createCanvasGraphics(v);c.groupLevel=a.groupLevel,this.setFillAndStrokeStyleToContext(c,n,y);let o=A,C=D,_=L,T=V;return A<0&&(o=0,_+=Math.abs(A)),D<0&&(C=0,T+=Math.abs(D)),v.translate(-H.scale*o,-R.scale*C),c.transform(H.scale,0,0,R.scale,0,0),v.save(),this.clipBbox(c,o,C,_,T),c.baseTransform=c.ctx.mozCurrentTransform.slice(),c.executeOperatorList(w),c.endDrawing(),{canvas:z.canvas,scaleX:H.scale,scaleY:R.scale,offsetX:o,offsetY:C}}getSizeAndScale(a,w,F){a=Math.abs(a);const S=Math.max(k.MAX_PATTERN_SIZE,w);let b=Math.ceil(a*F);return b>=S?b=S:F=b/a,{scale:F,size:b}}clipBbox(a,w,F,S,b){a.ctx.rect(w,F,S-w,b-F),a.clip(),a.endPath()}setFillAndStrokeStyleToContext(a,w,F){const S=a.ctx,b=a.current;switch(w){case 1:const n=this.ctx;S.fillStyle=n.fillStyle,S.strokeStyle=n.strokeStyle,b.fillColor=n.fillStyle,b.strokeColor=n.strokeStyle;break;case 2:const r=p.Util.makeHexColor(F[0],F[1],F[2]);S.fillStyle=r,S.strokeStyle=r,b.fillColor=r,b.strokeColor=r;break;default:throw new p.FormatError(`Unsupported paint type: ${w}`)}}getPattern(a,w,F,S){let b=F;S!==le.SHADING&&(b=p.Util.transform(b,w.baseTransform),this.matrix&&(b=p.Util.transform(b,this.matrix)));const n=this.createPatternCanvas(w);let r=new DOMMatrix(b);r=r.translate(n.offsetX,n.offsetY),r=r.scale(1/n.scaleX,1/n.scaleY);const y=a.createPattern(n.canvas,"repeat");try{y.setTransform(r)}catch(m){(0,p.warn)(`TilingPattern.getPattern: "${null==m?void 0:m.message}".`)}return y}}M.TilingPattern=k},(de,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.GlobalWorkerOptions=void 0;const K=Object.create(null);M.GlobalWorkerOptions=K,K.workerPort=void 0===K.workerPort?null:K.workerPort,K.workerSrc=void 0===K.workerSrc?"":K.workerSrc},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.MessageHandler=void 0;var p=K(1);function se(e){switch(e instanceof Error||"object"==typeof e&&null!==e||(0,p.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new p.AbortException(e.message);case"MissingPDFException":return new p.MissingPDFException(e.message);case"PasswordException":return new p.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new p.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new p.UnknownErrorException(e.message,e.details);default:return new p.UnknownErrorException(e.message,e.toString())}}M.MessageHandler=class te{constructor(t,u,s){this.sourceName=t,this.targetName=u,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=l=>{const f=l.data;if(f.targetName!==this.sourceName)return;if(f.stream)return void this._processStreamMessage(f);if(f.callback){const d=f.callbackId,a=this.callbackCapabilities[d];if(!a)throw new Error(`Cannot resolve callback ${d}`);if(delete this.callbackCapabilities[d],1===f.callback)a.resolve(f.data);else{if(2!==f.callback)throw new Error("Unexpected callback case");a.reject(se(f.reason))}return}const k=this.actionHandler[f.action];if(!k)throw new Error(`Unknown action from worker: ${f.action}`);if(f.callbackId){const d=this.sourceName,a=f.sourceName;new Promise(function(w){w(k(f.data))}).then(function(w){s.postMessage({sourceName:d,targetName:a,callback:1,callbackId:f.callbackId,data:w})},function(w){s.postMessage({sourceName:d,targetName:a,callback:2,callbackId:f.callbackId,reason:se(w)})})}else f.streamId?this._createStreamSink(f):k(f.data)},s.addEventListener("message",this._onComObjOnMessage)}on(t,u){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=u}send(t,u,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:u},s)}sendWithPromise(t,u,s){const l=this.callbackId++,f=(0,p.createPromiseCapability)();this.callbackCapabilities[l]=f;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:l,data:u},s)}catch(k){f.reject(k)}return f.promise}sendWithStream(t,u,s,l){const f=this.streamId++,k=this.sourceName,d=this.targetName,a=this.comObj;return new ReadableStream({start:w=>{const F=(0,p.createPromiseCapability)();return this.streamControllers[f]={controller:w,startCall:F,pullCall:null,cancelCall:null,isClosed:!1},a.postMessage({sourceName:k,targetName:d,action:t,streamId:f,data:u,desiredSize:w.desiredSize},l),F.promise},pull:w=>{const F=(0,p.createPromiseCapability)();return this.streamControllers[f].pullCall=F,a.postMessage({sourceName:k,targetName:d,stream:6,streamId:f,desiredSize:w.desiredSize}),F.promise},cancel:w=>{(0,p.assert)(w instanceof Error,"cancel must have a valid reason");const F=(0,p.createPromiseCapability)();return this.streamControllers[f].cancelCall=F,this.streamControllers[f].isClosed=!0,a.postMessage({sourceName:k,targetName:d,stream:1,streamId:f,reason:se(w)}),F.promise}},s)}_createStreamSink(t){const u=t.streamId,s=this.sourceName,l=t.sourceName,f=this.comObj,k=this,d=this.actionHandler[t.action],a={enqueue(w,F=1,S){if(this.isCancelled)return;const b=this.desiredSize;this.desiredSize-=F,b>0&&this.desiredSize<=0&&(this.sinkCapability=(0,p.createPromiseCapability)(),this.ready=this.sinkCapability.promise),f.postMessage({sourceName:s,targetName:l,stream:4,streamId:u,chunk:w},S)},close(){this.isCancelled||(this.isCancelled=!0,f.postMessage({sourceName:s,targetName:l,stream:3,streamId:u}),delete k.streamSinks[u])},error(w){(0,p.assert)(w instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,f.postMessage({sourceName:s,targetName:l,stream:5,streamId:u,reason:se(w)}))},sinkCapability:(0,p.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};a.sinkCapability.resolve(),a.ready=a.sinkCapability.promise,this.streamSinks[u]=a,new Promise(function(w){w(d(t.data,a))}).then(function(){f.postMessage({sourceName:s,targetName:l,stream:8,streamId:u,success:!0})},function(w){f.postMessage({sourceName:s,targetName:l,stream:8,streamId:u,reason:se(w)})})}_processStreamMessage(t){const u=t.streamId,s=this.sourceName,l=t.sourceName,f=this.comObj,k=this.streamControllers[u],d=this.streamSinks[u];switch(t.stream){case 8:t.success?k.startCall.resolve():k.startCall.reject(se(t.reason));break;case 7:t.success?k.pullCall.resolve():k.pullCall.reject(se(t.reason));break;case 6:if(!d){f.postMessage({sourceName:s,targetName:l,stream:7,streamId:u,success:!0});break}d.desiredSize<=0&&t.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=t.desiredSize,new Promise(function(a){a(d.onPull&&d.onPull())}).then(function(){f.postMessage({sourceName:s,targetName:l,stream:7,streamId:u,success:!0})},function(a){f.postMessage({sourceName:s,targetName:l,stream:7,streamId:u,reason:se(a)})});break;case 4:if((0,p.assert)(k,"enqueue should have stream controller"),k.isClosed)break;k.controller.enqueue(t.chunk);break;case 3:if((0,p.assert)(k,"close should have stream controller"),k.isClosed)break;k.isClosed=!0,k.controller.close(),this._deleteStreamController(k,u);break;case 5:(0,p.assert)(k,"error should have stream controller"),k.controller.error(se(t.reason)),this._deleteStreamController(k,u);break;case 2:t.success?k.cancelCall.resolve():k.cancelCall.reject(se(t.reason)),this._deleteStreamController(k,u);break;case 1:if(!d)break;new Promise(function(a){a(d.onCancel&&d.onCancel(se(t.reason)))}).then(function(){f.postMessage({sourceName:s,targetName:l,stream:2,streamId:u,success:!0})},function(a){f.postMessage({sourceName:s,targetName:l,stream:2,streamId:u,reason:se(a)})}),d.sinkCapability.reject(se(t.reason)),d.isCancelled=!0,delete this.streamSinks[u];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(t,u){var s=this;return _asyncToGenerator(function*(){yield Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]),delete s.streamControllers[u]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(de,M,K)=>{var ie,se;Object.defineProperty(M,"__esModule",{value:!0}),M.Metadata=void 0;var p=K(1);ie=new WeakMap,se=new WeakMap,M.Metadata=class le{constructor({parsedData:e,rawData:t}){Te(this,ie,void 0),Te(this,se,void 0),ke(this,ie,e),ke(this,se,t)}getRaw(){return be(this,se)}get(e){var t;return null!=(t=be(this,ie).get(e))?t:null}getAll(){return(0,p.objectFromMap)(be(this,ie))}has(e){return be(this,ie).has(e)}}},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.OptionalContentConfig=void 0;var p=K(1);class le{constructor(te,e){this.visible=!0,this.name=te,this.intent=e}}M.OptionalContentConfig=class ie{constructor(te){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==te){this.name=te.name,this.creator=te.creator,this._order=te.order;for(const e of te.groups)this._groups.set(e.id,new le(e.name,e.intent));if("OFF"===te.baseState)for(const e of this._groups)e.visible=!1;for(const e of te.on)this._groups.get(e).visible=!0;for(const e of te.off)this._groups.get(e).visible=!1}}_evaluateVisibilityExpression(te){const e=te.length;if(e<2)return!0;const t=te[0];for(let u=1;u<e;u++){const s=te[u];let l;if(Array.isArray(s))l=this._evaluateVisibilityExpression(s);else{if(!this._groups.has(s))return(0,p.warn)(`Optional content group not found: ${s}`),!0;l=this._groups.get(s).visible}switch(t){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return"And"===t}isVisible(te){if(0===this._groups.size)return!0;if(!te)return(0,p.warn)("Optional content group not defined."),!0;if("OCG"===te.type)return this._groups.has(te.id)?this._groups.get(te.id).visible:((0,p.warn)(`Optional content group not found: ${te.id}`),!0);if("OCMD"===te.type){if(te.expression)return this._evaluateVisibilityExpression(te.expression);if(!te.policy||"AnyOn"===te.policy){for(const e of te.ids){if(!this._groups.has(e))return(0,p.warn)(`Optional content group not found: ${e}`),!0;if(this._groups.get(e).visible)return!0}return!1}if("AllOn"===te.policy){for(const e of te.ids){if(!this._groups.has(e))return(0,p.warn)(`Optional content group not found: ${e}`),!0;if(!this._groups.get(e).visible)return!1}return!0}if("AnyOff"===te.policy){for(const e of te.ids){if(!this._groups.has(e))return(0,p.warn)(`Optional content group not found: ${e}`),!0;if(!this._groups.get(e).visible)return!0}return!1}if("AllOff"===te.policy){for(const e of te.ids){if(!this._groups.has(e))return(0,p.warn)(`Optional content group not found: ${e}`),!0;if(this._groups.get(e).visible)return!1}return!0}return(0,p.warn)(`Unknown optional content policy ${te.policy}.`),!0}return(0,p.warn)(`Unknown group type ${te.type}.`),!0}setVisibility(te,e=!0){this._groups.has(te)?this._groups.get(te).visible=!!e:(0,p.warn)(`Optional content group not found: ${te}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,p.objectFromMap)(this._groups):null}getGroup(te){return this._groups.get(te)||null}}},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFDataTransportStream=void 0;var p=K(1),le=K(5);M.PDFDataTransportStream=class ie{constructor(t,u){(0,p.assert)(u,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;const s=t.initialData;if((null==s?void 0:s.length)>0){const l=new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=u,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((l,f)=>{this._onReceiveData({begin:l,chunk:f})}),this._pdfDataRangeTransport.addProgressListener((l,f)=>{this._onProgress({loaded:l,total:f})}),this._pdfDataRangeTransport.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(t){const u=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(u):this._queuedChunks.push(u);else{const s=this._rangeReaders.some(function(l){return l._begin===t.begin&&(l._enqueue(u),!0)});(0,p.assert)(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t,u;return null!=(u=null==(t=this._fullRequestReader)?void 0:t._loaded)?u:0}_onProgress(t){if(void 0===t.total){const u=this._rangeReaders[0];(null==u?void 0:u.onProgress)&&u.onProgress({loaded:t.loaded})}else{const u=this._fullRequestReader;(null==u?void 0:u.onProgress)&&u.onProgress({loaded:t.loaded,total:t.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const u=this._rangeReaders.indexOf(t);u>=0&&this._rangeReaders.splice(u,1)}getFullReader(){(0,p.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new se(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,u){if(u<=this._progressiveDataLength)return null;const s=new te(this,t,u);return this._pdfDataRangeTransport.requestDataRange(t,u),this._rangeReaders.push(s),s}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const u of this._rangeReaders.slice(0))u.cancel(t);this._pdfDataRangeTransport.abort()}};class se{constructor(t,u,s=!1,l=null){this._stream=t,this._done=s||!1,this._filename=(0,le.isPdfFile)(l)?l:null,this._queuedChunks=u||[],this._loaded=0;for(const f of this._queuedChunks)this._loaded+=f.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var t=this;return _asyncToGenerator(function*(){if(t._queuedChunks.length>0)return{value:t._queuedChunks.shift(),done:!1};if(t._done)return{value:void 0,done:!0};const u=(0,p.createPromiseCapability)();return t._requests.push(u),u.promise})()}cancel(t){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class te{constructor(t,u,s){this._stream=t,this._begin=u,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var t=this;return _asyncToGenerator(function*(){if(t._queuedChunk){const s=t._queuedChunk;return t._queuedChunk=null,{value:s,done:!1}}if(t._done)return{value:void 0,done:!0};const u=(0,p.createPromiseCapability)();return t._requests.push(u),u.promise})()}cancel(t){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(de,M)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.XfaText=void 0;class K{static textContent(le){const ie=[],se={items:ie,styles:Object.create(null)};return function te(e){var s;if(!e)return;let t=null;const u=e.name;if("#text"===u)t=e.value;else{if(!K.shouldBuildText(u))return;(null==(s=null==e?void 0:e.attributes)?void 0:s.textContent)?t=e.attributes.textContent:e.value&&(t=e.value)}if(null!==t&&ie.push({str:t}),e.children)for(const l of e.children)te(l)}(le),se}static shouldBuildText(le){return!("textarea"===le||"input"===le||"option"===le||"select"===le)}}M.XfaText=K},(de,M,K)=>{var C,st;Object.defineProperty(M,"__esModule",{value:!0}),M.AnnotationLayer=void 0;var p=K(1),le=K(5),ie=K(9),se=K(19),te=K(20);const e=1e3,t=new WeakSet;function u(T){return{width:T[2]-T[0],height:T[3]-T[1]}}class s{static create(i){switch(i.data.annotationType){case p.AnnotationType.LINK:return new f(i);case p.AnnotationType.TEXT:return new k(i);case p.AnnotationType.WIDGET:switch(i.data.fieldType){case"Tx":return new a(i);case"Btn":return i.data.radioButton?new F(i):i.data.checkBox?new w(i):new S(i);case"Ch":return new b(i)}return new d(i);case p.AnnotationType.POPUP:return new n(i);case p.AnnotationType.FREETEXT:return new y(i);case p.AnnotationType.LINE:return new m(i);case p.AnnotationType.SQUARE:return new A(i);case p.AnnotationType.CIRCLE:return new D(i);case p.AnnotationType.POLYLINE:return new L(i);case p.AnnotationType.CARET:return new U(i);case p.AnnotationType.INK:return new N(i);case p.AnnotationType.POLYGON:return new V(i);case p.AnnotationType.HIGHLIGHT:return new I(i);case p.AnnotationType.UNDERLINE:return new H(i);case p.AnnotationType.SQUIGGLY:return new R(i);case p.AnnotationType.STRIKEOUT:return new z(i);case p.AnnotationType.STAMP:return new v(i);case p.AnnotationType.FILEATTACHMENT:return new c(i);default:return new l(i)}}}class l{constructor(i,{isRenderable:x=!1,ignoreBorder:E=!1,createQuadrilaterals:B=!1}={}){this.isRenderable=x,this.data=i.data,this.layer=i.layer,this.page=i.page,this.viewport=i.viewport,this.linkService=i.linkService,this.downloadManager=i.downloadManager,this.imageResourcesPath=i.imageResourcesPath,this.renderForms=i.renderForms,this.svgFactory=i.svgFactory,this.annotationStorage=i.annotationStorage,this.enableScripting=i.enableScripting,this.hasJSActions=i.hasJSActions,this._fieldObjects=i.fieldObjects,this._mouseState=i.mouseState,x&&(this.container=this._createContainer(E)),B&&(this.quadrilaterals=this._createQuadrilaterals(E))}_createContainer(i=!1){const x=this.data,E=this.page,B=this.viewport,g=document.createElement("section");let{width:j,height:X}=u(x.rect);g.setAttribute("data-annotation-id",x.id);const $=p.Util.normalizeRect([x.rect[0],E.view[3]-x.rect[1]+E.view[1],x.rect[2],E.view[3]-x.rect[3]+E.view[1]]);if(x.hasOwnCanvas){const Q=B.transform.slice(),[ne,he]=p.Util.singularValueDecompose2dScale(Q);j=Math.ceil(j*ne),X=Math.ceil(X*he),$[0]*=ne,$[1]*=he;for(let ue=0;ue<4;ue++)Q[ue]=Math.sign(Q[ue]);g.style.transform=`matrix(${Q.join(",")})`}else g.style.transform=`matrix(${B.transform.join(",")})`;if(g.style.transformOrigin=`${-$[0]}px ${-$[1]}px`,!i&&x.borderStyle.width>0){g.style.borderWidth=`${x.borderStyle.width}px`,x.borderStyle.style!==p.AnnotationBorderStyleType.UNDERLINE&&(j-=2*x.borderStyle.width,X-=2*x.borderStyle.width);const Q=x.borderStyle.horizontalCornerRadius,ne=x.borderStyle.verticalCornerRadius;switch((Q>0||ne>0)&&(g.style.borderRadius=`${Q}px / ${ne}px`),x.borderStyle.style){case p.AnnotationBorderStyleType.SOLID:g.style.borderStyle="solid";break;case p.AnnotationBorderStyleType.DASHED:g.style.borderStyle="dashed";break;case p.AnnotationBorderStyleType.BEVELED:(0,p.warn)("Unimplemented border style: beveled");break;case p.AnnotationBorderStyleType.INSET:(0,p.warn)("Unimplemented border style: inset");break;case p.AnnotationBorderStyleType.UNDERLINE:g.style.borderBottomStyle="solid"}x.borderColor||x.color?g.style.borderColor=p.Util.makeHexColor(0|x.color[0],0|x.color[1],0|x.color[2]):g.style.borderWidth=0}return g.style.left=`${$[0]}px`,g.style.top=`${$[1]}px`,x.hasOwnCanvas?g.style.width=g.style.height="auto":(g.style.width=`${j}px`,g.style.height=`${X}px`),g}_createQuadrilaterals(i=!1){if(!this.data.quadPoints)return null;const x=[],E=this.data.rect;for(const B of this.data.quadPoints)this.data.rect=[B[2].x,B[2].y,B[1].x,B[1].y],x.push(this._createContainer(i));return this.data.rect=E,x}_createPopup(i,x){let E=this.container;this.quadrilaterals&&(i=i||this.quadrilaterals,E=this.quadrilaterals[0]),i||((i=document.createElement("div")).style.height=E.style.height,i.style.width=E.style.width,E.appendChild(i));const g=new r({container:E,trigger:i,color:x.color,titleObj:x.titleObj,modificationDate:x.modificationDate,contentsObj:x.contentsObj,richText:x.richText,hideWrapper:!0}).render();g.style.left=E.style.width,E.appendChild(g)}_renderQuadrilaterals(i){for(const x of this.quadrilaterals)x.className=i;return this.quadrilaterals}render(){(0,p.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(i,x=null){const E=[];if(this._fieldObjects){const B=this._fieldObjects[i];if(B)for(const{page:g,id:j,exportValues:X}of B){if(-1===g||j===x)continue;const $="string"==typeof X?X:null,Q=document.getElementById(j);!Q||t.has(Q)?E.push({id:j,exportValue:$,domElement:Q}):(0,p.warn)(`_getElementsByName - element not allowed: ${j}`)}return E}for(const B of document.getElementsByName(i)){const{id:g,exportValue:j}=B;g!==x&&(!t.has(B)||E.push({id:g,exportValue:j,domElement:B}))}return E}static get platform(){const i="undefined"!=typeof navigator?navigator.platform:"";return(0,p.shadow)(this,"platform",{isWin:i.includes("Win"),isMac:i.includes("Mac")})}}class f extends l{constructor(i,x=null){super(i,{isRenderable:!!(i.data.url||i.data.dest||i.data.action||i.data.isTooltipOnly||i.data.resetForm||i.data.actions&&(i.data.actions.Action||i.data.actions["Mouse Up"]||i.data.actions["Mouse Down"])),ignoreBorder:!!(null==x?void 0:x.ignoreBorder),createQuadrilaterals:!0})}render(){var B;const{data:i,linkService:x}=this,E=document.createElement("a");if(i.url)x.addLinkAttributes||(0,p.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(B=x.addLinkAttributes)||B.call(x,E,i.url,i.newWindow);else if(i.action)this._bindNamedAction(E,i.action);else if(i.dest)this._bindLink(E,i.dest);else{let g=!1;i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(g=!0,this._bindJSAction(E,i)),i.resetForm?this._bindResetFormAction(E,i.resetForm):g||this._bindLink(E,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((g,j)=>{const X=0===j?E:E.cloneNode();return g.appendChild(X),g}):(this.container.className="linkAnnotation",this.container.appendChild(E),this.container)}_bindLink(i,x){i.href=this.linkService.getDestinationHash(x),i.onclick=()=>(x&&this.linkService.goToDestination(x),!1),(x||""===x)&&(i.className="internalLink")}_bindNamedAction(i,x){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(x),!1),i.className="internalLink"}_bindJSAction(i,x){i.href=this.linkService.getAnchorUrl("");const E=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const B of Object.keys(x.actions)){const g=E.get(B);!g||(i[g]=()=>{var j;return null==(j=this.linkService.eventBus)||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x.id,name:B}}),!1})}i.onclick||(i.onclick=()=>!1),i.className="internalLink"}_bindResetFormAction(i,x){const E=i.onclick;if(E||(i.href=this.linkService.getAnchorUrl("")),i.className="internalLink",!this._fieldObjects)return(0,p.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(E||(i.onclick=()=>!1));i.onclick=()=>{var ne;E&&E();const{fields:B,refs:g,include:j}=x,X=[];if(0!==B.length||0!==g.length){const he=new Set(g);for(const ue of B){const ge=this._fieldObjects[ue]||[];for(const{id:h}of ge)he.add(h)}for(const ue of Object.values(this._fieldObjects))for(const ge of ue)he.has(ge.id)===j&&X.push(ge)}else for(const he of Object.values(this._fieldObjects))X.push(...he);const $=this.annotationStorage,Q=[];for(const he of X){const{id:ue}=he;switch(Q.push(ue),he.type){case"text":{const h=he.defaultValue||"";$.setValue(ue,{value:h,valueAsString:h});break}case"checkbox":case"radiobutton":$.setValue(ue,{value:he.defaultValue===he.exportValues});break;case"combobox":case"listbox":$.setValue(ue,{value:he.defaultValue||""});break;default:continue}const ge=document.getElementById(ue);!ge||!t.has(ge)||ge.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(null==(ne=this.linkService.eventBus)||ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Q,name:"ResetForm"}})),!1}}}class k extends l{constructor(i){var E,B,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(B=i.data.contentsObj)?void 0:B.str)||(null==(g=i.data.richText)?void 0:g.str))})}render(){this.container.className="textAnnotation";const i=document.createElement("img");return i.style.height=this.container.style.height,i.style.width=this.container.style.width,i.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",i.alt="[{{type}} Annotation]",i.dataset.l10nId="text_annotation_type",i.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(i,this.data),this.container.appendChild(i),this.container}}class d extends l{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(i){const{isWin:x,isMac:E}=l.platform;return x&&i.ctrlKey||E&&i.metaKey}_setEventListener(i,x,E,B){x.includes("mouse")?i.addEventListener(x,g=>{var j;null==(j=this.linkService.eventBus)||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:E,value:B(g),shift:g.shiftKey,modifier:this._getKeyModifier(g)}})}):i.addEventListener(x,g=>{var j;null==(j=this.linkService.eventBus)||j.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:E,value:B(g)}})})}_setEventListeners(i,x,E){var B;for(const[g,j]of x)("Action"===j||(null==(B=this.data.actions)?void 0:B[j]))&&this._setEventListener(i,g,j,E)}_setBackgroundColor(i){const x=this.data.backgroundColor||null;i.style.backgroundColor=null===x?"transparent":p.Util.makeHexColor(x[0],x[1],x[2])}_dispatchEventFromSandbox(i,x){const E=(g,j,X)=>{const $=X.detail[g];X.target.style[j]=se.ColorConverters[`${$[0]}_HTML`]($.slice(1))},B={display:g=>{const j=g.detail.display%2==1;g.target.style.visibility=j?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:j,print:0===g.detail.display||3===g.detail.display})},print:g=>{this.annotationStorage.setValue(this.data.id,{print:g.detail.print})},hidden:g=>{g.target.style.visibility=g.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:g.detail.hidden})},focus:g=>{setTimeout(()=>g.target.focus({preventScroll:!1}),0)},userName:g=>{g.target.title=g.detail.userName},readonly:g=>{g.detail.readonly?g.target.setAttribute("readonly",""):g.target.removeAttribute("readonly")},required:g=>{g.detail.required?g.target.setAttribute("required",""):g.target.removeAttribute("required")},bgColor:g=>{E("bgColor","backgroundColor",g)},fillColor:g=>{E("fillColor","backgroundColor",g)},fgColor:g=>{E("fgColor","color",g)},textColor:g=>{E("textColor","color",g)},borderColor:g=>{E("borderColor","borderColor",g)},strokeColor:g=>{E("strokeColor","borderColor",g)}};for(const g of Object.keys(x.detail)){const j=i[g]||B[g];j&&j(x)}}}class a extends d{constructor(i){super(i,{isRenderable:i.renderForms||!i.data.hasAppearance&&!!i.data.fieldValue})}setPropertyOnSiblings(i,x,E,B){const g=this.annotationStorage;for(const j of this._getElementsByName(i.name,i.id))j.domElement&&(j.domElement[x]=E),g.setValue(j.id,{[B]:E})}render(){var B;const i=this.annotationStorage,x=this.data.id;this.container.className="textWidgetAnnotation";let E=null;if(this.renderForms){const g=i.getValue(x,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),j=g.valueAsString||g.value||"",X={userValue:null,formattedValue:null};this.data.multiLine?(E=document.createElement("textarea"),E.textContent=j):(E=document.createElement("input"),E.type="text",E.setAttribute("value",j)),t.add(E),E.disabled=this.data.readOnly,E.name=this.data.fieldName,E.tabIndex=e,X.userValue=j,E.setAttribute("id",x),E.addEventListener("input",Q=>{i.setValue(x,{value:Q.target.value}),this.setPropertyOnSiblings(E,"value",Q.target.value,"value")}),E.addEventListener("resetform",Q=>{E.value=X.userValue=this.data.defaultFieldValue||"",delete X.formattedValue});let $=Q=>{X.formattedValue&&(Q.target.value=X.formattedValue),Q.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){E.addEventListener("focus",ne=>{X.userValue&&(ne.target.value=X.userValue)}),E.addEventListener("updatefromsandbox",ne=>{this._dispatchEventFromSandbox({value(ue){X.userValue=ue.detail.value||"",i.setValue(x,{value:X.userValue.toString()}),X.formattedValue||(ue.target.value=X.userValue)},valueAsString(ue){X.formattedValue=ue.detail.valueAsString||"",ue.target!==document.activeElement&&(ue.target.value=X.formattedValue),i.setValue(x,{formattedValue:X.formattedValue})},selRange(ue){const[ge,h]=ue.detail.selRange;ge>=0&&h<ue.target.value.length&&ue.target.setSelectionRange(ge,h)}},ne)}),E.addEventListener("keydown",ne=>{var ue;let he=-1;"Escape"===ne.key?he=0:"Enter"===ne.key?he=2:"Tab"===ne.key&&(he=3),-1!==he&&(X.userValue=ne.target.value,null==(ue=this.linkService.eventBus)||ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x,name:"Keystroke",value:ne.target.value,willCommit:!0,commitKey:he,selStart:ne.target.selectionStart,selEnd:ne.target.selectionEnd}}))});const Q=$;$=null,E.addEventListener("blur",ne=>{var he;X.userValue=ne.target.value,this._mouseState.isDown&&(null==(he=this.linkService.eventBus)||he.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x,name:"Keystroke",value:ne.target.value,willCommit:!0,commitKey:1,selStart:ne.target.selectionStart,selEnd:ne.target.selectionEnd}})),Q(ne)}),(null==(B=this.data.actions)?void 0:B.Keystroke)&&E.addEventListener("beforeinput",ne=>{var ee;X.formattedValue="";const{data:he,target:ue}=ne,{value:ge,selectionStart:h,selectionEnd:O}=ue;null==(ee=this.linkService.eventBus)||ee.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x,name:"Keystroke",value:ge,change:he,willCommit:!1,selStart:h,selEnd:O}})}),this._setEventListeners(E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ne=>ne.target.value)}if($&&E.addEventListener("blur",$),null!==this.data.maxLen&&(E.maxLength=this.data.maxLen),this.data.comb){const ne=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;E.classList.add("comb"),E.style.letterSpacing=`calc(${ne}px - 1ch)`}}else E=document.createElement("div"),E.textContent=this.data.fieldValue,E.style.verticalAlign="middle",E.style.display="table-cell";return this._setTextStyle(E),this._setBackgroundColor(E),this.container.appendChild(E),this.container}_setTextStyle(i){const{fontSize:E,fontColor:B}=this.data.defaultAppearanceData,g=i.style;E&&(g.fontSize=`${E}px`),g.color=p.Util.makeHexColor(B[0],B[1],B[2]),null!==this.data.textAlignment&&(g.textAlign=["left","center","right"][this.data.textAlignment])}}class w extends d{constructor(i){super(i,{isRenderable:i.renderForms})}render(){const i=this.annotationStorage,x=this.data,E=x.id;let B=i.getValue(E,{value:x.exportValue===x.fieldValue}).value;"string"==typeof B&&(B="Off"!==B,i.setValue(E,{value:B})),this.container.className="buttonWidgetAnnotation checkBox";const g=document.createElement("input");return t.add(g),g.disabled=x.readOnly,g.type="checkbox",g.name=x.fieldName,B&&g.setAttribute("checked",!0),g.setAttribute("id",E),g.setAttribute("exportValue",x.exportValue),g.tabIndex=e,g.addEventListener("change",j=>{const{name:X,checked:$}=j.target;for(const Q of this._getElementsByName(X,E)){const ne=$&&Q.exportValue===x.exportValue;Q.domElement&&(Q.domElement.checked=ne),i.setValue(Q.id,{value:ne})}i.setValue(E,{value:$})}),g.addEventListener("resetform",j=>{j.target.checked=(x.defaultFieldValue||"Off")===x.exportValue}),this.enableScripting&&this.hasJSActions&&(g.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value($){$.target.checked="Off"!==$.detail.value,i.setValue(E,{value:$.target.checked})}},j)}),this._setEventListeners(g,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.checked)),this._setBackgroundColor(g),this.container.appendChild(g),this.container}}class F extends d{constructor(i){super(i,{isRenderable:i.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const i=this.annotationStorage,x=this.data,E=x.id;let B=i.getValue(E,{value:x.fieldValue===x.buttonValue}).value;"string"==typeof B&&(B=B!==x.buttonValue,i.setValue(E,{value:B}));const g=document.createElement("input");if(t.add(g),g.disabled=x.readOnly,g.type="radio",g.name=x.fieldName,B&&g.setAttribute("checked",!0),g.setAttribute("id",E),g.tabIndex=e,g.addEventListener("change",j=>{const{name:X,checked:$}=j.target;for(const Q of this._getElementsByName(X,E))i.setValue(Q.id,{value:!1});i.setValue(E,{value:$})}),g.addEventListener("resetform",j=>{const X=x.defaultFieldValue;j.target.checked=null!=X&&X===x.buttonValue}),this.enableScripting&&this.hasJSActions){const j=x.buttonValue;g.addEventListener("updatefromsandbox",X=>{this._dispatchEventFromSandbox({value:Q=>{const ne=j===Q.detail.value;for(const he of this._getElementsByName(Q.target.name)){const ue=ne&&he.id===E;he.domElement&&(he.domElement.checked=ue),i.setValue(he.id,{value:ue})}}},X)}),this._setEventListeners(g,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],X=>X.target.checked)}return this._setBackgroundColor(g),this.container.appendChild(g),this.container}}class S extends f{constructor(i){super(i,{ignoreBorder:i.data.hasAppearance})}render(){const i=super.render();return i.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(i.title=this.data.alternativeText),i}}class b extends d{constructor(i){super(i,{isRenderable:i.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const i=this.annotationStorage,x=this.data.id;i.getValue(x,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:E}=this.data.defaultAppearanceData;E||(E=9);const B=`calc(${E}px * var(--zoom-factor))`,g=document.createElement("select");t.add(g),g.disabled=this.data.readOnly,g.name=this.data.fieldName,g.setAttribute("id",x),g.tabIndex=e,g.style.fontSize=`${E}px`,this.data.combo||(g.size=this.data.options.length,this.data.multiSelect&&(g.multiple=!0)),g.addEventListener("resetform",$=>{const Q=this.data.defaultFieldValue;for(const ne of g.options)ne.selected=ne.value===Q});for(const $ of this.data.options){const Q=document.createElement("option");Q.textContent=$.displayValue,Q.value=$.exportValue,this.data.combo&&(Q.style.fontSize=B),this.data.fieldValue.includes($.exportValue)&&Q.setAttribute("selected",!0),g.appendChild(Q)}const j=($,Q)=>{const ne=Q?"value":"textContent",he=$.target.options;return $.target.multiple?Array.prototype.filter.call(he,ue=>ue.selected).map(ue=>ue[ne]):-1===he.selectedIndex?null:he[he.selectedIndex][ne]},X=$=>Array.prototype.map.call($.target.options,ne=>({displayValue:ne.textContent,exportValue:ne.value}));return this.enableScripting&&this.hasJSActions?(g.addEventListener("updatefromsandbox",$=>{this._dispatchEventFromSandbox({value(ne){const he=ne.detail.value,ue=new Set(Array.isArray(he)?he:[he]);for(const ge of g.options)ge.selected=ue.has(ge.value);i.setValue(x,{value:j(ne,!0)})},multipleSelection(ne){g.multiple=!0},remove(ne){const he=g.options,ue=ne.detail.remove;he[ue].selected=!1,g.remove(ue),he.length>0&&-1===Array.prototype.findIndex.call(he,h=>h.selected)&&(he[0].selected=!0),i.setValue(x,{value:j(ne,!0),items:X(ne)})},clear(ne){for(;0!==g.length;)g.remove(0);i.setValue(x,{value:null,items:[]})},insert(ne){const{index:he,displayValue:ue,exportValue:ge}=ne.detail.insert,h=document.createElement("option");h.textContent=ue,h.value=ge,g.insertBefore(h,g.children[he]),i.setValue(x,{value:j(ne,!0),items:X(ne)})},items(ne){const{items:he}=ne.detail;for(;0!==g.length;)g.remove(0);for(const ue of he){const{displayValue:ge,exportValue:h}=ue,O=document.createElement("option");O.textContent=ge,O.value=h,g.appendChild(O)}g.options.length>0&&(g.options[0].selected=!0),i.setValue(x,{value:j(ne,!0),items:X(ne)})},indices(ne){const he=new Set(ne.detail.indices);for(const ue of ne.target.options)ue.selected=he.has(ue.index);i.setValue(x,{value:j(ne,!0)})},editable(ne){ne.target.disabled=!ne.detail.editable}},$)}),g.addEventListener("input",$=>{var he;const Q=j($,!0),ne=j($,!1);i.setValue(x,{value:Q}),null==(he=this.linkService.eventBus)||he.dispatch("dispatcheventinsandbox",{source:this,detail:{id:x,name:"Keystroke",value:ne,changeEx:Q,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],$=>$.target.checked)):g.addEventListener("input",function($){i.setValue(x,{value:j($)})}),this._setBackgroundColor(g),this.container.appendChild(g),this.container}}class n extends l{constructor(i){var E,B,g;super(i,{isRenderable:!!((null==(E=i.data.titleObj)?void 0:E.str)||(null==(B=i.data.contentsObj)?void 0:B.str)||(null==(g=i.data.richText)?void 0:g.str))})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const E=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===E.length)return this.container;const B=new r({container:this.container,trigger:Array.from(E),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),g=this.page,j=p.Util.normalizeRect([this.data.parentRect[0],g.view[3]-this.data.parentRect[1]+g.view[1],this.data.parentRect[2],g.view[3]-this.data.parentRect[3]+g.view[1]]),X=j[0]+this.data.parentRect[2]-this.data.parentRect[0],$=j[1];return this.container.style.transformOrigin=`${-X}px ${-$}px`,this.container.style.left=`${X}px`,this.container.style.top=`${$}px`,this.container.appendChild(B.render()),this.container}}class r{constructor(i){this.container=i.container,this.trigger=i.trigger,this.color=i.color,this.titleObj=i.titleObj,this.modificationDate=i.modificationDate,this.contentsObj=i.contentsObj,this.richText=i.richText,this.hideWrapper=i.hideWrapper||!1,this.pinned=!1}render(){var X,$;const x=document.createElement("div");x.className="popupWrapper",this.hideElement=this.hideWrapper?x:this.container,this.hideElement.hidden=!0;const E=document.createElement("div");E.className="popup";const B=this.color;B&&(E.style.backgroundColor=p.Util.makeHexColor(0|.7*(255-B[0])+B[0],0|.7*(255-B[1])+B[1],0|.7*(255-B[2])+B[2]));const g=document.createElement("h1");g.dir=this.titleObj.dir,g.textContent=this.titleObj.str,E.appendChild(g);const j=le.PDFDateString.toDateObject(this.modificationDate);if(j){const Q=document.createElement("span");Q.className="popupDate",Q.textContent="{{date}}, {{time}}",Q.dataset.l10nId="annotation_date_string",Q.dataset.l10nArgs=JSON.stringify({date:j.toLocaleDateString(),time:j.toLocaleTimeString()}),E.appendChild(Q)}if(!(null==(X=this.richText)?void 0:X.str)||(null==($=this.contentsObj)?void 0:$.str)&&this.contentsObj.str!==this.richText.str){const Q=this._formatContents(this.contentsObj);E.appendChild(Q)}else te.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:E}),E.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Q of this.trigger)Q.addEventListener("click",this._toggle.bind(this)),Q.addEventListener("mouseover",this._show.bind(this,!1)),Q.addEventListener("mouseout",this._hide.bind(this,!1));return E.addEventListener("click",this._hide.bind(this,!0)),x.appendChild(E),x}_formatContents({str:i,dir:x}){const E=document.createElement("p");E.className="popupContent",E.dir=x;const B=i.split(/(?:\r\n?|\n)/);for(let g=0,j=B.length;g<j;++g)E.appendChild(document.createTextNode(B[g])),g<j-1&&E.appendChild(document.createElement("br"));return E}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(i=!1){i&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(i=!0){i&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class y extends l{constructor(i){var E,B,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(B=i.data.contentsObj)?void 0:B.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class m extends l{constructor(i){var E,B,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(B=i.data.contentsObj)?void 0:B.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const i=this.data,{width:x,height:E}=u(i.rect),B=this.svgFactory.create(x,E),g=this.svgFactory.createElement("svg:line");return g.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),g.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),g.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),g.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),g.setAttribute("stroke-width",i.borderStyle.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),B.appendChild(g),this.container.append(B),this._createPopup(g,i),this.container}}class A extends l{constructor(i){var E,B,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(B=i.data.contentsObj)?void 0:B.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const i=this.data,{width:x,height:E}=u(i.rect),B=this.svgFactory.create(x,E),g=i.borderStyle.width,j=this.svgFactory.createElement("svg:rect");return j.setAttribute("x",g/2),j.setAttribute("y",g/2),j.setAttribute("width",x-g),j.setAttribute("height",E-g),j.setAttribute("stroke-width",g||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),B.appendChild(j),this.container.append(B),this._createPopup(j,i),this.container}}class D extends l{constructor(i){var E,B,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(B=i.data.contentsObj)?void 0:B.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const i=this.data,{width:x,height:E}=u(i.rect),B=this.svgFactory.create(x,E),g=i.borderStyle.width,j=this.svgFactory.createElement("svg:ellipse");return j.setAttribute("cx",x/2),j.setAttribute("cy",E/2),j.setAttribute("rx",x/2-g/2),j.setAttribute("ry",E/2-g/2),j.setAttribute("stroke-width",g||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),B.appendChild(j),this.container.append(B),this._createPopup(j,i),this.container}}class L extends l{constructor(i){var E,B,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(B=i.data.contentsObj)?void 0:B.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const i=this.data,{width:x,height:E}=u(i.rect),B=this.svgFactory.create(x,E);let g=[];for(const X of i.vertices)g.push(X.x-i.rect[0]+","+(i.rect[3]-X.y));g=g.join(" ");const j=this.svgFactory.createElement(this.svgElementName);return j.setAttribute("points",g),j.setAttribute("stroke-width",i.borderStyle.width||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),B.appendChild(j),this.container.append(B),this._createPopup(j,i),this.container}}class V extends L{constructor(i){super(i),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class U extends l{constructor(i){var E,B,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(B=i.data.contentsObj)?void 0:B.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class N extends l{constructor(i){var E,B,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(B=i.data.contentsObj)?void 0:B.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const i=this.data,{width:x,height:E}=u(i.rect),B=this.svgFactory.create(x,E);for(const g of i.inkLists){let j=[];for(const $ of g)j.push(`${$.x-i.rect[0]},${i.rect[3]-$.y}`);j=j.join(" ");const X=this.svgFactory.createElement(this.svgElementName);X.setAttribute("points",j),X.setAttribute("stroke-width",i.borderStyle.width||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","transparent"),this._createPopup(X,i),B.appendChild(X)}return this.container.append(B),this.container}}class I extends l{constructor(i){var E,B,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(B=i.data.contentsObj)?void 0:B.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class H extends l{constructor(i){var E,B,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(B=i.data.contentsObj)?void 0:B.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class R extends l{constructor(i){var E,B,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(B=i.data.contentsObj)?void 0:B.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class z extends l{constructor(i){var E,B,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(B=i.data.contentsObj)?void 0:B.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class v extends l{constructor(i){var E,B,g;super(i,{isRenderable:!!(i.data.hasPopup||(null==(E=i.data.titleObj)?void 0:E.str)||(null==(B=i.data.contentsObj)?void 0:B.str)||(null==(g=i.data.richText)?void 0:g.str)),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class c extends l{constructor(i){var B;super(i,{isRenderable:!0});const{filename:x,content:E}=this.data.file;this.filename=(0,le.getFilenameFromUrl)(x),this.content=E,null==(B=this.linkService.eventBus)||B.dispatch("fileattachmentannotation",{source:this,id:(0,p.stringToPDFString)(x),filename:x,content:E})}render(){var x,E;this.container.className="fileAttachmentAnnotation";const i=document.createElement("div");return i.style.height=this.container.style.height,i.style.width=this.container.style.width,i.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((null==(x=this.data.titleObj)?void 0:x.str)||(null==(E=this.data.contentsObj)?void 0:E.str)||this.data.richText)&&this._createPopup(i,this.data),this.container.appendChild(i),this.container}_download(){var i;null==(i=this.downloadManager)||i.openOrDownloadData(this.container,this.content,this.filename)}}class o{static render(i){const x=[],E=[];for(const g of i.annotations){if(!g)continue;const{width:j,height:X}=u(g.rect);if(!(j<=0||X<=0)){if(g.annotationType===p.AnnotationType.POPUP){E.push(g);continue}x.push(g)}}E.length&&x.push(...E);const B=i.div;for(const g of x){const j=s.create({data:g,layer:B,page:i.page,viewport:i.viewport,linkService:i.linkService,downloadManager:i.downloadManager,imageResourcesPath:i.imageResourcesPath||"",renderForms:!1!==i.renderForms,svgFactory:new le.DOMSVGFactory,annotationStorage:i.annotationStorage||new ie.AnnotationStorage,enableScripting:i.enableScripting,hasJSActions:i.hasJSActions,fieldObjects:i.fieldObjects,mouseState:i.mouseState||{isDown:!1}});if(j.isRenderable){const X=j.render();if(g.hidden&&(X.style.visibility="hidden"),Array.isArray(X))for(const $ of X)B.appendChild($);else j instanceof n?B.prepend(X):B.appendChild(X)}}Fe(this,C,st).call(this,B,i.annotationCanvasMap)}static update(i){const{page:x,viewport:E,annotations:B,annotationCanvasMap:g,div:j}=i,X=E.transform,$=`matrix(${X.join(",")})`;let Q,ne;for(const he of B){const ue=j.querySelectorAll(`[data-annotation-id="${he.id}"]`);if(ue)for(const ge of ue)if(he.hasOwnCanvas){const h=p.Util.normalizeRect([he.rect[0],x.view[3]-he.rect[1]+x.view[1],he.rect[2],x.view[3]-he.rect[3]+x.view[1]]);if(!ne){Q=Math.abs(X[0]||X[1]);const G=X.slice();for(let Y=0;Y<4;Y++)G[Y]=Math.sign(G[Y]);ne=`matrix(${G.join(",")})`}const O=h[0]*Q,ee=h[1]*Q;ge.style.left=`${O}px`,ge.style.top=`${ee}px`,ge.style.transformOrigin=`${-O}px ${-ee}px`,ge.style.transform=ne}else ge.style.transform=$}Fe(this,C,st).call(this,j,g),j.hidden=!1}}C=new WeakSet,st=function(i,x){if(x){for(const[E,B]of x){const g=i.querySelector(`[data-annotation-id="${E}"]`);if(!g)continue;const{firstChild:j}=g;"CANVAS"===j.nodeName?g.replaceChild(B,j):g.insertBefore(B,j)}x.clear()}},Te(o,C),M.AnnotationLayer=o},(de,M)=>{function K(le){return Math.floor(255*Math.max(0,Math.min(1,le))).toString(16).padStart(2,"0")}Object.defineProperty(M,"__esModule",{value:!0}),M.ColorConverters=void 0,M.ColorConverters=class p{static CMYK_G([ie,se,te,e]){return["G",1-Math.min(1,.3*ie+.59*te+.11*se+e)]}static G_CMYK([ie]){return["CMYK",0,0,0,1-ie]}static G_RGB([ie]){return["RGB",ie,ie,ie]}static G_HTML([ie]){const se=K(ie);return`#${se}${se}${se}`}static RGB_G([ie,se,te]){return["G",.3*ie+.59*se+.11*te]}static RGB_HTML([ie,se,te]){return`#${K(ie)}${K(se)}${K(te)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ie,se,te,e]){return["RGB",1-Math.min(1,ie+e),1-Math.min(1,te+e),1-Math.min(1,se+e)]}static CMYK_HTML(ie){return this.RGB_HTML(this.CMYK_RGB(ie))}static RGB_CMYK([ie,se,te]){const e=1-ie,t=1-se,u=1-te;return["CMYK",e,t,u,Math.min(e,t,u)]}}},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.XfaLayer=void 0;var p=K(1),le=K(17);M.XfaLayer=class ie{static setupStorage(te,e,t,u,s){const l=u.getValue(e,{value:null});switch(t.name){case"textarea":if(null!==l.value&&(te.textContent=l.value),"print"===s)break;te.addEventListener("input",f=>{u.setValue(e,{value:f.target.value})});break;case"input":if("radio"===t.attributes.type||"checkbox"===t.attributes.type){if(l.value===t.attributes.xfaOn?te.setAttribute("checked",!0):l.value===t.attributes.xfaOff&&te.removeAttribute("checked"),"print"===s)break;te.addEventListener("change",f=>{u.setValue(e,{value:f.target.getAttribute(f.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==l.value&&te.setAttribute("value",l.value),"print"===s)break;te.addEventListener("input",f=>{u.setValue(e,{value:f.target.value})})}break;case"select":if(null!==l.value)for(const f of t.children)f.attributes.value===l.value&&(f.attributes.selected=!0);te.addEventListener("input",f=>{const k=f.target.options;u.setValue(e,{value:-1===k.selectedIndex?"":k[k.selectedIndex].value})})}}static setAttributes({html:te,element:e,storage:t=null,intent:u,linkService:s}){var k;const{attributes:l}=e,f=te instanceof HTMLAnchorElement;"radio"===l.type&&(l.name=`${l.name}-${u}`);for(const[d,a]of Object.entries(l))if(null!=a&&"dataId"!==d)if("style"!==d)if("textContent"===d)te.textContent=a;else if("class"===d)a.length&&te.setAttribute(d,a.join(" "));else{if(f&&("href"===d||"newWindow"===d))continue;te.setAttribute(d,a)}else Object.assign(te.style,a);f&&(s.addLinkAttributes||(0,p.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null==(k=s.addLinkAttributes)||k.call(s,te,l.href,l.newWindow)),t&&l.dataId&&this.setupStorage(te,l.dataId,e,t)}static render(te){var a;const e=te.annotationStorage,t=te.linkService,u=te.xfaHtml,s=te.intent||"display",l=document.createElement(u.name);u.attributes&&this.setAttributes({html:l,element:u,intent:s,linkService:t});const f=[[u,-1,l]],k=te.div;if(k.appendChild(l),te.viewport){const w=`matrix(${te.viewport.transform.join(",")})`;k.style.transform=w}"richText"!==s&&k.setAttribute("class","xfaLayer xfaFont");const d=[];for(;f.length>0;){const[w,F,S]=f[f.length-1];if(F+1===w.children.length){f.pop();continue}const b=w.children[++f[f.length-1][1]];if(null===b)continue;const{name:n}=b;if("#text"===n){const y=document.createTextNode(b.value);d.push(y),S.appendChild(y);continue}let r;if(r=(null==(a=null==b?void 0:b.attributes)?void 0:a.xmlns)?document.createElementNS(b.attributes.xmlns,n):document.createElement(n),S.appendChild(r),b.attributes&&this.setAttributes({html:r,element:b,storage:e,intent:s,linkService:t}),b.children&&b.children.length>0)f.push([b,-1,r]);else if(b.value){const y=document.createTextNode(b.value);le.XfaText.shouldBuildText(n)&&d.push(y),r.appendChild(y)}}for(const w of k.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))w.setAttribute("readOnly",!0);return{textDivs:d}}static update(te){const e=`matrix(${te.viewport.transform.join(",")})`;te.div.style.transform=e,te.div.hidden=!1}}},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.renderTextLayer=function w(F){const S=new a({textContent:F.textContent,textContentStream:F.textContentStream,container:F.container,viewport:F.viewport,textDivs:F.textDivs,textContentItemsStr:F.textContentItemsStr,enhanceTextSelection:F.enhanceTextSelection});return S._render(F.timeout),S};var p=K(1);const te=new Map,e=/^\s+$/g;function u(F,S,b,n){const r=document.createElement("span"),y=F._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==S.str,hasEOL:S.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==S.str,hasEOL:S.hasEOL};F._textDivs.push(r);const m=p.Util.transform(F._viewport.transform,S.transform);let A=Math.atan2(m[1],m[0]);const D=b[S.fontName];D.vertical&&(A+=Math.PI/2);const L=Math.hypot(m[2],m[3]),V=L*function t(F,S){const b=te.get(F);if(b)return b;S.save(),S.font=`30px ${F}`;const n=S.measureText("");let r=n.fontBoundingBoxAscent,y=Math.abs(n.fontBoundingBoxDescent);if(r){S.restore();const A=r/(r+y);return te.set(F,A),A}S.strokeStyle="red",S.clearRect(0,0,30,30),S.strokeText("g",0,0);let m=S.getImageData(0,0,30,30).data;y=0;for(let A=m.length-1-3;A>=0;A-=4)if(m[A]>0){y=Math.ceil(A/4/30);break}S.clearRect(0,0,30,30),S.strokeText("A",0,30),m=S.getImageData(0,0,30,30).data,r=0;for(let A=0,D=m.length;A<D;A+=4)if(m[A]>0){r=30-Math.floor(A/4/30);break}if(S.restore(),r){const A=r/(r+y);return te.set(F,A),A}return te.set(F,.8),.8}(D.fontFamily,n);let U,N;0===A?(U=m[4],N=m[5]-V):(U=m[4]+V*Math.sin(A),N=m[5]-V*Math.cos(A)),r.style.left=`${U}px`,r.style.top=`${N}px`,r.style.fontSize=`${L}px`,r.style.fontFamily=D.fontFamily,r.setAttribute("role","presentation"),r.textContent=S.str,r.dir=S.dir,F._fontInspectorEnabled&&(r.dataset.fontName=S.fontName),0!==A&&(y.angle=A*(180/Math.PI));let I=!1;if(S.str.length>1||F._enhanceTextSelection&&e.test(S.str))I=!0;else if(" "!==S.str&&S.transform[0]!==S.transform[3]){const H=Math.abs(S.transform[0]),R=Math.abs(S.transform[3]);H!==R&&Math.max(H,R)/Math.min(H,R)>1.5&&(I=!0)}if(I&&(y.canvasWidth=D.vertical?S.height*F._viewport.scale:S.width*F._viewport.scale),F._textDivProperties.set(r,y),F._textContentStream&&F._layoutText(r),F._enhanceTextSelection&&y.hasText){let H=1,R=0;0!==A&&(H=Math.cos(A),R=Math.sin(A));const z=(D.vertical?S.height:S.width)*F._viewport.scale,v=L;let c,o;0!==A?(c=[H,R,-R,H,U,N],o=p.Util.getAxialAlignedBoundingBox([0,0,z,v],c)):o=[U,N,U+z,N+v],F._bounds.push({left:o[0],top:o[1],right:o[2],bottom:o[3],div:r,size:[z,v],m:c})}}function s(F){if(F._canceled)return;const S=F._textDivs,b=F._capability,n=S.length;if(n>1e5)return F._renderingDone=!0,void b.resolve();if(!F._textContentStream)for(let r=0;r<n;r++)F._layoutText(S[r]);F._renderingDone=!0,b.resolve()}function l(F,S,b){let n=0;for(let r=0;r<b;r++){const y=F[S++];y>0&&(n=n?Math.min(y,n):y)}return n}function d(F,S){S.sort(function(r,y){return r.x1-y.x1||r.index-y.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const r of S){let y=0;for(;y<n.length&&n[y].end<=r.y1;)y++;let m=n.length-1;for(;m>=0&&n[m].start>=r.y2;)m--;let A,D,L,V,U=-1/0;for(L=y;L<=m;L++){let H;A=n[L],D=A.boundary,H=D.x2>r.x1?D.index>r.index?D.x1New:r.x1:void 0===D.x2New?(D.x2+r.x1)/2:D.x2New,H>U&&(U=H)}for(r.x1New=U,L=y;L<=m;L++)A=n[L],D=A.boundary,void 0===D.x2New?D.x2>r.x1?D.index>r.index&&(D.x2New=D.x2):D.x2New=U:D.x2New>U&&(D.x2New=Math.max(U,D.x2));const N=[];let I=null;for(L=y;L<=m;L++){A=n[L],D=A.boundary;const H=D.x2>r.x2?D:r;I===H?N[N.length-1].end=A.end:(N.push({start:A.start,end:A.end,boundary:H}),I=H)}for(n[y].start<r.y1&&(N[0].start=r.y1,N.unshift({start:n[y].start,end:r.y1,boundary:n[y].boundary})),r.y2<n[m].end&&(N[N.length-1].end=r.y2,N.push({start:r.y2,end:n[m].end,boundary:n[m].boundary})),L=y;L<=m;L++){if(A=n[L],D=A.boundary,void 0!==D.x2New)continue;let H=!1;for(V=y-1;!H&&V>=0&&n[V].start>=D.y1;V--)H=n[V].boundary===D;for(V=m+1;!H&&V<n.length&&n[V].end<=D.y2;V++)H=n[V].boundary===D;for(V=0;!H&&V<N.length;V++)H=N[V].boundary===D;H||(D.x2New=U)}Array.prototype.splice.apply(n,[y,m-y+1].concat(N))}for(const r of n){const y=r.boundary;void 0===y.x2New&&(y.x2New=Math.max(F,y.x2))}}class a{constructor({textContent:S,textContentStream:b,container:n,viewport:r,textDivs:y,textContentItemsStr:m,enhanceTextSelection:A}){var D;this._textContent=S,this._textContentStream=b,this._container=n,this._document=n.ownerDocument,this._viewport=r,this._textDivs=y||[],this._textContentItemsStr=m||[],this._enhanceTextSelection=!!A,this._fontInspectorEnabled=!!(null==(D=globalThis.FontInspector)?void 0:D.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,p.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new p.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(S,b){for(let n=0,r=S.length;n<r;n++)if(void 0!==S[n].str)this._textContentItemsStr.push(S[n].str),u(this,S[n],b,this._layoutTextCtx);else if("beginMarkedContentProps"===S[n].type||"beginMarkedContent"===S[n].type){const y=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==S[n].id&&this._container.setAttribute("id",`${S[n].id}`),y.appendChild(this._container)}else"endMarkedContent"===S[n].type&&(this._container=this._container.parentNode)}_layoutText(S){const b=this._textDivProperties.get(S);let n="";if(0!==b.canvasWidth&&b.hasText){const{fontSize:r,fontFamily:y}=S.style;(r!==this._layoutTextLastFontSize||y!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${r} ${y}`,this._layoutTextLastFontSize=r,this._layoutTextLastFontFamily=y);const{width:m}=this._layoutTextCtx.measureText(S.textContent);if(m>0){const A=b.canvasWidth/m;this._enhanceTextSelection&&(b.scale=A),n=`scaleX(${A})`}}if(0!==b.angle&&(n=`rotate(${b.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(b.originalTransform=n),S.style.transform=n),b.hasText&&this._container.appendChild(S),b.hasEOL){const r=document.createElement("br");r.setAttribute("role","presentation"),this._container.appendChild(r)}}_render(S=0){const b=(0,p.createPromiseCapability)();let n=Object.create(null);const r=this._document.createElement("canvas");if(r.height=r.width=30,r.mozOpaque=!0,this._layoutTextCtx=r.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),b.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const y=()=>{this._reader.read().then(({value:m,done:A})=>{A?b.resolve():(Object.assign(n,m.styles),this._processItems(m.items,n),y())},b.reject)};this._reader=this._textContentStream.getReader(),y()}}b.promise.then(()=>{n=null,S?this._renderTimer=setTimeout(()=>{s(this),this._renderTimer=null},S):s(this)},this._capability.reject)}expandTextDivs(S=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function f(F){const S=F._bounds,b=F._viewport,n=function k(F,S,b){const n=b.map(function(y,m){return{x1:y.left,y1:y.top,x2:y.right,y2:y.bottom,index:m,x1New:void 0,x2New:void 0}});d(F,n);const r=new Array(b.length);for(const y of n)r[y.index]={left:y.x1New,top:0,right:y.x2New,bottom:0};b.map(function(y,m){const A=r[m],D=n[m];D.x1=y.top,D.y1=F-A.right,D.x2=y.bottom,D.y2=F-A.left,D.index=m,D.x1New=void 0,D.x2New=void 0}),d(S,n);for(const y of n){const m=y.index;r[m].top=y.x1New,r[m].bottom=y.x2New}return r}(b.width,b.height,S);for(let r=0;r<n.length;r++){const y=S[r].div,m=F._textDivProperties.get(y);if(0===m.angle){m.paddingLeft=S[r].left-n[r].left,m.paddingTop=S[r].top-n[r].top,m.paddingRight=n[r].right-S[r].right,m.paddingBottom=n[r].bottom-S[r].bottom,F._textDivProperties.set(y,m);continue}const A=n[r],D=S[r],L=D.m,V=L[0],U=L[1],N=[[0,0],[0,D.size[1]],[D.size[0],0],D.size],I=new Float64Array(64);for(let R=0,z=N.length;R<z;R++){const v=p.Util.applyTransform(N[R],L);I[R+0]=V&&(A.left-v[0])/V,I[R+4]=U&&(A.top-v[1])/U,I[R+8]=V&&(A.right-v[0])/V,I[R+12]=U&&(A.bottom-v[1])/U,I[R+16]=U&&(A.left-v[0])/-U,I[R+20]=V&&(A.top-v[1])/V,I[R+24]=U&&(A.right-v[0])/-U,I[R+28]=V&&(A.bottom-v[1])/V,I[R+32]=V&&(A.left-v[0])/-V,I[R+36]=U&&(A.top-v[1])/-U,I[R+40]=V&&(A.right-v[0])/-V,I[R+44]=U&&(A.bottom-v[1])/-U,I[R+48]=U&&(A.left-v[0])/U,I[R+52]=V&&(A.top-v[1])/-V,I[R+56]=U&&(A.right-v[0])/U,I[R+60]=V&&(A.bottom-v[1])/-V}const H=1+Math.min(Math.abs(V),Math.abs(U));m.paddingLeft=l(I,32,16)/H,m.paddingTop=l(I,48,16)/H,m.paddingRight=l(I,0,16)/H,m.paddingBottom=l(I,16,16)/H,F._textDivProperties.set(y,m)}}(this),this._bounds=null);const b=[],n=[];for(let r=0,y=this._textDivs.length;r<y;r++){const m=this._textDivs[r],A=this._textDivProperties.get(m);!A.hasText||(S?(b.length=0,n.length=0,A.originalTransform&&b.push(A.originalTransform),A.paddingTop>0?(n.push(`${A.paddingTop}px`),b.push(`translateY(${-A.paddingTop}px)`)):n.push(0),n.push(A.paddingRight>0?A.paddingRight/A.scale+"px":0),n.push(A.paddingBottom>0?`${A.paddingBottom}px`:0),A.paddingLeft>0?(n.push(A.paddingLeft/A.scale+"px"),b.push(`translateX(${-A.paddingLeft/A.scale}px)`)):n.push(0),m.style.padding=n.join(" "),b.length&&(m.style.transform=b.join(" "))):(m.style.padding=null,m.style.transform=A.originalTransform))}}}},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.SVGGraphics=void 0;var p=K(1),le=K(5),ie=K(3);let se=class{constructor(){(0,p.unreachable)("Not implemented: SVGGraphics")}};M.SVGGraphics=se;{let d=function(n){let r=[];const y=[];for(const m of n)"save"!==m.fn?"restore"===m.fn?r=y.pop():r.push(m):(r.push({fnId:92,fn:"group",items:[]}),y.push(r),r=r[r.length-1].items);return r},a=function(n){if(Number.isInteger(n))return n.toString();const r=n.toFixed(10);let y=r.length-1;if("0"!==r[y])return r;do{y--}while("0"===r[y]);return r.substring(0,"."===r[y]?y:y+1)},w=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${a(n[0])} ${a(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2]){const r=180*Math.acos(n[0])/Math.PI;return`rotate(${a(r)})`}}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${a(n[4])} ${a(n[5])})`;return`matrix(${a(n[0])} ${a(n[1])} ${a(n[2])} ${a(n[3])} ${a(n[4])} ${a(n[5])})`};const te={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},e="http://www.w3.org/XML/1998/namespace",t="http://www.w3.org/1999/xlink",u=["butt","round","square"],s=["miter","round","bevel"],l=function(n,r="",y=!1){if(URL.createObjectURL&&"undefined"!=typeof Blob&&!y)return URL.createObjectURL(new Blob([n],{type:r}));const m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let A=`data:${r};base64,`;for(let D=0,L=n.length;D<L;D+=3){const V=255&n[D],U=255&n[D+1],N=255&n[D+2];A+=m[V>>2]+m[(3&V)<<4|U>>4]+m[D+1<L?(15&U)<<2|N>>6:64]+m[D+2<L?63&N:64]}return A},f=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),y=new Int32Array(256);for(let N=0;N<256;N++){let I=N;for(let H=0;H<8;H++)I=1&I?3988292384^I>>1&2147483647:I>>1&2147483647;y[N]=I}function A(N,I,H,R){let z=R;const v=I.length;H[z]=v>>24&255,H[z+1]=v>>16&255,H[z+2]=v>>8&255,H[z+3]=255&v,z+=4,H[z]=255&N.charCodeAt(0),H[z+1]=255&N.charCodeAt(1),H[z+2]=255&N.charCodeAt(2),H[z+3]=255&N.charCodeAt(3),z+=4,H.set(I,z),z+=I.length;const c=function m(N,I,H){let R=-1;for(let z=I;z<H;z++)R=R>>>8^y[255&(R^N[z])];return-1^R}(H,R+4,z);H[z]=c>>24&255,H[z+1]=c>>16&255,H[z+2]=c>>8&255,H[z+3]=255&c}function V(N){let I=N.length;const H=65535,R=Math.ceil(I/H),z=new Uint8Array(2+I+5*R+4);let v=0;z[v++]=120,z[v++]=156;let c=0;for(;I>H;)z[v++]=0,z[v++]=255,z[v++]=255,z[v++]=0,z[v++]=0,z.set(N.subarray(c,c+H),v),v+=H,c+=H,I-=H;z[v++]=1,z[v++]=255&I,z[v++]=I>>8&255,z[v++]=255&~I,z[v++]=(65535&~I)>>8&255,z.set(N.subarray(c),v),v+=N.length-c;const o=function D(N,I,H){let R=1,z=0;for(let v=I;v<H;++v)R=(R+(255&N[v]))%65521,z=(z+R)%65521;return z<<16|R}(N,0,N.length);return z[v++]=o>>24&255,z[v++]=o>>16&255,z[v++]=o>>8&255,z[v++]=255&o,z}return function(I,H,R){return function U(N,I,H,R){const z=N.width,v=N.height;let c,o,C;const _=N.data;switch(I){case p.ImageKind.GRAYSCALE_1BPP:o=0,c=1,C=z+7>>3;break;case p.ImageKind.RGB_24BPP:o=2,c=8,C=3*z;break;case p.ImageKind.RGBA_32BPP:o=6,c=8,C=4*z;break;default:throw new Error("invalid format")}const T=new Uint8Array((1+C)*v);let i=0,x=0;for(let $=0;$<v;++$)T[i++]=0,T.set(_.subarray(x,x+C),i),x+=C,i+=C;if(I===p.ImageKind.GRAYSCALE_1BPP&&R){i=0;for(let $=0;$<v;$++){i++;for(let Q=0;Q<C;Q++)T[i++]^=255}}const E=new Uint8Array([z>>24&255,z>>16&255,z>>8&255,255&z,v>>24&255,v>>16&255,v>>8&255,255&v,c,o,0,0,0]),B=function L(N){if(!ie.isNodeJS)return V(N);try{let I;I=parseInt(process.versions.node)>=8?N:Buffer.from(N);const H=__webpack_require__(2258).deflateSync(I,{level:9});return H instanceof Uint8Array?H:new Uint8Array(H)}catch(I){(0,p.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+I)}return V(N)}(T),j=new Uint8Array(n.length+36+E.length+B.length);let X=0;return j.set(n,X),X+=n.length,A("IHDR",E,j,X),X+=12+E.length,A("IDATA",B,j,X),X+=12+B.length,A("IEND",new Uint8Array(0),j,X),l(j,"image/png",H)}(I,void 0===I.kind?p.ImageKind.GRAYSCALE_1BPP:I.kind,H,R)}}();class k{constructor(){this.fontSizeScale=1,this.fontWeight=te.fontWeight,this.fontSize=0,this.textMatrix=p.IDENTITY_MATRIX,this.fontMatrix=p.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=p.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=te.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(r,y){this.x=r,this.y=y}}let F=0,S=0,b=0;M.SVGGraphics=se=class{constructor(n,r,y=!1){this.svgFactory=new le.DOMSVGFactory,this.current=new k,this.transformMatrix=p.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=r,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!y,this._operatorIdMapping=[];for(const m in p.OPS)this._operatorIdMapping[p.OPS[m]]=m}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const r=n.fnArray,y=n.argsArray;for(let m=0,A=r.length;m<A;m++)if(r[m]===p.OPS.dependency)for(const D of y[m]){const L=D.startsWith("g_")?this.commonObjs:this.objs,V=new Promise(U=>{L.get(D,U)});this.current.dependencies.push(V)}return Promise.all(this.current.dependencies)}transform(n,r,y,m,A,D){this.transformMatrix=p.Util.transform(this.transformMatrix,[n,r,y,m,A,D]),this.tgrp=null}getSVG(n,r){this.viewport=r;const y=this._initialize(r);return this.loadDependencies(n).then(()=>(this.transformMatrix=p.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),y))}convertOpList(n){const r=this._operatorIdMapping,y=n.argsArray,m=n.fnArray,A=[];for(let D=0,L=m.length;D<L;D++){const V=m[D];A.push({fnId:V,fn:r[V],args:y[D]})}return d(A)}executeOpTree(n){for(const r of n){const y=r.fn,A=r.args;switch(0|r.fnId){case p.OPS.beginText:this.beginText();break;case p.OPS.dependency:break;case p.OPS.setLeading:this.setLeading(A);break;case p.OPS.setLeadingMoveText:this.setLeadingMoveText(A[0],A[1]);break;case p.OPS.setFont:this.setFont(A);break;case p.OPS.showText:case p.OPS.showSpacedText:this.showText(A[0]);break;case p.OPS.endText:this.endText();break;case p.OPS.moveText:this.moveText(A[0],A[1]);break;case p.OPS.setCharSpacing:this.setCharSpacing(A[0]);break;case p.OPS.setWordSpacing:this.setWordSpacing(A[0]);break;case p.OPS.setHScale:this.setHScale(A[0]);break;case p.OPS.setTextMatrix:this.setTextMatrix(A[0],A[1],A[2],A[3],A[4],A[5]);break;case p.OPS.setTextRise:this.setTextRise(A[0]);break;case p.OPS.setTextRenderingMode:this.setTextRenderingMode(A[0]);break;case p.OPS.setLineWidth:this.setLineWidth(A[0]);break;case p.OPS.setLineJoin:this.setLineJoin(A[0]);break;case p.OPS.setLineCap:this.setLineCap(A[0]);break;case p.OPS.setMiterLimit:this.setMiterLimit(A[0]);break;case p.OPS.setFillRGBColor:this.setFillRGBColor(A[0],A[1],A[2]);break;case p.OPS.setStrokeRGBColor:this.setStrokeRGBColor(A[0],A[1],A[2]);break;case p.OPS.setStrokeColorN:this.setStrokeColorN(A);break;case p.OPS.setFillColorN:this.setFillColorN(A);break;case p.OPS.shadingFill:this.shadingFill(A[0]);break;case p.OPS.setDash:this.setDash(A[0],A[1]);break;case p.OPS.setRenderingIntent:this.setRenderingIntent(A[0]);break;case p.OPS.setFlatness:this.setFlatness(A[0]);break;case p.OPS.setGState:this.setGState(A[0]);break;case p.OPS.fill:this.fill();break;case p.OPS.eoFill:this.eoFill();break;case p.OPS.stroke:this.stroke();break;case p.OPS.fillStroke:this.fillStroke();break;case p.OPS.eoFillStroke:this.eoFillStroke();break;case p.OPS.clip:this.clip("nonzero");break;case p.OPS.eoClip:this.clip("evenodd");break;case p.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case p.OPS.paintImageXObject:this.paintImageXObject(A[0]);break;case p.OPS.paintInlineImageXObject:this.paintInlineImageXObject(A[0]);break;case p.OPS.paintImageMaskXObject:this.paintImageMaskXObject(A[0]);break;case p.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(A[0],A[1]);break;case p.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case p.OPS.closePath:this.closePath();break;case p.OPS.closeStroke:this.closeStroke();break;case p.OPS.closeFillStroke:this.closeFillStroke();break;case p.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case p.OPS.nextLine:this.nextLine();break;case p.OPS.transform:this.transform(A[0],A[1],A[2],A[3],A[4],A[5]);break;case p.OPS.constructPath:this.constructPath(A[0],A[1]);break;case p.OPS.endPath:this.endPath();break;case 92:this.group(r.items);break;default:(0,p.warn)(`Unimplemented operator ${y}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,r,y,m,A,D){const L=this.current;L.textMatrix=L.lineMatrix=[n,r,y,m,A,D],L.textMatrixScale=Math.hypot(n,r),L.x=L.lineX=0,L.y=L.lineY=0,L.xcoords=[],L.ycoords=[],L.tspan=this.svgFactory.createElement("svg:tspan"),L.tspan.setAttributeNS(null,"font-family",L.fontFamily),L.tspan.setAttributeNS(null,"font-size",`${a(L.fontSize)}px`),L.tspan.setAttributeNS(null,"y",a(-L.y)),L.txtElement=this.svgFactory.createElement("svg:text"),L.txtElement.appendChild(L.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=p.IDENTITY_MATRIX,n.lineMatrix=p.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,r){const y=this.current;y.x=y.lineX+=n,y.y=y.lineY+=r,y.xcoords=[],y.ycoords=[],y.tspan=this.svgFactory.createElement("svg:tspan"),y.tspan.setAttributeNS(null,"font-family",y.fontFamily),y.tspan.setAttributeNS(null,"font-size",`${a(y.fontSize)}px`),y.tspan.setAttributeNS(null,"y",a(-y.y))}showText(n){const r=this.current,y=r.font,m=r.fontSize;if(0===m)return;const A=r.fontSizeScale,D=r.charSpacing,L=r.wordSpacing,V=r.fontDirection,U=r.textHScale*V,N=y.vertical,I=N?1:-1,H=y.defaultVMetrics,R=m*r.fontMatrix[0];let z=0;for(const o of n){if(null===o){z+=V*L;continue}if("number"==typeof o){z+=I*o*m/1e3;continue}const C=(o.isSpace?L:0)+D,_=o.fontChar;let T,i,E,x=o.width;if(N){let B;const g=o.vmetric||H;B=o.vmetric?g[1]:.5*x,B=-B*R,x=g?-g[0]:x,T=B/A,i=(z+g[2]*R)/A}else T=z/A,i=0;(o.isInFont||y.missingFile)&&(r.xcoords.push(r.x+T),N&&r.ycoords.push(-r.y+i),r.tspan.textContent+=_),E=N?x*R-C*V:x*R+C*V,z+=E}r.tspan.setAttributeNS(null,"x",r.xcoords.map(a).join(" ")),r.tspan.setAttributeNS(null,"y",N?r.ycoords.map(a).join(" "):a(-r.y)),N?r.y-=z:r.x+=z*U,r.tspan.setAttributeNS(null,"font-family",r.fontFamily),r.tspan.setAttributeNS(null,"font-size",`${a(r.fontSize)}px`),r.fontStyle!==te.fontStyle&&r.tspan.setAttributeNS(null,"font-style",r.fontStyle),r.fontWeight!==te.fontWeight&&r.tspan.setAttributeNS(null,"font-weight",r.fontWeight);const v=r.textRenderingMode&p.TextRenderingMode.FILL_STROKE_MASK;v===p.TextRenderingMode.FILL||v===p.TextRenderingMode.FILL_STROKE?(r.fillColor!==te.fillColor&&r.tspan.setAttributeNS(null,"fill",r.fillColor),r.fillAlpha<1&&r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)):r.tspan.setAttributeNS(null,"fill",r.textRenderingMode===p.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(v===p.TextRenderingMode.STROKE||v===p.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(r.tspan,1/(r.textMatrixScale||1));let c=r.textMatrix;0!==r.textRise&&(c=c.slice(),c[5]+=r.textRise),r.txtElement.setAttributeNS(null,"transform",`${w(c)} scale(${a(U)}, -1)`),r.txtElement.setAttributeNS(e,"xml:space","preserve"),r.txtElement.appendChild(r.tspan),r.txtgrp.appendChild(r.txtElement),this._ensureTransformGroup().appendChild(r.txtElement)}setLeadingMoveText(n,r){this.setLeading(-r),this.moveText(n,r)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const r=l(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${r}); }\n`}setFont(n){const r=this.current,y=this.commonObjs.get(n[0]);let m=n[1];r.font=y,this.embedFonts&&!y.missingFile&&!this.embeddedFonts[y.loadedName]&&(this.addFontStyle(y),this.embeddedFonts[y.loadedName]=y),r.fontMatrix=y.fontMatrix||p.FONT_IDENTITY_MATRIX;let A="normal";y.black?A="900":y.bold&&(A="bold");const D=y.italic?"italic":"normal";m<0?(m=-m,r.fontDirection=-1):r.fontDirection=1,r.fontSize=m,r.fontFamily=y.loadedName,r.fontWeight=A,r.fontStyle=D,r.tspan=this.svgFactory.createElement("svg:tspan"),r.tspan.setAttributeNS(null,"y",a(-r.y)),r.xcoords=[],r.ycoords=[]}endText(){var r;const n=this.current;n.textRenderingMode&p.TextRenderingMode.ADD_TO_PATH_FLAG&&(null==(r=n.txtElement)?void 0:r.hasChildNodes())&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=u[n]}setLineJoin(n){this.current.lineJoin=s[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,r,y){this.current.strokeColor=p.Util.makeHexColor(n,r,y)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,r,y){this.current.fillColor=p.Util.makeHexColor(n,r,y),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const r=this.viewport.width,y=this.viewport.height,m=p.Util.inverseTransform(this.transformMatrix),A=p.Util.applyTransform([0,0],m),D=p.Util.applyTransform([0,y],m),L=p.Util.applyTransform([r,0],m),V=p.Util.applyTransform([r,y],m),U=Math.min(A[0],D[0],L[0],V[0]),N=Math.min(A[1],D[1],L[1],V[1]),I=Math.max(A[0],D[0],L[0],V[0]),H=Math.max(A[1],D[1],L[1],V[1]),R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x",U),R.setAttributeNS(null,"y",N),R.setAttributeNS(null,"width",I-U),R.setAttributeNS(null,"height",H-N),R.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&R.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(R)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const r=n[1],y=n[2],m=n[3]||p.IDENTITY_MATRIX,[A,D,L,V]=n[4],U=n[5],N=n[6],I=n[7],H="shading"+b++,[R,z,v,c]=p.Util.normalizeRect([...p.Util.applyTransform([A,D],m),...p.Util.applyTransform([L,V],m)]),[o,C]=p.Util.singularValueDecompose2dScale(m),_=U*o,T=N*C,i=this.svgFactory.createElement("svg:pattern");i.setAttributeNS(null,"id",H),i.setAttributeNS(null,"patternUnits","userSpaceOnUse"),i.setAttributeNS(null,"width",_),i.setAttributeNS(null,"height",T),i.setAttributeNS(null,"x",`${R}`),i.setAttributeNS(null,"y",`${z}`);const x=this.svg,E=this.transformMatrix,B=this.current.fillColor,g=this.current.strokeColor,j=this.svgFactory.create(v-R,c-z);if(this.svg=j,this.transformMatrix=m,2===I){const X=p.Util.makeHexColor(...r);this.current.fillColor=X,this.current.strokeColor=X}return this.executeOpTree(this.convertOpList(y)),this.svg=x,this.transformMatrix=E,this.current.fillColor=B,this.current.strokeColor=g,i.appendChild(j.childNodes[0]),this.defs.appendChild(i),`url(#${H})`}_makeShadingPattern(n){switch("string"==typeof n&&(n=this.objs.get(n)),n[0]){case"RadialAxial":const r="shading"+b++,y=n[3];let m;switch(n[1]){case"axial":const A=n[4],D=n[5];m=this.svgFactory.createElement("svg:linearGradient"),m.setAttributeNS(null,"id",r),m.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),m.setAttributeNS(null,"x1",A[0]),m.setAttributeNS(null,"y1",A[1]),m.setAttributeNS(null,"x2",D[0]),m.setAttributeNS(null,"y2",D[1]);break;case"radial":const L=n[4],V=n[5],U=n[6],N=n[7];m=this.svgFactory.createElement("svg:radialGradient"),m.setAttributeNS(null,"id",r),m.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),m.setAttributeNS(null,"cx",V[0]),m.setAttributeNS(null,"cy",V[1]),m.setAttributeNS(null,"r",N),m.setAttributeNS(null,"fx",L[0]),m.setAttributeNS(null,"fy",L[1]),m.setAttributeNS(null,"fr",U);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const A of y){const D=this.svgFactory.createElement("svg:stop");D.setAttributeNS(null,"offset",A[0]),D.setAttributeNS(null,"stop-color",A[1]),m.appendChild(D)}return this.defs.appendChild(m),`url(#${r})`;case"Mesh":return(0,p.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,r){this.current.dashArray=n,this.current.dashPhase=r}constructPath(n,r){const y=this.current;let m=y.x,A=y.y,D=[],L=0;for(const V of n)switch(0|V){case p.OPS.rectangle:m=r[L++],A=r[L++];const I=m+r[L++],H=A+r[L++];D.push("M",a(m),a(A),"L",a(I),a(A),"L",a(I),a(H),"L",a(m),a(H),"Z");break;case p.OPS.moveTo:m=r[L++],A=r[L++],D.push("M",a(m),a(A));break;case p.OPS.lineTo:m=r[L++],A=r[L++],D.push("L",a(m),a(A));break;case p.OPS.curveTo:m=r[L+4],A=r[L+5],D.push("C",a(r[L]),a(r[L+1]),a(r[L+2]),a(r[L+3]),a(m),a(A)),L+=6;break;case p.OPS.curveTo2:D.push("C",a(m),a(A),a(r[L]),a(r[L+1]),a(r[L+2]),a(r[L+3])),m=r[L+2],A=r[L+3],L+=4;break;case p.OPS.curveTo3:m=r[L+2],A=r[L+3],D.push("C",a(r[L]),a(r[L+1]),a(m),a(A),a(m),a(A)),L+=4;break;case p.OPS.closePath:D.push("Z")}D=D.join(" "),y.path&&n.length>0&&n[0]!==p.OPS.rectangle&&n[0]!==p.OPS.moveTo?D=y.path.getAttributeNS(null,"d")+D:(y.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(y.path)),y.path.setAttributeNS(null,"d",D),y.path.setAttributeNS(null,"fill","none"),y.element=y.path,y.setCurrentPoint(m,A)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const r="clippath"+F++,y=this.svgFactory.createElement("svg:clipPath");y.setAttributeNS(null,"id",r),y.setAttributeNS(null,"transform",w(this.transformMatrix));const m=n.element.cloneNode(!0);if(m.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,y.appendChild(m),this.defs.appendChild(y),n.activeClipUrl){n.clipGroup=null;for(const A of this.extraStack)A.clipGroup=null;y.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${r})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const r=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",r)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[r,y]of n)switch(r){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y);break;case"CA":this.setStrokeAlpha(y);break;case"ca":this.setFillAlpha(y);break;default:(0,p.warn)(`Unimplemented graphic state operator ${r}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,r=1){const y=this.current;let m=y.dashArray;1!==r&&m.length>0&&(m=m.map(function(A){return r*A})),n.setAttributeNS(null,"stroke",y.strokeColor),n.setAttributeNS(null,"stroke-opacity",y.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",a(y.miterLimit)),n.setAttributeNS(null,"stroke-linecap",y.lineCap),n.setAttributeNS(null,"stroke-linejoin",y.lineJoin),n.setAttributeNS(null,"stroke-width",a(r*y.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",m.map(a).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",a(r*y.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(n)}paintImageXObject(n){const r=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);r?this.paintInlineImageXObject(r):(0,p.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,r){const y=n.width,m=n.height,A=f(n,this.forceDataSchema,!!r),D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y","0"),D.setAttributeNS(null,"width",a(y)),D.setAttributeNS(null,"height",a(m)),this.current.element=D,this.clip("nonzero");const L=this.svgFactory.createElement("svg:image");L.setAttributeNS(t,"xlink:href",A),L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y",a(-m)),L.setAttributeNS(null,"width",a(y)+"px"),L.setAttributeNS(null,"height",a(m)+"px"),L.setAttributeNS(null,"transform",`scale(${a(1/y)} ${a(-1/m)})`),r?r.appendChild(L):this._ensureTransformGroup().appendChild(L)}paintImageMaskXObject(n){const r=this.current,y=n.width,m=n.height,A=r.fillColor;r.maskId="mask"+S++;const D=this.svgFactory.createElement("svg:mask");D.setAttributeNS(null,"id",r.maskId);const L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x","0"),L.setAttributeNS(null,"y","0"),L.setAttributeNS(null,"width",a(y)),L.setAttributeNS(null,"height",a(m)),L.setAttributeNS(null,"fill",A),L.setAttributeNS(null,"mask",`url(#${r.maskId})`),this.defs.appendChild(D),this._ensureTransformGroup().appendChild(L),this.paintInlineImageXObject(n,D)}paintFormXObjectBegin(n,r){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),r){const y=r[2]-r[0],m=r[3]-r[1],A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x",r[0]),A.setAttributeNS(null,"y",r[1]),A.setAttributeNS(null,"width",a(y)),A.setAttributeNS(null,"height",a(m)),this.current.element=A,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const r=this.svgFactory.create(n.width,n.height),y=this.svgFactory.createElement("svg:defs");r.appendChild(y),this.defs=y;const m=this.svgFactory.createElement("svg:g");return m.setAttributeNS(null,"transform",w(n.transform)),r.appendChild(m),this.svg=m,r}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",w(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFNodeStream=void 0;var p=K(1),le=K(24);const ie=__webpack_require__(172),se=__webpack_require__(2001),te=__webpack_require__(3779),e=__webpack_require__(6558),t=/^file:\/\/\/[a-zA-Z]:\//;M.PDFNodeStream=class s{constructor(b){this.source=b,this.url=function u(S){const b=e.parse(S);return"file:"===b.protocol||b.host?b:/^[a-z]:[/\\]/i.test(S)?e.parse(`file:///${S}`):(b.host||(b.protocol="file:"),b)}(b.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&b.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var b,n;return null!=(n=null==(b=this._fullRequestReader)?void 0:b._loaded)?n:0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new w(this):new d(this),this._fullRequestReader}getRangeReader(b,n){if(n<=this._progressiveDataLength)return null;const r=this.isFsUrl?new F(this,b,n):new a(this,b,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);for(const n of this._rangeRequestReaders.slice(0))n.cancel(b)}};class l{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=b.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._headersCapability=(0,p.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){if(yield b._readCapability.promise,b._done)return{value:void 0,done:!0};if(b._storedError)throw b._storedError;const n=b._readableStream.read();return null===n?(b._readCapability=(0,p.createPromiseCapability)(),b.read()):(b._loaded+=n.length,b.onProgress&&b.onProgress({loaded:b._loaded,total:b._contentLength}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(b){this._readableStream?this._readableStream.destroy(b):this._error(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new p.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class f{constructor(b){this._url=b.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!b.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var b=this;return _asyncToGenerator(function*(){if(yield b._readCapability.promise,b._done)return{value:void 0,done:!0};if(b._storedError)throw b._storedError;const n=b._readableStream.read();return null===n?(b._readCapability=(0,p.createPromiseCapability)(),b.read()):(b._loaded+=n.length,b.onProgress&&b.onProgress({loaded:b._loaded}),{value:new Uint8Array(n).buffer,done:!1})})()}cancel(b){this._readableStream?this._readableStream.destroy(b):this._error(b)}_error(b){this._storedError=b,this._readCapability.resolve()}_setReadableStream(b){this._readableStream=b,b.on("readable",()=>{this._readCapability.resolve()}),b.on("end",()=>{b.destroy(),this._done=!0,this._readCapability.resolve()}),b.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function k(S,b){return{protocol:S.protocol,auth:S.auth,host:S.hostname,port:S.port,path:S.path,method:"GET",headers:b}}class d extends l{constructor(b){super(b);const n=r=>{if(404===r.statusCode){const D=new p.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=D,void this._headersCapability.reject(D)}this._headersCapability.resolve(),this._setReadableStream(r);const y=D=>this._readableStream.headers[D.toLowerCase()],{allowRangeRequests:m,suggestedLength:A}=(0,le.validateRangeRequestCapabilities)({getResponseHeader:y,isHttp:b.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=m,this._contentLength=A||this._contentLength,this._filename=(0,le.extractFilenameFromHeader)(y)};this._request=null,this._request="http:"===this._url.protocol?se.request(k(this._url,b.httpHeaders),n):te.request(k(this._url,b.httpHeaders),n),this._request.on("error",r=>{this._storedError=r,this._headersCapability.reject(r)}),this._request.end()}}class a extends f{constructor(b,n,r){super(b),this._httpHeaders={};for(const m in b.httpHeaders){const A=b.httpHeaders[m];void 0!==A&&(this._httpHeaders[m]=A)}this._httpHeaders.Range=`bytes=${n}-${r-1}`;const y=m=>{if(404!==m.statusCode)this._setReadableStream(m);else{const A=new p.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=A}};this._request=null,this._request="http:"===this._url.protocol?se.request(k(this._url,this._httpHeaders),y):te.request(k(this._url,this._httpHeaders),y),this._request.on("error",m=>{this._storedError=m}),this._request.end()}}class w extends l{constructor(b){super(b);let n=decodeURIComponent(this._url.path);t.test(this._url.href)&&(n=n.replace(/^\//,"")),ie.lstat(n,(r,y)=>{if(r)return"ENOENT"===r.code&&(r=new p.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=r,void this._headersCapability.reject(r);this._contentLength=y.size,this._setReadableStream(ie.createReadStream(n)),this._headersCapability.resolve()})}}class F extends f{constructor(b,n,r){super(b);let y=decodeURIComponent(this._url.path);t.test(this._url.href)&&(y=y.replace(/^\//,"")),this._setReadableStream(ie.createReadStream(y,{start:n,end:r-1}))}}},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.createResponseStatusError=function e(u,s){return 404===u||0===u&&s.startsWith("file:")?new p.MissingPDFException('Missing PDF "'+s+'".'):new p.UnexpectedResponseException(`Unexpected server response (${u}) while retrieving PDF "${s}".`,u)},M.extractFilenameFromHeader=function te(u){const s=u("Content-Disposition");if(s){let l=(0,le.getFilenameFromContentDispositionHeader)(s);if(l.includes("%"))try{l=decodeURIComponent(l)}catch(f){}if((0,ie.isPdfFile)(l))return l}return null},M.validateRangeRequestCapabilities=function se({getResponseHeader:u,isHttp:s,rangeChunkSize:l,disableRange:f}){(0,p.assert)(l>0,"Range chunk size must be larger than zero");const k={allowRangeRequests:!1,suggestedLength:void 0},d=parseInt(u("Content-Length"),10);return!Number.isInteger(d)||(k.suggestedLength=d,d<=2*l)||f||!s||"bytes"!==u("Accept-Ranges")||"identity"!==(u("Content-Encoding")||"identity")||(k.allowRangeRequests=!0),k},M.validateResponseStatus=function t(u){return 200===u||206===u};var p=K(1),le=K(25),ie=K(5)},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.getFilenameFromContentDispositionHeader=function le(ie){let se=!0,te=e("filename\\*","i").exec(ie);if(te){te=te[1];let d=l(te);return d=unescape(d),d=f(d),d=k(d),u(d)}if(te=function s(d){const a=[];let w;const F=e("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(w=F.exec(d));){let[,b,n,r]=w;if(b=parseInt(b,10),b in a){if(0===b)break}else a[b]=[n,r]}const S=[];for(let b=0;b<a.length&&b in a;++b){let[n,r]=a[b];r=l(r),n&&(r=unescape(r),0===b&&(r=f(r))),S.push(r)}return S.join("")}(ie),te)return u(k(te));if(te=e("filename","i").exec(ie),te){te=te[1];let d=l(te);return d=k(d),u(d)}function e(d,a){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',a)}function t(d,a){if(d){if(!/^[\x00-\xFF]+$/.test(a))return a;try{const w=new TextDecoder(d,{fatal:!0}),F=(0,p.stringToBytes)(a);a=w.decode(F),se=!1}catch(w){}}return a}function u(d){return se&&/[\x80-\xff]/.test(d)&&(d=t("utf-8",d),se&&(d=t("iso-8859-1",d))),d}function l(d){if(d.startsWith('"')){const a=d.slice(1).split('\\"');for(let w=0;w<a.length;++w){const F=a[w].indexOf('"');-1!==F&&(a[w]=a[w].slice(0,F),a.length=w+1),a[w]=a[w].replace(/\\(.)/g,"$1")}d=a.join('"')}return d}function f(d){const a=d.indexOf("'");return-1===a?d:t(d.slice(0,a),d.slice(a+1).replace(/^[^']*'/,""))}function k(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(a,w,F,S){if("q"===F||"Q"===F)return t(w,S=(S=S.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(b,n){return String.fromCharCode(parseInt(n,16))}));try{S=atob(S)}catch(b){}return t(w,S)})}return""};var p=K(1)},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFNetworkStream=void 0;var p=K(1),le=K(24);class e{constructor(f,k={}){this.url=f,this.isHttp=/^https?:/i.test(f),this.httpHeaders=this.isHttp&&k.httpHeaders||Object.create(null),this.withCredentials=k.withCredentials||!1,this.getXhr=k.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(f,k,d){const a={begin:f,end:k};for(const w in d)a[w]=d[w];return this.request(a)}requestFull(f){return this.request(f)}request(f){const k=this.getXhr(),d=this.currXhrId++,a=this.pendingRequests[d]={xhr:k};k.open("GET",this.url),k.withCredentials=this.withCredentials;for(const w in this.httpHeaders){const F=this.httpHeaders[w];void 0!==F&&k.setRequestHeader(w,F)}return this.isHttp&&"begin"in f&&"end"in f?(k.setRequestHeader("Range",`bytes=${f.begin}-${f.end-1}`),a.expectedStatus=206):a.expectedStatus=200,k.responseType="arraybuffer",f.onError&&(k.onerror=function(w){f.onError(k.status)}),k.onreadystatechange=this.onStateChange.bind(this,d),k.onprogress=this.onProgress.bind(this,d),a.onHeadersReceived=f.onHeadersReceived,a.onDone=f.onDone,a.onError=f.onError,a.onProgress=f.onProgress,k.send(null),d}onProgress(f,k){var a;const d=this.pendingRequests[f];!d||null==(a=d.onProgress)||a.call(d,k)}onStateChange(f,k){var b,n,r;const d=this.pendingRequests[f];if(!d)return;const a=d.xhr;if(a.readyState>=2&&d.onHeadersReceived&&(d.onHeadersReceived(),delete d.onHeadersReceived),4!==a.readyState||!(f in this.pendingRequests))return;if(delete this.pendingRequests[f],0===a.status&&this.isHttp)return void(null==(b=d.onError)||b.call(d,a.status));const w=a.status||200;if((200!==w||206!==d.expectedStatus)&&w!==d.expectedStatus)return void(null==(n=d.onError)||n.call(d,a.status));const S=function te(l){const f=l.response;return"string"!=typeof f?f:(0,p.stringToBytes)(f).buffer}(a);if(206===w){const y=a.getResponseHeader("Content-Range"),m=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);d.onDone({begin:parseInt(m[1],10),chunk:S})}else S?d.onDone({begin:0,chunk:S}):null==(r=d.onError)||r.call(d,a.status)}getRequestXhr(f){return this.pendingRequests[f].xhr}isPendingRequest(f){return f in this.pendingRequests}abortRequest(f){const k=this.pendingRequests[f].xhr;delete this.pendingRequests[f],k.abort()}}M.PDFNetworkStream=class t{constructor(f){this._source=f,this._manager=new e(f.url,{httpHeaders:f.httpHeaders,withCredentials:f.withCredentials}),this._rangeChunkSize=f.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(f){const k=this._rangeRequestReaders.indexOf(f);k>=0&&this._rangeRequestReaders.splice(k,1)}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new u(this._manager,this._source),this._fullRequestReader}getRangeReader(f,k){const d=new s(this._manager,f,k);return d.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(d),d}cancelAllRequests(f){var k;null==(k=this._fullRequestReader)||k.cancel(f);for(const d of this._rangeRequestReaders.slice(0))d.cancel(f)}};class u{constructor(f,k){this._manager=f;const d={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=k.url,this._fullRequestId=f.requestFull(d),this._headersReceivedCapability=(0,p.createPromiseCapability)(),this._disableRange=k.disableRange||!1,this._contentLength=k.length,this._rangeChunkSize=k.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const f=this._fullRequestId,k=this._manager.getRequestXhr(f),d=F=>k.getResponseHeader(F),{allowRangeRequests:a,suggestedLength:w}=(0,le.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=w||this._contentLength,this._filename=(0,le.extractFilenameFromHeader)(d),this._isRangeSupported&&this._manager.abortRequest(f),this._headersReceivedCapability.resolve()}_onDone(f){if(f&&(this._requests.length>0?this._requests.shift().resolve({value:f.chunk,done:!1}):this._cachedChunks.push(f.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(f){this._storedError=(0,le.createResponseStatusError)(f,this._url),this._headersReceivedCapability.reject(this._storedError);for(const k of this._requests)k.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(f){var k;null==(k=this.onProgress)||k.call(this,{loaded:f.loaded,total:f.lengthComputable?f.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var f=this;return _asyncToGenerator(function*(){if(f._storedError)throw f._storedError;if(f._cachedChunks.length>0)return{value:f._cachedChunks.shift(),done:!1};if(f._done)return{value:void 0,done:!0};const k=(0,p.createPromiseCapability)();return f._requests.push(k),k.promise})()}cancel(f){this._done=!0,this._headersReceivedCapability.reject(f);for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class s{constructor(f,k,d){this._manager=f;const a={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=f.url,this._requestId=f.requestRange(k,d,a),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var f;null==(f=this.onClosed)||f.call(this,this)}_onDone(f){const k=f.chunk;this._requests.length>0?this._requests.shift().resolve({value:k,done:!1}):this._queuedChunk=k,this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(f){this._storedError=(0,le.createResponseStatusError)(f,this._url);for(const k of this._requests)k.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(f){var k;this.isStreamingSupported||null==(k=this.onProgress)||k.call(this,{loaded:f.loaded})}get isStreamingSupported(){return!1}read(){var f=this;return _asyncToGenerator(function*(){if(f._storedError)throw f._storedError;if(null!==f._queuedChunk){const d=f._queuedChunk;return f._queuedChunk=null,{value:d,done:!1}}if(f._done)return{value:void 0,done:!0};const k=(0,p.createPromiseCapability)();return f._requests.push(k),k.promise})()}cancel(f){this._done=!0;for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(de,M,K)=>{Object.defineProperty(M,"__esModule",{value:!0}),M.PDFFetchStream=void 0;var p=K(1),le=K(24);function ie(u,s,l){return{method:"GET",headers:u,signal:null==l?void 0:l.signal,mode:"cors",credentials:s?"include":"same-origin",redirect:"follow"}}function se(u){const s=new Headers;for(const l in u){const f=u[l];void 0!==f&&s.append(l,f)}return s}M.PDFFetchStream=class te{constructor(s){this.source=s,this.isHttp=/^https?:/i.test(s.url),this.httpHeaders=this.isHttp&&s.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var s,l;return null!=(l=null==(s=this._fullRequestReader)?void 0:s._loaded)?l:0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new e(this),this._fullRequestReader}getRangeReader(s,l){if(l<=this._progressiveDataLength)return null;const f=new t(this,s,l);return this._rangeRequestReaders.push(f),f}cancelAllRequests(s){this._fullRequestReader&&this._fullRequestReader.cancel(s);for(const l of this._rangeRequestReaders.slice(0))l.cancel(s)}};class e{constructor(s){this._stream=s,this._reader=null,this._loaded=0,this._filename=null;const l=s.source;this._withCredentials=l.withCredentials||!1,this._contentLength=l.length,this._headersCapability=(0,p.createPromiseCapability)(),this._disableRange=l.disableRange||!1,this._rangeChunkSize=l.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!l.disableStream,this._isRangeSupported=!l.disableRange,this._headers=se(this._stream.httpHeaders);const f=l.url;fetch(f,ie(this._headers,this._withCredentials,this._abortController)).then(k=>{if(!(0,le.validateResponseStatus)(k.status))throw(0,le.createResponseStatusError)(k.status,f);this._reader=k.body.getReader(),this._headersCapability.resolve();const d=F=>k.headers.get(F),{allowRangeRequests:a,suggestedLength:w}=(0,le.validateRangeRequestCapabilities)({getResponseHeader:d,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=w||this._contentLength,this._filename=(0,le.extractFilenameFromHeader)(d),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new p.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var s=this;return _asyncToGenerator(function*(){yield s._headersCapability.promise;const{value:l,done:f}=yield s._reader.read();return f?{value:l,done:f}:(s._loaded+=l.byteLength,s.onProgress&&s.onProgress({loaded:s._loaded,total:s._contentLength}),{value:new Uint8Array(l).buffer,done:!1})})()}cancel(s){this._reader&&this._reader.cancel(s),this._abortController&&this._abortController.abort()}}class t{constructor(s,l,f){this._stream=s,this._reader=null,this._loaded=0;const k=s.source;this._withCredentials=k.withCredentials||!1,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!k.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=se(this._stream.httpHeaders),this._headers.append("Range",`bytes=${l}-${f-1}`);const d=k.url;fetch(d,ie(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!(0,le.validateResponseStatus)(a.status))throw(0,le.createResponseStatusError)(a.status,d);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var s=this;return _asyncToGenerator(function*(){yield s._readCapability.promise;const{value:l,done:f}=yield s._reader.read();return f?{value:l,done:f}:(s._loaded+=l.byteLength,s.onProgress&&s.onProgress({loaded:s._loaded}),{value:new Uint8Array(l).buffer,done:!1})})()}cancel(s){this._reader&&this._reader.cancel(s),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(de){var M=__webpack_module_cache__[de];if(void 0!==M)return M.exports;var K=__webpack_module_cache__[de]={exports:{}};return __webpack_modules__[de](K,K.exports,__w_pdfjs_require__),K.exports}var __webpack_exports__={};return(()=>{var de=__webpack_exports__;Object.defineProperty(de,"__esModule",{value:!0}),Object.defineProperty(de,"AnnotationLayer",{enumerable:!0,get:function(){return le.AnnotationLayer}}),Object.defineProperty(de,"AnnotationMode",{enumerable:!0,get:function(){return M.AnnotationMode}}),Object.defineProperty(de,"CMapCompressionType",{enumerable:!0,get:function(){return M.CMapCompressionType}}),Object.defineProperty(de,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ie.GlobalWorkerOptions}}),Object.defineProperty(de,"InvalidPDFException",{enumerable:!0,get:function(){return M.InvalidPDFException}}),Object.defineProperty(de,"LoopbackPort",{enumerable:!0,get:function(){return K.LoopbackPort}}),Object.defineProperty(de,"MissingPDFException",{enumerable:!0,get:function(){return M.MissingPDFException}}),Object.defineProperty(de,"OPS",{enumerable:!0,get:function(){return M.OPS}}),Object.defineProperty(de,"PDFDataRangeTransport",{enumerable:!0,get:function(){return K.PDFDataRangeTransport}}),Object.defineProperty(de,"PDFDateString",{enumerable:!0,get:function(){return p.PDFDateString}}),Object.defineProperty(de,"PDFWorker",{enumerable:!0,get:function(){return K.PDFWorker}}),Object.defineProperty(de,"PasswordResponses",{enumerable:!0,get:function(){return M.PasswordResponses}}),Object.defineProperty(de,"PermissionFlag",{enumerable:!0,get:function(){return M.PermissionFlag}}),Object.defineProperty(de,"PixelsPerInch",{enumerable:!0,get:function(){return p.PixelsPerInch}}),Object.defineProperty(de,"RenderingCancelledException",{enumerable:!0,get:function(){return p.RenderingCancelledException}}),Object.defineProperty(de,"SVGGraphics",{enumerable:!0,get:function(){return e.SVGGraphics}}),Object.defineProperty(de,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return M.UNSUPPORTED_FEATURES}}),Object.defineProperty(de,"UnexpectedResponseException",{enumerable:!0,get:function(){return M.UnexpectedResponseException}}),Object.defineProperty(de,"Util",{enumerable:!0,get:function(){return M.Util}}),Object.defineProperty(de,"VerbosityLevel",{enumerable:!0,get:function(){return M.VerbosityLevel}}),Object.defineProperty(de,"XfaLayer",{enumerable:!0,get:function(){return t.XfaLayer}}),Object.defineProperty(de,"build",{enumerable:!0,get:function(){return K.build}}),Object.defineProperty(de,"createPromiseCapability",{enumerable:!0,get:function(){return M.createPromiseCapability}}),Object.defineProperty(de,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return M.createValidAbsoluteUrl}}),Object.defineProperty(de,"getDocument",{enumerable:!0,get:function(){return K.getDocument}}),Object.defineProperty(de,"getFilenameFromUrl",{enumerable:!0,get:function(){return p.getFilenameFromUrl}}),Object.defineProperty(de,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return p.getPdfFilenameFromUrl}}),Object.defineProperty(de,"getXfaPageViewport",{enumerable:!0,get:function(){return p.getXfaPageViewport}}),Object.defineProperty(de,"isPdfFile",{enumerable:!0,get:function(){return p.isPdfFile}}),Object.defineProperty(de,"loadScript",{enumerable:!0,get:function(){return p.loadScript}}),Object.defineProperty(de,"renderTextLayer",{enumerable:!0,get:function(){return te.renderTextLayer}}),Object.defineProperty(de,"shadow",{enumerable:!0,get:function(){return M.shadow}}),Object.defineProperty(de,"version",{enumerable:!0,get:function(){return K.version}});var M=__w_pdfjs_require__(1),K=__w_pdfjs_require__(4),p=__w_pdfjs_require__(5),le=__w_pdfjs_require__(18),ie=__w_pdfjs_require__(12),se=__w_pdfjs_require__(3),te=__w_pdfjs_require__(21),e=__w_pdfjs_require__(22),t=__w_pdfjs_require__(20);if(se.isNodeJS){const{PDFNodeStream:l}=__w_pdfjs_require__(23);(0,K.setPDFNetworkStreamFactory)(f=>new l(f))}else{const{PDFNetworkStream:l}=__w_pdfjs_require__(26),{PDFFetchStream:f}=__w_pdfjs_require__(27);(0,K.setPDFNetworkStreamFactory)(k=>(0,p.isValidFetchUrl)(k.url)?new f(k):new l(k))}})(),__webpack_exports__})()},module.exports=K()},2813:function(de,M,K){var p=K(8926).default;de.exports=(()=>{"use strict";var le=[,(e,t,u)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultXfaLayerFactory=t.DefaultTextLayerFactory=t.DefaultStructTreeLayerFactory=t.DefaultAnnotationLayerFactory=void 0;var s=u(2),l=u(4),f=u(5),k=u(7),d=u(8),a=u(9);t.DefaultAnnotationLayerFactory=class w{createAnnotationLayerBuilder(r,y,m=null,A="",D=!0,L=l.NullL10n,V=!1,U=null,N=null,I=null,H=null){return new s.AnnotationLayerBuilder({pageDiv:r,pdfPage:y,imageResourcesPath:A,renderForms:D,linkService:new f.SimpleLinkService,l10n:L,annotationStorage:m,enableScripting:V,hasJSActionsPromise:U,fieldObjectsPromise:I,mouseState:N,annotationCanvasMap:H})}};t.DefaultStructTreeLayerFactory=class F{createStructTreeLayerBuilder(r){return new k.StructTreeLayerBuilder({pdfPage:r})}};t.DefaultTextLayerFactory=class S{createTextLayerBuilder(r,y,m,A=!1,D,L){return new d.TextLayerBuilder({textLayerDiv:r,pageIndex:y,viewport:m,enhanceTextSelection:A,eventBus:D,highlighter:L})}};t.DefaultXfaLayerFactory=class b{createXfaLayerBuilder(r,y,m=null,A=null){return new a.XfaLayerBuilder({pageDiv:r,pdfPage:y,annotationStorage:m,linkService:new f.SimpleLinkService,xfaHtml:A})}}},(e,t,u)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayerBuilder=void 0;var s=u(3),l=u(4);t.AnnotationLayerBuilder=class f{constructor({pageDiv:d,pdfPage:a,linkService:w,downloadManager:F,annotationStorage:S=null,imageResourcesPath:b="",renderForms:n=!0,l10n:r=l.NullL10n,enableScripting:y=!1,hasJSActionsPromise:m=null,fieldObjectsPromise:A=null,mouseState:D=null,annotationCanvasMap:L=null}){this.pageDiv=d,this.pdfPage=a,this.linkService=w,this.downloadManager=F,this.imageResourcesPath=b,this.renderForms=n,this.l10n=r,this.annotationStorage=S,this.enableScripting=y,this._hasJSActionsPromise=m,this._fieldObjectsPromise=A,this._mouseState=D,this._annotationCanvasMap=L,this.div=null,this._cancelled=!1}render(d,a="display"){var w=this;return p(function*(){const[F,S=!1,b=null]=yield Promise.all([w.pdfPage.getAnnotations({intent:a}),w._hasJSActionsPromise,w._fieldObjectsPromise]);if(w._cancelled||0===F.length)return;const n={viewport:d.clone({dontFlip:!0}),div:w.div,annotations:F,page:w.pdfPage,imageResourcesPath:w.imageResourcesPath,renderForms:w.renderForms,linkService:w.linkService,downloadManager:w.downloadManager,annotationStorage:w.annotationStorage,enableScripting:w.enableScripting,hasJSActions:S,fieldObjects:b,mouseState:w._mouseState,annotationCanvasMap:w._annotationCanvasMap};w.div?s.AnnotationLayer.update(n):(w.div=document.createElement("div"),w.div.className="annotationLayer",w.pageDiv.appendChild(w.div),n.div=w.div,s.AnnotationLayer.render(n),w.l10n.translate(w.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},e=>{let t;t="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:K(6036),e.exports=t},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.fixupLangCode=function f(a){return l[null==a?void 0:a.toLowerCase()]||a},t.getL10nFallback=s;const u={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function s(a,w){switch(a){case"find_match_count":a=`find_match_count[${1===w.total?"one":"other"}]`;break;case"find_match_count_limit":a=`find_match_count_limit[${1===w.limit?"one":"other"}]`}return u[a]||""}const l={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};t.NullL10n={getLanguage:()=>p(function*(){return"en-us"})(),getDirection:()=>p(function*(){return"ltr"})(),get:(a,w=null,F=s(a,w))=>p(function*(){return function k(a,w){return w?a.replace(/\{\{\s*(\w+)\s*\}\}/g,(F,S)=>S in w?w[S]:"{{"+S+"}}"):a}(F,w)})(),translate:a=>p(function*(){})()}},(e,t,u)=>{var w,F,at,b,ft;Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleLinkService=t.PDFLinkService=t.LinkTarget=void 0;var s=u(6);const f={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function k(y,{url:m,target:A,rel:D,enabled:L=!0}={}){if(!m||"string"!=typeof m)throw new Error('A valid "url" parameter must provided.');const V=(0,s.removeNullCharacters)(m);L?y.href=y.title=V:(y.href="",y.title=`Disabled: ${V}`,y.onclick=()=>!1);let U="";switch(A){case f.NONE:break;case f.SELF:U="_self";break;case f.BLANK:U="_blank";break;case f.PARENT:U="_parent";break;case f.TOP:U="_top"}y.target=U,y.rel="string"==typeof D?D:"noopener noreferrer nofollow"}t.LinkTarget=f;const r=class{constructor({eventBus:m,externalLinkTarget:A=null,externalLinkRel:D=null,ignoreDestinationZoom:L=!1}={}){Te(this,F),Te(this,w,new Map),this.eventBus=m,this.externalLinkTarget=A,this.externalLinkRel=D,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=L,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(m,A=null){this.baseUrl=A,this.pdfDocument=m,be(this,w).clear()}setViewer(m){this.pdfViewer=m}setHistory(m){this.pdfHistory=m}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(m){this.pdfViewer.currentPageNumber=m}get rotation(){return this.pdfViewer.pagesRotation}set rotation(m){this.pdfViewer.pagesRotation=m}goToDestination(m){var A=this;return p(function*(){var V;if(!A.pdfDocument)return;let D,L;"string"==typeof m?(D=m,L=yield A.pdfDocument.getDestination(m)):(D=null,L=yield m),Array.isArray(L)?Fe(V=A,F,at).call(V,m,D,L):console.error(`PDFLinkService.goToDestination: "${L}" is not a valid destination array, for dest="${m}".`)})()}goToPage(m){if(!this.pdfDocument)return;const A="string"==typeof m&&this.pdfViewer.pageLabelToPageNumber(m)||0|m;Number.isInteger(A)&&A>0&&A<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(A)),this.pdfViewer.scrollPageIntoView({pageNumber:A})):console.error(`PDFLinkService.goToPage: "${m}" is not a valid page.`)}addLinkAttributes(m,A,D=!1){k(m,{url:A,target:D?f.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(m){if("string"==typeof m){if(m.length>0)return this.getAnchorUrl("#"+escape(m))}else if(Array.isArray(m)){const A=JSON.stringify(m);if(A.length>0)return this.getAnchorUrl("#"+escape(A))}return this.getAnchorUrl("")}getAnchorUrl(m){return(this.baseUrl||"")+m}setHash(m){var L;if(!this.pdfDocument)return;let A,D;if(m.includes("=")){const V=(0,s.parseQueryString)(m);if(V.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:V.get("search").replace(/"/g,""),phraseSearch:"true"===V.get("phrase")}),V.has("page")&&(A=0|V.get("page")||1),V.has("zoom")){const U=V.get("zoom").split(","),N=U[0],I=parseFloat(N);N.includes("Fit")?"Fit"===N||"FitB"===N?D=[null,{name:N}]:"FitH"===N||"FitBH"===N||"FitV"===N||"FitBV"===N?D=[null,{name:N},U.length>1?0|U[1]:null]:"FitR"===N?5!==U.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):D=[null,{name:N},0|U[1],0|U[2],0|U[3],0|U[4]]:console.error(`PDFLinkService.setHash: "${N}" is not a valid zoom value.`):D=[null,{name:"XYZ"},U.length>1?0|U[1]:null,U.length>2?0|U[2]:null,I?I/100:N]}D?this.pdfViewer.scrollPageIntoView({pageNumber:A||this.page,destArray:D,allowNegativeOffset:!0}):A&&(this.page=A),V.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:V.get("pagemode")}),V.has("nameddest")&&this.goToDestination(V.get("nameddest"))}else{D=unescape(m);try{D=JSON.parse(D),Array.isArray(D)||(D=D.toString())}catch(V){}if("string"==typeof D||Fe(L=r,b,ft).call(L,D))return void this.goToDestination(D);console.error(`PDFLinkService.setHash: "${unescape(m)}" is not a valid destination.`)}}executeNamedAction(m){var A,D;switch(m){case"GoBack":null==(A=this.pdfHistory)||A.back();break;case"GoForward":null==(D=this.pdfHistory)||D.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:m})}cachePageRef(m,A){if(!A)return;const D=0===A.gen?`${A.num}R`:`${A.num}R${A.gen}`;be(this,w).set(D,m)}_cachedPageNumber(m){if(!m)return null;const A=0===m.gen?`${m.num}R`:`${m.num}R${m.gen}`;return be(this,w).get(A)||null}isPageVisible(m){return this.pdfViewer.isPageVisible(m)}isPageCached(m){return this.pdfViewer.isPageCached(m)}};let d=r;w=new WeakMap,F=new WeakSet,at=function(m,A=null,D){const L=D[0];let V;if("object"==typeof L&&null!==L){if(V=this._cachedPageNumber(L),!V)return void this.pdfDocument.getPageIndex(L).then(U=>{this.cachePageRef(U+1,L),Fe(this,F,at).call(this,m,A,D)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${L}" is not a valid page reference, for dest="${m}".`)})}else{if(!Number.isInteger(L))return void console.error(`PDFLinkService.#goToDestinationHelper: "${L}" is not a valid destination reference, for dest="${m}".`);V=L+1}!V||V<1||V>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${V}" is not a valid page number, for dest="${m}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:A,explicitDest:D,pageNumber:V})),this.pdfViewer.scrollPageIntoView({pageNumber:V,destArray:D,ignoreDestinationZoom:this._ignoreDestinationZoom}))},b=new WeakSet,ft=function(m){if(!Array.isArray(m))return!1;const A=m.length;if(A<2)return!1;const D=m[0];if(!("object"==typeof D&&Number.isInteger(D.num)&&Number.isInteger(D.gen)||Number.isInteger(D)&&D>=0))return!1;const L=m[1];if("object"!=typeof L||"string"!=typeof L.name)return!1;let V=!0;switch(L.name){case"XYZ":if(5!==A)return!1;break;case"Fit":case"FitB":return 2===A;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==A)return!1;break;case"FitR":if(6!==A)return!1;V=!1;break;default:return!1}for(let U=2;U<A;U++){const N=m[U];if(!("number"==typeof N||V&&null===N))return!1}return!0},Te(d,b),t.PDFLinkService=d;t.SimpleLinkService=class a{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(m){}get rotation(){return 0}set rotation(m){}goToDestination(m){return p(function*(){})()}goToPage(m){}addLinkAttributes(m,A,D=!1){k(m,{url:A,enabled:this.externalLinkEnabled})}getDestinationHash(m){return"#"}getAnchorUrl(m){return"#"}setHash(m){}executeNamedAction(m){}cachePageRef(m,A){}isPageVisible(m){return!0}isPageCached(m){return!0}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.animationStarted=t.VERTICAL_PADDING=t.UNKNOWN_SCALE=t.TextLayerMode=t.SpreadMode=t.SidebarView=t.ScrollMode=t.SCROLLBAR_PADDING=t.RenderingStates=t.RendererType=t.ProgressBar=t.PresentationModeState=t.OutputScale=t.MIN_SCALE=t.MAX_SCALE=t.MAX_AUTO_SCALE=t.DEFAULT_SCALE_VALUE=t.DEFAULT_SCALE_DELTA=t.DEFAULT_SCALE=t.AutoPrintRegExp=void 0,t.apiPageLayoutToViewerModes=function ue(h){let O=A.VERTICAL,ee=D.NONE;switch(h){case"SinglePage":O=A.PAGE;break;case"OneColumn":break;case"TwoPageLeft":O=A.PAGE;case"TwoColumnLeft":ee=D.ODD;break;case"TwoPageRight":O=A.PAGE;case"TwoColumnRight":ee=D.EVEN}return{scrollMode:O,spreadMode:ee}},t.apiPageModeToSidebarView=function ge(h){switch(h){case"UseNone":return r.NONE;case"UseThumbs":return r.THUMBS;case"UseOutlines":return r.OUTLINE;case"UseAttachments":return r.ATTACHMENTS;case"UseOC":return r.LAYERS}return r.NONE},t.approximateFraction=function c(h){if(Math.floor(h)===h)return[h,1];const O=1/h;if(O>8)return[1,8];if(Math.floor(O)===O)return[1,O];const G=h>1?O:h;let Ae,Y=0,ae=1,pe=1,fe=1;for(;;){const ve=Y+pe,Ce=ae+fe;if(Ce>8)break;G<=ve/Ce?(pe=ve,fe=Ce):(Y=ve,ae=Ce)}return Ae=G-Y/ae<pe/fe-G?G===h?[Y,ae]:[ae,Y]:G===h?[pe,fe]:[fe,pe],Ae},t.backtrackBeforeAllVisibleElements=_,t.binarySearchFirstItem=v,t.getActiveOrFocusedElement=function he(){let h=document,O=h.activeElement||h.querySelector(":focus");for(;null==O?void 0:O.shadowRoot;)h=O.shadowRoot,O=h.activeElement||h.querySelector(":focus");return O},t.getPageSizeInches=function C({view:h,userUnit:O,rotate:ee}){const[G,Y,ae,pe]=h,fe=ee%180!=0,Ae=(ae-G)/72*O,ve=(pe-Y)/72*O;return{width:fe?ve:Ae,height:fe?Ae:ve}},t.getVisibleElements=function T({scrollEl:h,views:O,sortByVisibility:ee=!1,horizontal:G=!1,rtl:Y=!1}){const ae=h.scrollTop,pe=ae+h.clientHeight,fe=h.scrollLeft,Ae=fe+h.clientWidth;const we=[],Me=new Set,Se=O.length;let Ee=v(O,G?function Ce(Z){const J=Z.div,_e=J.offsetLeft+J.clientLeft;return Y?_e<Ae:_e+J.clientWidth>fe}:function ve(Z){const J=Z.div;return J.offsetTop+J.clientTop+J.clientHeight>ae});Ee>0&&Ee<Se&&!G&&(Ee=_(Ee,O,ae));let Ne=G?Ae:-1;for(let Z=Ee;Z<Se;Z++){const J=O[Z],_e=J.div,me=_e.offsetLeft+_e.clientLeft,Pe=_e.offsetTop+_e.clientTop,xe=_e.clientWidth,Be=_e.clientHeight,Ue=me+xe,Ve=Pe+Be;if(-1===Ne)Ve>=pe&&(Ne=Ve);else if((G?me:Pe)>Ne)break;if(Ve<=ae||Pe>=pe||Ue<=fe||me>=Ae)continue;const Ie=Math.max(0,ae-Pe)+Math.max(0,Ve-pe),He=(xe-(Math.max(0,fe-me)+Math.max(0,Ue-Ae)))/xe;we.push({id:J.id,x:me,y:Pe,view:J,percent:(Be-Ie)/Be*He*100|0,widthPercent:100*He|0}),Me.add(J.id)}const Re=we[0],re=we[we.length-1];return ee&&we.sort(function(Z,J){const _e=Z.percent-J.percent;return Math.abs(_e)>.001?-_e:Z.id-J.id}),{first:Re,last:re,views:we,ids:Me}},t.isPortraitOrientation=function X(h){return h.width<=h.height},t.isValidRotation=function B(h){return Number.isInteger(h)&&h%90==0},t.isValidScrollMode=function g(h){return Number.isInteger(h)&&Object.values(A).includes(h)&&h!==A.UNKNOWN},t.isValidSpreadMode=function j(h){return Number.isInteger(h)&&Object.values(D).includes(h)&&h!==D.UNKNOWN},t.noContextMenuHandler=function i(h){h.preventDefault()},t.normalizeWheelEventDelta=function E(h){let O=x(h);return 0===h.deltaMode?O/=900:1===h.deltaMode&&(O/=30),O},t.normalizeWheelEventDirection=x,t.parseQueryString=function I(h){const O=new Map;for(const[ee,G]of new URLSearchParams(h))O.set(ee.toLowerCase(),G);return O},t.removeNullCharacters=function z(h,O=!1){return"string"!=typeof h?(console.error("The argument must be a string."),h):(O&&(h=h.replace(R," ")),h.replace(H,""))},t.roundToDivide=function o(h,O){const ee=h%O;return 0===ee?h:Math.round(h-ee+O)},t.scrollIntoView=function U(h,O,ee=!1){let G=h.offsetParent;if(!G)return void console.error("offsetParent is not set -- cannot scroll");let Y=h.offsetTop+h.clientTop,ae=h.offsetLeft+h.clientLeft;for(;G.clientHeight===G.scrollHeight&&G.clientWidth===G.scrollWidth||ee&&(G.classList.contains("markedContent")||"hidden"===getComputedStyle(G).overflow);)if(Y+=G.offsetTop,ae+=G.offsetLeft,G=G.offsetParent,!G)return;O&&(void 0!==O.top&&(Y+=O.top),void 0!==O.left&&(ae+=O.left,G.scrollLeft=ae)),G.scrollTop=Y},t.watchScroll=function N(h,O){const ee=function(ae){Y||(Y=window.requestAnimationFrame(function(){Y=null;const fe=h.scrollLeft,Ae=G.lastX;fe!==Ae&&(G.right=fe>Ae),G.lastX=fe;const ve=h.scrollTop,Ce=G.lastY;ve!==Ce&&(G.down=ve>Ce),G.lastY=ve,O(G)}))},G={right:!0,down:!0,lastX:h.scrollLeft,lastY:h.scrollTop,_eventHandler:ee};let Y=null;return h.addEventListener("scroll",ee,!0),G},t.DEFAULT_SCALE_VALUE="auto",t.DEFAULT_SCALE=1,t.DEFAULT_SCALE_DELTA=1.1,t.MIN_SCALE=.1,t.MAX_SCALE=10,t.UNKNOWN_SCALE=0,t.MAX_AUTO_SCALE=1.25,t.SCROLLBAR_PADDING=40,t.VERTICAL_PADDING=5;t.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},t.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const r={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};t.SidebarView=r,t.RendererType={CANVAS:"canvas",SVG:"svg"},t.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const A={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};t.ScrollMode=A;const D={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};t.SpreadMode=D,t.AutoPrintRegExp=/\bprint\s*\(/;t.OutputScale=class V{constructor(){const O=window.devicePixelRatio||1;this.sx=O,this.sy=O}get scaled(){return 1!==this.sx||1!==this.sy}};const H=/\x00/g,R=/[\x01-\x1F]/g;function v(h,O,ee=0){let G=ee,Y=h.length-1;if(Y<0||!O(h[Y]))return h.length;if(O(h[G]))return G;for(;G<Y;){const ae=G+Y>>1;O(h[ae])?Y=ae:G=ae+1}return G}function _(h,O,ee){if(h<2)return h;let G=O[h].div,Y=G.offsetTop+G.clientTop;Y>=ee&&(G=O[h-1].div,Y=G.offsetTop+G.clientTop);for(let ae=h-2;ae>=0&&(G=O[ae].div,!(G.offsetTop+G.clientTop+G.clientHeight<=Y));--ae)h=ae;return h}function x(h){let O=Math.hypot(h.deltaX,h.deltaY);const ee=Math.atan2(h.deltaY,h.deltaX);return-.25*Math.PI<ee&&ee<.75*Math.PI&&(O=-O),O}const $=new Promise(function(h){window.requestAnimationFrame(h)});t.animationStarted=$;t.ProgressBar=class ne{constructor(O,{height:ee,width:G,units:Y}={}){this.visible=!0,this.div=document.querySelector(O+" .progress"),this.bar=this.div.parentNode,this.height=ee||100,this.width=G||100,this.units=Y||"%",this.div.style.height=this.height+this.units,this.percent=0}_updateBar(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}get percent(){return this._percent}set percent(O){this._indeterminate=isNaN(O),this._percent=function Q(h,O,ee){return Math.min(Math.max(h,O),ee)}(O,0,100),this._updateBar()}setWidth(O){if(!O)return;const G=O.parentNode.offsetWidth-O.offsetWidth;G>0&&document.documentElement.style.setProperty("--loadingBar-end-offset",`${G}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StructTreeLayerBuilder=void 0;const u={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},s=/^H(\d+)$/;t.StructTreeLayerBuilder=class l{constructor({pdfPage:k}){this.pdfPage=k}render(k){return this._walk(k)}_setAttributes(k,d){void 0!==k.alt&&d.setAttribute("aria-label",k.alt),void 0!==k.id&&d.setAttribute("aria-owns",k.id),void 0!==k.lang&&d.setAttribute("lang",k.lang)}_walk(k){if(!k)return null;const d=document.createElement("span");if("role"in k){const{role:a}=k,w=a.match(s);w?(d.setAttribute("role","heading"),d.setAttribute("aria-level",w[1])):u[a]&&d.setAttribute("role",u[a])}if(this._setAttributes(k,d),k.children)if(1===k.children.length&&"id"in k.children[0])this._setAttributes(k.children[0],d);else for(const a of k.children)d.appendChild(this._walk(a));return d}}},(e,t,u)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerBuilder=void 0;var s=u(3);t.TextLayerBuilder=class f{constructor({textLayerDiv:d,eventBus:a,pageIndex:w,viewport:F,highlighter:S=null,enhanceTextSelection:b=!1}){this.textLayerDiv=d,this.eventBus=a,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=w+1,this.viewport=F,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=S,this.enhanceTextSelection=b,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const d=document.createElement("div");d.className="endOfContent",this.textLayerDiv.appendChild(d)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(d=0){var w;if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,null==(w=this.highlighter)||w.setTextMapping(this.textDivs,this.textContentItemsStr);const a=document.createDocumentFragment();this.textLayerRenderTask=(0,s.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:a,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:d,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{var F;this.textLayerDiv.appendChild(a),this._finishRendering(),null==(F=this.highlighter)||F.enable()},function(F){})}cancel(){var d;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null==(d=this.highlighter)||d.disable()}setTextContentStream(d){this.cancel(),this.textContentStream=d}setTextContent(d){this.cancel(),this.textContent=d}_bindMouse(){const d=this.textLayerDiv;let a=null;d.addEventListener("mousedown",w=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(a&&(clearTimeout(a),a=null));const F=d.querySelector(".endOfContent");if(!F)return;let S=w.target!==d;if(S=S&&"none"!==window.getComputedStyle(F).getPropertyValue("-moz-user-select"),S){const b=d.getBoundingClientRect(),n=Math.max(0,(w.pageY-b.top)/b.height);F.style.top=(100*n).toFixed(2)+"%"}F.classList.add("active")}),d.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(a=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),a=null},300));const w=d.querySelector(".endOfContent");!w||(w.style.top="",w.classList.remove("active"))})}}},(e,t,u)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayerBuilder=void 0;var s=u(3);t.XfaLayerBuilder=class l{constructor({pageDiv:k,pdfPage:d,annotationStorage:a=null,linkService:w,xfaHtml:F=null}){this.pageDiv=k,this.pdfPage=d,this.annotationStorage=a,this.linkService=w,this.xfaHtml=F,this.div=null,this._cancelled=!1}render(k,d="display"){if("print"===d){const a={viewport:k.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:d},w=document.createElement("div");this.pageDiv.appendChild(w),a.div=w;const F=s.XfaLayer.render(a);return Promise.resolve(F)}return this.pdfPage.getXfa().then(a=>{if(this._cancelled||!a)return{textDivs:[]};const w={viewport:k.clone({dontFlip:!0}),div:this.div,xfaHtml:a,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:d};return this.div?s.XfaLayer.update(w):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),w.div=this.div,s.XfaLayer.render(w))}).catch(a=>{console.error(a)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(e,t,u)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFViewer=t.PDFSinglePageViewer=void 0;var s=u(6),l=u(11);t.PDFViewer=class f extends l.BaseViewer{};t.PDFSinglePageViewer=class k extends l.BaseViewer{_resetView(){super._resetView(),this._scrollMode=s.ScrollMode.PAGE,this._spreadMode=s.SpreadMode.NONE}set scrollMode(a){}_updateScrollMode(){}set spreadMode(a){}_updateSpreadMode(){}}},(e,t,u)=>{var L,V,U,ot,I,H,R,z,v,c,o,C,pt,T,gt,x,Qe,B,_t,j,mt,$,bt,ne,At;Object.defineProperty(t,"__esModule",{value:!0}),t.PagesCountLimit=t.PDFPageViewBuffer=t.BaseViewer=void 0;var s=u(3),l=u(6),f=u(2),k=u(4),d=u(12),a=u(14),w=u(5),F=u(7),S=u(15),b=u(8),n=u(9);const y="enablePermissions",m={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};t.PagesCountLimit=m;class A{constructor(h){Te(this,U),Te(this,L,new Set),Te(this,V,0),ke(this,V,h)}push(h){const O=be(this,L);O.has(h)&&O.delete(h),O.add(h),O.size>be(this,V)&&Fe(this,U,ot).call(this)}resize(h,O=null){ke(this,V,h);const ee=be(this,L);if(O){const G=ee.size;let Y=1;for(const ae of ee)if(O.has(ae.id)&&(ee.delete(ae),ee.add(ae)),++Y>G)break}for(;ee.size>be(this,V);)Fe(this,U,ot).call(this)}has(h){return be(this,L).has(h)}[Symbol.iterator](){return be(this,L).keys()}}L=new WeakMap,V=new WeakMap,U=new WeakSet,ot=function(){const h=be(this,L).keys().next().value;null==h||h.destroy(),be(this,L).delete(h)},t.PDFPageViewBuffer=A;const ue=class{constructor(h){var ee,G,Y,ae;if(Te(this,C),Te(this,T),Te(this,x),Te(this,B),Te(this,j),Te(this,$),Te(this,ne),Te(this,I,null),Te(this,H,s.AnnotationMode.ENABLE_FORMS),Te(this,R,null),Te(this,z,!1),Te(this,v,0),Te(this,c,null),Te(this,o,null),this.constructor===ue)throw new Error("Cannot initialize BaseViewer.");const O="2.13.216";if(s.version!==O)throw new Error(`The API version "${s.version}" does not match the Viewer version "${O}".`);if(this.container=h.container,this.viewer=h.viewer||h.container.firstElementChild,"DIV"!==(null==(ee=this.container)?void 0:ee.tagName.toUpperCase())||"DIV"!==(null==(G=this.viewer)?void 0:G.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=h.eventBus,this.linkService=h.linkService||new w.SimpleLinkService,this.downloadManager=h.downloadManager||null,this.findController=h.findController||null,this._scriptingManager=h.scriptingManager||null,this.removePageBorders=h.removePageBorders||!1,this.textLayerMode=null!=(Y=h.textLayerMode)?Y:l.TextLayerMode.ENABLE,ke(this,H,null!=(ae=h.annotationMode)?ae:s.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=h.imageResourcesPath||"",this.enablePrintAutoRotate=h.enablePrintAutoRotate||!1,this.renderer=h.renderer||l.RendererType.CANVAS,this.useOnlyCssZoom=h.useOnlyCssZoom||!1,this.maxCanvasPixels=h.maxCanvasPixels,this.l10n=h.l10n||k.NullL10n,ke(this,z,h.enablePermissions||!1),this.defaultRenderingQueue=!h.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new a.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=h.renderingQueue,this._doc=document.documentElement,this.scroll=(0,l.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=l.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(h){return this._pages[h]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(h){return null==h?void 0:h.pdfPage})}get renderForms(){return be(this,H)===s.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(h){if(!Number.isInteger(h))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(h,!0)||console.error(`currentPageNumber: "${h}" is not a valid page.`)}_setCurrentPageNumber(h,O=!1){var G,Y;if(this._currentPageNumber===h)return O&&this._resetCurrentPageView(),!0;if(!(0<h&&h<=this.pagesCount))return!1;const ee=this._currentPageNumber;return this._currentPageNumber=h,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:h,pageLabel:null!=(Y=null==(G=this._pageLabels)?void 0:G[h-1])?Y:null,previous:ee}),O&&this._resetCurrentPageView(),!0}get currentPageLabel(){var h,O;return null!=(O=null==(h=this._pageLabels)?void 0:h[this._currentPageNumber-1])?O:null}set currentPageLabel(h){if(!this.pdfDocument)return;let O=0|h;if(this._pageLabels){const ee=this._pageLabels.indexOf(h);ee>=0&&(O=ee+1)}this._setCurrentPageNumber(O,!0)||console.error(`currentPageLabel: "${h}" is not a valid page.`)}get currentScale(){return this._currentScale!==l.UNKNOWN_SCALE?this._currentScale:l.DEFAULT_SCALE}set currentScale(h){if(isNaN(h))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(h,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(h){!this.pdfDocument||this._setScale(h,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(h){if(!(0,l.isValidRotation)(h))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((h%=360)<0&&(h+=360),this._pagesRotation===h))return;this._pagesRotation=h;const O=this._currentPageNumber,ee={rotation:h};for(const G of this._pages)G.update(ee);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:h,pageNumber:O}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(h){var O=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=h,!h)return;const ee=h.isPureXfa,G=h.numPages,Y=h.getPage(1),ae=h.getOptionalContentConfig(),pe=be(this,z)?h.getPermissions():Promise.resolve();if(G>m.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const fe=this._scrollMode=l.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:fe})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:G})},()=>{}),this._onBeforeDraw=fe=>{const Ae=this._pages[fe.pageNumber-1];!Ae||be(this,I).push(Ae)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=fe=>{fe.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:fe.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,be(this,o)&&(document.removeEventListener("visibilitychange",be(this,o)),ke(this,o,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Y,pe]).then(([fe,Ae])=>{if(h!==this.pdfDocument)return;this._firstPageCapability.resolve(fe),this._optionalContentConfigPromise=ae,Fe(this,C,pt).call(this,Ae);const ve=this._scrollMode===l.ScrollMode.PAGE?null:this.viewer,Ce=this.currentScale,we=fe.getViewport({scale:Ce*s.PixelsPerInch.PDF_TO_CSS_UNITS}),Me=this.textLayerMode===l.TextLayerMode.DISABLE||ee?null:this,Se=be(this,H)!==s.AnnotationMode.DISABLE?this:null,Ee=ee?this:null;for(let Re=1;Re<=G;++Re){const re=new d.PDFPageView({container:ve,eventBus:this.eventBus,id:Re,scale:Ce,defaultViewport:we.clone(),optionalContentConfigPromise:ae,renderingQueue:this.renderingQueue,textLayerFactory:Me,textLayerMode:this.textLayerMode,annotationLayerFactory:Se,annotationMode:be(this,H),xfaLayerFactory:Ee,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,l10n:this.l10n});this._pages.push(re)}const Ne=this._pages[0];Ne&&(Ne.setPdfPage(fe),this.linkService.cachePageRef(1,fe.ref)),this._scrollMode===l.ScrollMode.PAGE?Fe(this,x,Qe).call(this):this._spreadMode!==l.SpreadMode.NONE&&this._updateSpreadMode(),Fe(this,T,gt).call(this).then(p(function*(){if(O.findController&&O.findController.setDocument(h),O._scriptingManager&&O._scriptingManager.setDocument(h),h.loadingParams.disableAutoFetch||G>m.FORCE_LAZY_PAGE_INIT)return void O._pagesCapability.resolve();let Re=G-1;if(Re<=0)O._pagesCapability.resolve();else for(let re=2;re<=G;++re){const Z=h.getPage(re).then(J=>{const _e=O._pages[re-1];_e.pdfPage||_e.setPdfPage(J),O.linkService.cachePageRef(re,J.ref),0==--Re&&O._pagesCapability.resolve()},J=>{console.error(`Unable to get page ${re} to initialize viewer`,J),0==--Re&&O._pagesCapability.resolve()});re%m.PAUSE_EAGER_PAGE_INIT==0&&(yield Z)}})),this.eventBus.dispatch("pagesinit",{source:this}),h.getMetadata().then(({info:Re})=>{h===this.pdfDocument&&Re.Language&&(this.viewer.lang=Re.Language)}),this.defaultRenderingQueue&&this.update()}).catch(fe=>{console.error("Unable to initialize viewer",fe),this._pagesCapability.reject(fe)})}setPageLabels(h){var O,ee;if(this.pdfDocument){h?Array.isArray(h)&&this.pdfDocument.numPages===h.length?this._pageLabels=h:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let G=0,Y=this._pages.length;G<Y;G++)this._pages[G].setPageLabel(null!=(ee=null==(O=this._pageLabels)?void 0:O[G])?ee:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=l.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,ke(this,I,new A(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,s.createPromiseCapability)(),this._onePageRenderedCapability=(0,s.createPromiseCapability)(),this._pagesCapability=(0,s.createPromiseCapability)(),this._scrollMode=l.ScrollMode.VERTICAL,this._previousScrollMode=l.ScrollMode.UNKNOWN,this._spreadMode=l.SpreadMode.NONE,ke(this,c,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),be(this,o)&&(document.removeEventListener("visibilitychange",be(this,o)),ke(this,o,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(y),null!==be(this,R)&&(ke(this,H,be(this,R)),ke(this,R,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_scrollIntoView({pageDiv:h,pageSpot:O=null,pageNumber:ee=null}){if(this._scrollMode===l.ScrollMode.PAGE&&(ee&&this._setCurrentPageNumber(ee),Fe(this,x,Qe).call(this),this.update()),!O&&!this.isInPresentationMode){const G=h.offsetLeft+h.clientLeft,Y=G+h.clientWidth,{scrollLeft:ae,clientWidth:pe}=this.container;(this._scrollMode===l.ScrollMode.HORIZONTAL||G<ae||Y>ae+pe)&&(O={left:0,top:0})}(0,l.scrollIntoView)(h,O)}_setScaleUpdatePages(h,O,ee=!1,G=!1){if(this._currentScaleValue=O.toString(),Fe(this,B,_t).call(this,h))return void(G&&this.eventBus.dispatch("scalechanging",{source:this,scale:h,presetValue:O}));this._doc.style.setProperty("--zoom-factor",h),this._doc.style.setProperty("--viewport-scale-factor",h*s.PixelsPerInch.PDF_TO_CSS_UNITS);const Y={scale:h};for(const ae of this._pages)ae.update(Y);if(this._currentScale=h,!ee){let pe,ae=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(ae=this._location.pageNumber,pe=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:ae,destArray:pe,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:h,presetValue:G?O:void 0}),this.defaultRenderingQueue&&this.update(),ke(this,v,this.container.clientHeight)}get _pageWidthScaleFactor(){return this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL?2:1}_setScale(h,O=!1){let ee=parseFloat(h);if(ee>0)this._setScaleUpdatePages(ee,h,O,!1);else{const G=this._pages[this._currentPageNumber-1];if(!G)return;let Y=l.SCROLLBAR_PADDING,ae=l.VERTICAL_PADDING;this.isInPresentationMode?Y=ae=4:this.removePageBorders&&(Y=ae=0),this._scrollMode===l.ScrollMode.HORIZONTAL&&([Y,ae]=[ae,Y]);const pe=(this.container.clientWidth-Y)/G.width*G.scale/this._pageWidthScaleFactor,fe=(this.container.clientHeight-ae)/G.height*G.scale;switch(h){case"page-actual":ee=1;break;case"page-width":ee=pe;break;case"page-height":ee=fe;break;case"page-fit":ee=Math.min(pe,fe);break;case"auto":const Ae=(0,l.isPortraitOrientation)(G)?pe:Math.min(fe,pe);ee=Math.min(l.MAX_AUTO_SCALE,Ae);break;default:return void console.error(`_setScale: "${h}" is an unknown zoom value.`)}this._setScaleUpdatePages(ee,h,O,!0)}}_resetCurrentPageView(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}pageLabelToPageNumber(h){if(!this._pageLabels)return null;const O=this._pageLabels.indexOf(h);return O<0?null:O+1}scrollPageIntoView({pageNumber:h,destArray:O=null,allowNegativeOffset:ee=!1,ignoreDestinationZoom:G=!1}){if(!this.pdfDocument)return;const Y=Number.isInteger(h)&&this._pages[h-1];if(!Y)return void console.error(`scrollPageIntoView: "${h}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!O)return void this._setCurrentPageNumber(h,!0);let ve,Ce,ae=0,pe=0,fe=0,Ae=0;const we=Y.rotation%180!=0,Me=(we?Y.height:Y.width)/Y.scale/s.PixelsPerInch.PDF_TO_CSS_UNITS,Se=(we?Y.width:Y.height)/Y.scale/s.PixelsPerInch.PDF_TO_CSS_UNITS;let Ee=0;switch(O[1].name){case"XYZ":ae=O[2],pe=O[3],Ee=O[4],ae=null!==ae?ae:0,pe=null!==pe?pe:Se;break;case"Fit":case"FitB":Ee="page-fit";break;case"FitH":case"FitBH":pe=O[2],Ee="page-width",null===pe&&this._location?(ae=this._location.left,pe=this._location.top):("number"!=typeof pe||pe<0)&&(pe=Se);break;case"FitV":case"FitBV":ae=O[2],fe=Me,Ae=Se,Ee="page-height";break;case"FitR":ae=O[2],pe=O[3],fe=O[4]-ae,Ae=O[5]-pe,ve=(this.container.clientWidth-(this.removePageBorders?0:l.SCROLLBAR_PADDING))/fe/s.PixelsPerInch.PDF_TO_CSS_UNITS,Ce=(this.container.clientHeight-(this.removePageBorders?0:l.VERTICAL_PADDING))/Ae/s.PixelsPerInch.PDF_TO_CSS_UNITS,Ee=Math.min(Math.abs(ve),Math.abs(Ce));break;default:return void console.error(`scrollPageIntoView: "${O[1].name}" is not a valid destination type.`)}if(G||(Ee&&Ee!==this._currentScale?this.currentScaleValue=Ee:this._currentScale===l.UNKNOWN_SCALE&&(this.currentScaleValue=l.DEFAULT_SCALE_VALUE)),"page-fit"===Ee&&!O[4])return void this._scrollIntoView({pageDiv:Y.div,pageNumber:h});const Ne=[Y.viewport.convertToViewportPoint(ae,pe),Y.viewport.convertToViewportPoint(ae+fe,pe+Ae)];let Re=Math.min(Ne[0][0],Ne[1][0]),re=Math.min(Ne[0][1],Ne[1][1]);ee||(Re=Math.max(Re,0),re=Math.max(re,0)),this._scrollIntoView({pageDiv:Y.div,pageSpot:{left:Re,top:re},pageNumber:h})}_updateLocation(h){const O=this._currentScale,ee=this._currentScaleValue,G=parseFloat(ee)===O?Math.round(1e4*O)/100:ee,Y=h.id;let ae="#page="+Y;ae+="&zoom="+G;const fe=this.container,Ae=this._pages[Y-1].getPagePoint(fe.scrollLeft-h.x,fe.scrollTop-h.y),ve=Math.round(Ae[0]),Ce=Math.round(Ae[1]);ae+=","+ve+","+Ce,this._location={pageNumber:Y,scale:G,top:Ce,left:ve,rotation:this._pagesRotation,pdfOpenParams:ae}}update(){const h=this._getVisiblePages(),O=h.views,ee=O.length;if(0===ee)return;const G=Math.max(10,2*ee+1);if(be(this,I).resize(G,h.ids),this.renderingQueue.renderHighestPriority(h),!this.isInPresentationMode){const Y=this._spreadMode===l.SpreadMode.NONE&&(this._scrollMode===l.ScrollMode.PAGE||this._scrollMode===l.ScrollMode.VERTICAL);let ae=this._currentPageNumber,pe=!1;for(const fe of O){if(fe.percent<100)break;if(fe.id===ae&&Y){pe=!0;break}}pe||(ae=O[0].id),this._setCurrentPageNumber(ae)}this._updateLocation(h.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(h){return this.container.contains(h)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===l.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===l.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getCurrentVisiblePage(){if(!this.pagesCount)return{views:[]};const h=this._pages[this._currentPageNumber-1],O=h.div,ee={id:h.id,x:O.offsetLeft+O.clientLeft,y:O.offsetTop+O.clientTop,view:h};return{first:ee,last:ee,views:[ee],ids:new Set([h.id])}}_getVisiblePages(){if(this.isInPresentationMode)return this._getCurrentVisiblePage();const h=this._scrollMode===l.ScrollMode.PAGE?be(this,c).pages:this._pages,O=this._scrollMode===l.ScrollMode.HORIZONTAL;return(0,l.getVisibleElements)({scrollEl:this.container,views:h,sortByVisibility:!0,horizontal:O,rtl:O&&this._isContainerRtl})}isPageVisible(h){return!!this.pdfDocument&&(Number.isInteger(h)&&h>0&&h<=this.pagesCount?this._getVisiblePages().ids.has(h):(console.error(`isPageVisible: "${h}" is not a valid page.`),!1))}isPageCached(h){if(!this.pdfDocument)return!1;if(!(Number.isInteger(h)&&h>0&&h<=this.pagesCount))return console.error(`isPageCached: "${h}" is not a valid page.`),!1;const O=this._pages[h-1];return be(this,I).has(O)}cleanup(){for(let h=0,O=this._pages.length;h<O;h++)this._pages[h]&&this._pages[h].renderingState!==l.RenderingStates.FINISHED&&this._pages[h].reset()}_cancelRendering(){for(let h=0,O=this._pages.length;h<O;h++)this._pages[h]&&this._pages[h].cancelRendering()}forceRendering(h){const O=h||this._getVisiblePages(),ee=Fe(this,$,bt).call(this,O),Y=this.renderingQueue.getHighestPriority(O,this._pages,ee,this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL);return Fe(this,ne,At).call(this,O.ids),!!Y&&(Fe(this,j,mt).call(this,Y).then(()=>{this.renderingQueue.renderView(Y)}),!0)}createTextLayerBuilder(h,O,ee,G=!1,Y,ae){return new b.TextLayerBuilder({textLayerDiv:h,eventBus:Y,pageIndex:O,viewport:ee,enhanceTextSelection:!this.isInPresentationMode&&G,highlighter:ae})}createTextHighlighter(h,O){return new S.TextHighlighter({eventBus:O,pageIndex:h,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(h,O,ee=null,G="",Y=!0,ae=k.NullL10n,pe=null,fe=null,Ae=null,ve=null,Ce=null){var we,Me,Se,Ee;return new f.AnnotationLayerBuilder({pageDiv:h,pdfPage:O,annotationStorage:ee||(null==(we=this.pdfDocument)?void 0:we.annotationStorage),imageResourcesPath:G,renderForms:Y,linkService:this.linkService,downloadManager:this.downloadManager,l10n:ae,enableScripting:null!=pe?pe:this.enableScripting,hasJSActionsPromise:fe||(null==(Me=this.pdfDocument)?void 0:Me.hasJSActions()),fieldObjectsPromise:ve||(null==(Se=this.pdfDocument)?void 0:Se.getFieldObjects()),mouseState:Ae||(null==(Ee=this._scriptingManager)?void 0:Ee.mouseState),annotationCanvasMap:Ce})}createXfaLayerBuilder(h,O,ee=null){var G;return new n.XfaLayerBuilder({pageDiv:h,pdfPage:O,annotationStorage:ee||(null==(G=this.pdfDocument)?void 0:G.annotationStorage),linkService:this.linkService})}createStructTreeLayerBuilder(h){return new F.StructTreeLayerBuilder({pdfPage:h})}get hasEqualPageSizes(){const h=this._pages[0];for(let O=1,ee=this._pages.length;O<ee;++O){const G=this._pages[O];if(G.width!==h.width||G.height!==h.height)return!1}return!0}getPagesOverview(){return this._pages.map(h=>{const O=h.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,l.isPortraitOrientation)(O)?{width:O.width,height:O.height,rotation:O.rotation}:{width:O.height,height:O.width,rotation:(O.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(h){if(!(h instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${h}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=h;const O={optionalContentConfigPromise:h};for(const ee of this._pages)ee.update(O);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:h})}get scrollMode(){return this._scrollMode}set scrollMode(h){if(this._scrollMode!==h){if(!(0,l.isValidScrollMode)(h))throw new Error(`Invalid scroll mode: ${h}`);this.pagesCount>m.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=h,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:h}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(h=null){const O=this._scrollMode,ee=this.viewer;ee.classList.toggle("scrollHorizontal",O===l.ScrollMode.HORIZONTAL),ee.classList.toggle("scrollWrapped",O===l.ScrollMode.WRAPPED),this.pdfDocument&&h&&(O===l.ScrollMode.PAGE?Fe(this,x,Qe).call(this):this._previousScrollMode===l.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(h,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(h){if(this._spreadMode!==h){if(!(0,l.isValidSpreadMode)(h))throw new Error(`Invalid spread mode: ${h}`);this._spreadMode=h,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:h}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(h=null){if(!this.pdfDocument)return;const O=this.viewer,ee=this._pages;if(this._scrollMode===l.ScrollMode.PAGE)Fe(this,x,Qe).call(this);else if(O.textContent="",this._spreadMode===l.SpreadMode.NONE)for(let G=0,Y=ee.length;G<Y;++G)O.appendChild(ee[G].div);else{const G=this._spreadMode-1;let Y=null;for(let ae=0,pe=ee.length;ae<pe;++ae)null===Y?(Y=document.createElement("div"),Y.className="spread",O.appendChild(Y)):ae%2===G&&(Y=Y.cloneNode(!1),O.appendChild(Y)),Y.appendChild(ee[ae].div)}!h||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(h,!0),this.update())}_getPageAdvance(h,O=!1){switch(this._scrollMode){case l.ScrollMode.WRAPPED:{const{views:ee}=this._getVisiblePages(),G=new Map;for(const{id:Y,y:ae,percent:pe,widthPercent:fe}of ee){if(0===pe||fe<100)continue;let Ae=G.get(ae);Ae||G.set(ae,Ae||(Ae=[])),Ae.push(Y)}for(const Y of G.values()){const ae=Y.indexOf(h);if(-1===ae)continue;const pe=Y.length;if(1===pe)break;if(O)for(let fe=ae-1,Ae=0;fe>=Ae;fe--){const Ce=Y[fe+1]-1;if(Y[fe]<Ce)return h-Ce}else for(let fe=ae+1,Ae=pe;fe<Ae;fe++){const Ce=Y[fe-1]+1;if(Y[fe]>Ce)return Ce-h}if(O){const fe=Y[0];if(fe<h)return h-fe+1}else{const fe=Y[pe-1];if(fe>h)return fe-h+1}break}break}case l.ScrollMode.HORIZONTAL:break;case l.ScrollMode.PAGE:case l.ScrollMode.VERTICAL:{if(this._spreadMode===l.SpreadMode.NONE)break;const ee=this._spreadMode-1;if(O&&h%2!==ee)break;if(!O&&h%2===ee)break;const{views:G}=this._getVisiblePages(),Y=O?h-1:h+1;for(const{id:ae,percent:pe,widthPercent:fe}of G)if(ae===Y){if(pe>0&&100===fe)return 2;break}break}}return 1}nextPage(){const h=this._currentPageNumber,O=this.pagesCount;if(h>=O)return!1;const ee=this._getPageAdvance(h,!1)||1;return this.currentPageNumber=Math.min(h+ee,O),!0}previousPage(){const h=this._currentPageNumber;if(h<=1)return!1;const O=this._getPageAdvance(h,!0)||1;return this.currentPageNumber=Math.max(h-O,1),!0}increaseScale(h=1){let O=this._currentScale;do{O=(O*l.DEFAULT_SCALE_DELTA).toFixed(2),O=Math.ceil(10*O)/10,O=Math.min(l.MAX_SCALE,O)}while(--h>0&&O<l.MAX_SCALE);this.currentScaleValue=O}decreaseScale(h=1){let O=this._currentScale;do{O=(O/l.DEFAULT_SCALE_DELTA).toFixed(2),O=Math.floor(10*O)/10,O=Math.max(l.MIN_SCALE,O)}while(--h>0&&O>l.MIN_SCALE);this.currentScaleValue=O}};let D=ue;I=new WeakMap,H=new WeakMap,R=new WeakMap,z=new WeakMap,v=new WeakMap,c=new WeakMap,o=new WeakMap,C=new WeakSet,pt=function(h){!h||(h.includes(s.PermissionFlag.COPY)||this.viewer.classList.add(y),!h.includes(s.PermissionFlag.MODIFY_ANNOTATIONS)&&!h.includes(s.PermissionFlag.FILL_INTERACTIVE_FORMS)&&be(this,H)===s.AnnotationMode.ENABLE_FORMS&&(ke(this,R,be(this,H)),ke(this,H,s.AnnotationMode.ENABLE)))},T=new WeakSet,gt=function(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const h=new Promise(O=>{ke(this,o,()=>{"hidden"===document.visibilityState&&(O(),document.removeEventListener("visibilitychange",be(this,o)),ke(this,o,null))}),document.addEventListener("visibilitychange",be(this,o))});return Promise.race([this._onePageRenderedCapability.promise,h])},x=new WeakSet,Qe=function(){if(this._scrollMode!==l.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const h=this._currentPageNumber,O=be(this,c),ee=this.viewer;if(ee.textContent="",O.pages.length=0,this._spreadMode===l.SpreadMode.NONE){const G=this._pages[h-1];if(this.isInPresentationMode){const Y=document.createElement("div");Y.className="spread";const ae=document.createElement("div");ae.className="dummyPage",ae.style.height=`${this.container.clientHeight}px`,Y.appendChild(ae),Y.appendChild(G.div),ee.appendChild(Y)}else ee.appendChild(G.div);O.pages.push(G)}else{const G=new Set,Y=this._spreadMode-1;h%2!==Y?(G.add(h-1),G.add(h)):(G.add(h-2),G.add(h-1));let ae=null;for(const pe of G){const fe=this._pages[pe];!fe||(null===ae?(ae=document.createElement("div"),ae.className="spread",ee.appendChild(ae)):pe%2===Y&&(ae=ae.cloneNode(!1),ee.appendChild(ae)),ae.appendChild(fe.div),O.pages.push(fe))}}O.scrollDown=h>=O.previousPageNumber,O.previousPageNumber=h},B=new WeakSet,_t=function(h){return(!this.isInPresentationMode||this.container.clientHeight===be(this,v))&&(h===this._currentScale||Math.abs(h-this._currentScale)<1e-15)},j=new WeakSet,mt=function(h){var O=this;return p(function*(){var ee,G;if(h.pdfPage)return h.pdfPage;try{const Y=yield O.pdfDocument.getPage(h.id);return h.pdfPage||h.setPdfPage(Y),(null==(G=(ee=O.linkService)._cachedPageNumber)?void 0:G.call(ee,Y.ref))||O.linkService.cachePageRef(h.id,Y.ref),Y}catch(Y){return console.error("Unable to get page for page view",Y),null}})()},$=new WeakSet,bt=function(h){var O,ee;if(1===(null==(O=h.first)?void 0:O.id))return!0;if((null==(ee=h.last)?void 0:ee.id)===this.pagesCount)return!1;switch(this._scrollMode){case l.ScrollMode.PAGE:return be(this,c).scrollDown;case l.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},ne=new WeakSet,At=function(h){for(const O of h){const ee=this._pages[O-1];null==ee||ee.toggleLoadingIconSpinner(!0)}for(const O of be(this,I))h.has(O.id)||O.toggleLoadingIconSpinner(!1)},t.BaseViewer=D},(e,t,u)=>{var w;Object.defineProperty(t,"__esModule",{value:!0}),t.PDFPageView=void 0;var s=u(3),l=u(6),f=u(13),k=u(4);const d=f.compatibilityParams.maxCanvasPixels||16777216;w=new WeakMap,t.PDFPageView=class a{constructor(S){var y,m,A,D;Te(this,w,s.AnnotationMode.ENABLE_FORMS);const b=S.container,n=S.defaultViewport;this.id=S.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=S.scale||l.DEFAULT_SCALE,this.viewport=n,this.pdfPageRotate=n.rotation,this._optionalContentConfigPromise=S.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!=(y=S.textLayerMode)?y:l.TextLayerMode.ENABLE,ke(this,w,null!=(m=S.annotationMode)?m:s.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=S.imageResourcesPath||"",this.useOnlyCssZoom=S.useOnlyCssZoom||!1,this.maxCanvasPixels=S.maxCanvasPixels||d,this.eventBus=S.eventBus,this.renderingQueue=S.renderingQueue,this.textLayerFactory=S.textLayerFactory,this.annotationLayerFactory=S.annotationLayerFactory,this.xfaLayerFactory=S.xfaLayerFactory,this.textHighlighter=null==(A=S.textHighlighterFactory)?void 0:A.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=S.structTreeLayerFactory,this.renderer=S.renderer||l.RendererType.CANVAS,this.l10n=S.l10n||k.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=l.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null==(D=this.renderingQueue)?void 0:D.hasViewer()),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const r=document.createElement("div");r.className="page",r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px",r.setAttribute("data-page-number",this.id),r.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(L=>{r.setAttribute("aria-label",L)}),this.div=r,null==b||b.appendChild(r)}setPdfPage(S){this.pdfPage=S,this.pdfPageRotate=S.rotate,this.viewport=S.getViewport({scale:this.scale*s.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var S=this;return p(function*(){let b=null;try{yield S.annotationLayer.render(S.viewport,"display")}catch(n){b=n}finally{S.eventBus.dispatch("annotationlayerrendered",{source:S,pageNumber:S.id,error:b})}})()}_renderXfaLayer(){var S=this;return p(function*(){let b=null;try{const n=yield S.xfaLayer.render(S.viewport,"display");S.textHighlighter&&S._buildXfaTextContentItems(n.textDivs)}catch(n){b=n}finally{S.eventBus.dispatch("xfalayerrendered",{source:S,pageNumber:S.id,error:b})}})()}_buildXfaTextContentItems(S){var b=this;return p(function*(){const n=yield b.pdfPage.getTextContent(),r=[];for(const y of n.items)r.push(y.str);b.textHighlighter.setTextMapping(S,r),b.textHighlighter.enable()})()}_resetZoomLayer(S=!1){if(!this.zoomLayer)return;const b=this.zoomLayer.firstChild;this.paintedViewportMap.delete(b),b.width=0,b.height=0,S&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:S=!1,keepAnnotationLayer:b=!1,keepXfaLayer:n=!1}={}){var L,V;this.cancelRendering({keepAnnotationLayer:b,keepXfaLayer:n}),this.renderingState=l.RenderingStates.INITIAL;const r=this.div;r.style.width=Math.floor(this.viewport.width)+"px",r.style.height=Math.floor(this.viewport.height)+"px";const y=r.childNodes,m=S&&this.zoomLayer||null,A=b&&(null==(L=this.annotationLayer)?void 0:L.div)||null,D=n&&(null==(V=this.xfaLayer)?void 0:V.div)||null;for(let U=y.length-1;U>=0;U--){const N=y[U];switch(N){case m:case A:case D:continue}N.remove()}r.removeAttribute("data-loaded"),A&&this.annotationLayer.hide(),D&&this.xfaLayer.hide(),m||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(U=>{var N;null==(N=this.loadingIconDiv)||N.setAttribute("aria-label",U)}),r.appendChild(this.loadingIconDiv)}update({scale:S=0,rotation:b=null,optionalContentConfigPromise:n=null}){if("object"!=typeof arguments[0])return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});this.scale=S||this.scale,"number"==typeof b&&(this.rotation=b),n instanceof Promise&&(this._optionalContentConfigPromise=n);const y=this.scale*s.PixelsPerInch.PDF_TO_CSS_UNITS;if(this.viewport=this.viewport.clone({scale:y,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:A}=document.documentElement;A.setProperty("--zoom-factor",this.scale),A.setProperty("--viewport-scale-factor",y)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let m=!1;if(this.canvas&&this.maxCanvasPixels>0){const A=this.outputScale;(Math.floor(this.viewport.width)*A.sx|0)*(Math.floor(this.viewport.height)*A.sy|0)>this.maxCanvasPixels&&(m=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&m)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:S=!1,keepXfaLayer:b=!1}={}){var n;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!S||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!b||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,null==(n=this.textHighlighter)||n.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:S,redrawAnnotationLayer:b=!1,redrawXfaLayer:n=!1}){const r=this.viewport.width,y=this.viewport.height,m=this.div;S.style.width=S.parentNode.style.width=m.style.width=Math.floor(r)+"px",S.style.height=S.parentNode.style.height=m.style.height=Math.floor(y)+"px";const A=this.viewport.rotation-this.paintedViewportMap.get(S).rotation,D=Math.abs(A);let L=1,V=1;if((90===D||270===D)&&(L=y/r,V=r/y),S.style.transform=`rotate(${A}deg) scale(${L}, ${V})`,this.textLayer){const U=this.textLayer.viewport,I=Math.abs(this.viewport.rotation-U.rotation);let H=r/U.width;(90===I||270===I)&&(H=r/U.height);const R=this.textLayer.textLayerDiv;let z,v;switch(I){case 0:z=v=0;break;case 90:z=0,v="-"+R.style.height;break;case 180:z="-"+R.style.width,v="-"+R.style.height;break;case 270:z="-"+R.style.width,v=0;break;default:console.error("Bad rotation value.")}R.style.transform=`rotate(${I}deg) scale(${H}) translate(${z}, ${v})`,R.style.transformOrigin="0% 0%"}b&&this.annotationLayer&&this._renderAnnotationLayer(),n&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(S,b){return this.viewport.convertToPdfPoint(S,b)}toggleLoadingIconSpinner(S=!1){var b;null==(b=this.loadingIconDiv)||b.classList.toggle("notVisible",!S)}draw(){var V,U,N,S=this;this.renderingState!==l.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:b,pdfPage:n}=this;if(!n)return this.renderingState=l.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=l.RenderingStates.RUNNING;const r=document.createElement("div");r.style.width=b.style.width,r.style.height=b.style.height,r.classList.add("canvasWrapper"),(null==(V=this.annotationLayer)?void 0:V.div)?b.insertBefore(r,this.annotationLayer.div):b.appendChild(r);let y=null;if(this.textLayerMode!==l.TextLayerMode.DISABLE&&this.textLayerFactory){const I=document.createElement("div");I.className="textLayer",I.style.width=r.style.width,I.style.height=r.style.height,(null==(U=this.annotationLayer)?void 0:U.div)?b.insertBefore(I,this.annotationLayer.div):b.appendChild(I),y=this.textLayerFactory.createTextLayerBuilder(I,this.id-1,this.viewport,this.textLayerMode===l.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=y,be(this,w)!==s.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(b,n,null,this.imageResourcesPath,be(this,w)===s.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),(null==(N=this.xfaLayer)?void 0:N.div)&&b.appendChild(this.xfaLayer.div);let m=null;this.renderingQueue&&(m=I=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=l.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=l.RenderingStates.RUNNING,I()});I()});const A=function(){var I=p(function*(H=null){if(D===S.paintTask&&(S.paintTask=null),H instanceof s.RenderingCancelledException)S._renderError=null;else if(S._renderError=H,S.renderingState=l.RenderingStates.FINISHED,S.loadingIconDiv&&(S.loadingIconDiv.remove(),delete S.loadingIconDiv),S._resetZoomLayer(!0),S.eventBus.dispatch("pagerendered",{source:S,pageNumber:S.id,cssTransform:!1,timestamp:performance.now(),error:S._renderError}),H)throw H});return function(){return I.apply(this,arguments)}}(),D=this.renderer===l.RendererType.SVG?this.paintOnSvg(r):this.paintOnCanvas(r);D.onRenderContinue=m,this.paintTask=D;const L=D.promise.then(()=>A(null).then(()=>{if(y){const I=n.streamTextContent({includeMarkedContent:!0});y.setTextContentStream(I),y.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(I){return A(I)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(b,n,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=I=>{I.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(H=>{if(!H||!this.canvas)return;const R=this.structTreeLayer.render(H);R.classList.add("structTree"),this.canvas.appendChild(R)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(n)),b.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),L}paintOnCanvas(S){const b=(0,s.createPromiseCapability)(),n={promise:b.promise,onRenderContinue(R){R()},cancel(){H.cancel()}},r=this.viewport,y=document.createElement("canvas");y.hidden=!0;let m=!0;const A=function(){m&&(y.hidden=!1,m=!1)};S.appendChild(y),this.canvas=y,y.mozOpaque=!0;const D=y.getContext("2d",{alpha:!1}),L=this.outputScale=new l.OutputScale;if(this.useOnlyCssZoom){const R=r.clone({scale:s.PixelsPerInch.PDF_TO_CSS_UNITS});L.sx*=R.width/r.width,L.sy*=R.height/r.height}if(this.maxCanvasPixels>0){const z=Math.sqrt(this.maxCanvasPixels/(r.width*r.height));L.sx>z||L.sy>z?(L.sx=z,L.sy=z,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const V=(0,l.approximateFraction)(L.sx),U=(0,l.approximateFraction)(L.sy);y.width=(0,l.roundToDivide)(r.width*L.sx,V[0]),y.height=(0,l.roundToDivide)(r.height*L.sy,U[0]),y.style.width=(0,l.roundToDivide)(r.width,V[1])+"px",y.style.height=(0,l.roundToDivide)(r.height,U[1])+"px",this.paintedViewportMap.set(y,r);const I={canvasContext:D,transform:L.scaled?[L.sx,0,0,L.sy,0,0]:null,viewport:this.viewport,annotationMode:be(this,w),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap},H=this.pdfPage.render(I);return H.onContinue=function(R){A(),n.onRenderContinue?n.onRenderContinue(R):R()},H.promise.then(function(){A(),b.resolve()},function(R){A(),b.reject(R)}),n}paintOnSvg(S){let b=!1;const n=()=>{if(b)throw new s.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},r=this.pdfPage,y=this.viewport.clone({scale:s.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:r.getOperatorList({annotationMode:be(this,w)}).then(A=>(n(),new s.SVGGraphics(r.commonObjs,r.objs).getSVG(A,y).then(L=>{n(),this.svg=L,this.paintedViewportMap.set(L,y),L.style.width=S.style.width,L.style.height=S.style.height,this.renderingState=l.RenderingStates.FINISHED,S.appendChild(L)}))),onRenderContinue(A){A()},cancel(){b=!0}}}setPageLabel(S){this.pageLabel="string"==typeof S?S:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.compatibilityParams=t.OptionKind=t.AppOptions=void 0;const u=Object.create(null);t.compatibilityParams=u;{const d=navigator.userAgent||"",a=navigator.platform||"",w=navigator.maxTouchPoints||1,F=/Android/.test(d);(/\b(iPad|iPhone|iPod)(?=;)/.test(d)||"MacIntel"===a&&w>1||F)&&(u.maxCanvasPixels=5242880)}const s={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};t.OptionKind=s;const l={annotationMode:{value:2,kind:s.VIEWER+s.PREFERENCE},cursorToolOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:s.VIEWER},defaultZoomValue:{value:"",kind:s.VIEWER+s.PREFERENCE},disableHistory:{value:!1,kind:s.VIEWER},disablePageLabels:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePermissions:{value:!1,kind:s.VIEWER+s.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:s.VIEWER+s.PREFERENCE},enableScripting:{value:!0,kind:s.VIEWER+s.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:s.VIEWER},externalLinkTarget:{value:0,kind:s.VIEWER+s.PREFERENCE},historyUpdateUrl:{value:!1,kind:s.VIEWER+s.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:s.VIEWER+s.PREFERENCE},imageResourcesPath:{value:"./images/",kind:s.VIEWER},maxCanvasPixels:{value:16777216,compatibility:u.maxCanvasPixels,kind:s.VIEWER},pdfBugEnabled:{value:!1,kind:s.VIEWER+s.PREFERENCE},printResolution:{value:150,kind:s.VIEWER},renderer:{value:"canvas",kind:s.VIEWER},sidebarViewOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},scrollModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},spreadModeOnLoad:{value:-1,kind:s.VIEWER+s.PREFERENCE},textLayerMode:{value:1,kind:s.VIEWER+s.PREFERENCE},useOnlyCssZoom:{value:!1,kind:s.VIEWER+s.PREFERENCE},viewerCssTheme:{value:0,kind:s.VIEWER+s.PREFERENCE},viewOnLoad:{value:0,kind:s.VIEWER+s.PREFERENCE},cMapPacked:{value:!0,kind:s.API},cMapUrl:{value:"../web/cmaps/",kind:s.API},disableAutoFetch:{value:!1,kind:s.API+s.PREFERENCE},disableFontFace:{value:!1,kind:s.API+s.PREFERENCE},disableRange:{value:!1,kind:s.API+s.PREFERENCE},disableStream:{value:!1,kind:s.API+s.PREFERENCE},docBaseUrl:{value:"",kind:s.API},enableXfa:{value:!0,kind:s.API+s.PREFERENCE},fontExtraProperties:{value:!1,kind:s.API},isEvalSupported:{value:!0,kind:s.API},maxImageSize:{value:-1,kind:s.API},pdfBug:{value:!1,kind:s.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:s.API},verbosity:{value:1,kind:s.API},workerPort:{value:null,kind:s.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:s.WORKER}};l.disablePreferences={value:!1,kind:s.VIEWER},l.locale={value:navigator.language||"en-US",kind:s.VIEWER},l.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:s.VIEWER},l.renderer.kind+=s.PREFERENCE;const f=Object.create(null);t.AppOptions=class k{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(a){var S;const w=f[a];if(void 0!==w)return w;const F=l[a];return void 0!==F?null!=(S=F.compatibility)?S:F.value:void 0}static getAll(a=null){var F;const w=Object.create(null);for(const S in l){const b=l[S];if(a){if(0==(a&b.kind))continue;if(a===s.PREFERENCE){const r=b.value,y=typeof r;if("boolean"===y||"string"===y||"number"===y&&Number.isInteger(r)){w[S]=r;continue}throw new Error(`Invalid type for preference: ${S}`)}}const n=f[S];w[S]=void 0!==n?n:null!=(F=b.compatibility)?F:b.value}return w}static set(a,w){f[a]=w}static setAll(a){for(const w in a)f[w]=a[w]}static remove(a){delete f[a]}static _hasUserOptions(){return Object.keys(f).length>0}}},(e,t,u)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFRenderingQueue=void 0;var s=u(3),l=u(6);t.PDFRenderingQueue=class k{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(a){this.pdfViewer=a}setThumbnailViewer(a){this.pdfThumbnailViewer=a}isHighestPriority(a){return this.highestPriorityPage===a.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(a){var w;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(a)&&(this.isThumbnailViewEnabled&&(null==(w=this.pdfThumbnailViewer)?void 0:w.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(a,w,F,S=!1){const b=a.views,n=b.length;if(0===n)return null;for(let D=0;D<n;D++){const L=b[D].view;if(!this.isViewFinished(L))return L}const r=a.first.id,y=a.last.id;if(y-r+1>n){const D=a.ids;for(let L=1,V=y-r;L<V;L++){const U=F?r+L:y-L;if(D.has(U))continue;const N=w[U-1];if(!this.isViewFinished(N))return N}}let m=F?y:r-2,A=w[m];return A&&!this.isViewFinished(A)||S&&(m+=F?1:-1,A=w[m],A&&!this.isViewFinished(A))?A:null}isViewFinished(a){return a.renderingState===l.RenderingStates.FINISHED}renderView(a){switch(a.renderingState){case l.RenderingStates.FINISHED:return!1;case l.RenderingStates.PAUSED:this.highestPriorityPage=a.renderingId,a.resume();break;case l.RenderingStates.RUNNING:this.highestPriorityPage=a.renderingId;break;case l.RenderingStates.INITIAL:this.highestPriorityPage=a.renderingId,a.draw().finally(()=>{this.renderHighestPriority()}).catch(w=>{w instanceof s.RenderingCancelledException||console.error(`renderView: "${w}"`)})}return!0}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextHighlighter=void 0;t.TextHighlighter=class u{constructor({findController:l,eventBus:f,pageIndex:k}){this.findController=l,this.matches=[],this.eventBus=f,this.pageIdx=k,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(l,f){this.textDivs=l,this.textContentItemsStr=f}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=l=>{(l.pageIndex===this.pageIdx||-1===l.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(l,f){if(!l)return[];const{textContentItemsStr:k}=this;let d=0,a=0;const w=k.length-1,F=[];for(let S=0,b=l.length;S<b;S++){let n=l[S];for(;d!==w&&n>=a+k[d].length;)a+=k[d].length,d++;d===k.length&&console.error("Could not find a matching mapping");const r={begin:{divIdx:d,offset:n-a}};for(n+=f[S];d!==w&&n>a+k[d].length;)a+=k[d].length,d++;r.end={divIdx:d,offset:n-a},F.push(r)}return F}_renderMatches(l){if(0===l.length)return;const{findController:f,pageIdx:k}=this,{textContentItemsStr:d,textDivs:a}=this,w=k===f.selected.pageIdx,F=f.selected.matchIdx;let b=null;const n_offset=void 0;function r(D,L){const V=D.divIdx;return a[V].textContent="",y(V,0,D.offset,L)}function y(D,L,V,U){let N=a[D];if(N.nodeType===Node.TEXT_NODE){const R=document.createElement("span");N.parentNode.insertBefore(R,N),R.appendChild(N),a[D]=R,N=R}const I=d[D].substring(L,V),H=document.createTextNode(I);if(U){const R=document.createElement("span");return R.className=`${U} appended`,R.appendChild(H),N.appendChild(R),U.includes("selected")?R.offsetLeft:0}return N.appendChild(H),0}let m=F,A=m+1;if(f.state.highlightAll)m=0,A=l.length;else if(!w)return;for(let D=m;D<A;D++){const L=l[D],V=L.begin,U=L.end,N=w&&D===F,I=N?" selected":"";let H=0;if(b&&V.divIdx===b.divIdx?y(b.divIdx,b.offset,V.offset):(null!==b&&y(b.divIdx,b.offset,n_offset),r(V)),V.divIdx===U.divIdx)H=y(V.divIdx,V.offset,U.offset,"highlight"+I);else{H=y(V.divIdx,V.offset,n_offset,"highlight begin"+I);for(let R=V.divIdx+1,z=U.divIdx;R<z;R++)a[R].className="highlight middle"+I;r(U,"highlight end"+I)}b=U,N&&f.scrollMatchIntoView({element:a[V.divIdx],selectedLeft:H,pageIndex:k,matchIndex:F})}b&&y(b.divIdx,b.offset,n_offset)}_updateMatches(){if(!this.enabled)return;const{findController:l,matches:f,pageIdx:k}=this,{textContentItemsStr:d,textDivs:a}=this;let w=-1;for(let b=0,n=f.length;b<n;b++){const r=f[b];for(let m=Math.max(w,r.begin.divIdx),A=r.end.divIdx;m<=A;m++){const D=a[m];D.textContent=d[m],D.className=""}w=r.end.divIdx+1}(null==l?void 0:l.highlightMatches)&&(this.matches=this._convertMatches(l.pageMatches[k]||null,l.pageMatchesLength[k]||null),this._renderMatches(this.matches))}}},(e,t,u)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadManager=void 0;var s=u(3);function l(k,d){const a=document.createElement("a");if(!a.click)throw new Error('DownloadManager: "a.click()" is not supported.');a.href=k,a.target="_parent","download"in a&&(a.download=d),(document.body||document.documentElement).appendChild(a),a.click(),a.remove()}t.DownloadManager=class f{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(d,a){(0,s.createValidAbsoluteUrl)(d,"http://example.com")?l(d+"#pdfjs.action=download",a):console.error(`downloadUrl - not a valid URL: ${d}`)}downloadData(d,a,w){l(URL.createObjectURL(new Blob([d],{type:w})),a)}openOrDownloadData(d,a,w){const F=(0,s.isPdfFile)(w),S=F?"application/pdf":"";if(F){let n,b=this._openBlobUrls.get(d);b||(b=URL.createObjectURL(new Blob([a],{type:S})),this._openBlobUrls.set(d,b)),n="?file="+encodeURIComponent(b+"#"+w);try{return window.open(n),!0}catch(r){console.error(`openOrDownloadData: ${r}`),URL.revokeObjectURL(b),this._openBlobUrls.delete(d)}}return this.downloadData(a,w,S),!1}download(d,a,w,F="download"){l(URL.createObjectURL(d),w)}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WaitOnType=t.EventBus=t.AutomationEventBus=void 0,t.waitOnEventOrTimeout=function s({target:k,name:d,delay:a=0}){return new Promise(function(w,F){if("object"!=typeof k||!d||"string"!=typeof d||!(Number.isInteger(a)&&a>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function S(y){k instanceof l?k._off(d,b):k.removeEventListener(d,b),r&&clearTimeout(r),w(y)}const b=S.bind(null,u.EVENT);k instanceof l?k._on(d,b):k.addEventListener(d,b);const n=S.bind(null,u.TIMEOUT),r=setTimeout(n,a)})};const u={EVENT:"event",TIMEOUT:"timeout"};t.WaitOnType=u;class l{constructor(){this._listeners=Object.create(null)}on(d,a,w=null){this._on(d,a,{external:!0,once:null==w?void 0:w.once})}off(d,a,w=null){this._off(d,a,{external:!0,once:null==w?void 0:w.once})}dispatch(d,a){const w=this._listeners[d];if(!w||0===w.length)return;let F;for(const{listener:S,external:b,once:n}of w.slice(0))n&&this._off(d,S),b?(F||(F=[])).push(S):S(a);if(F){for(const S of F)S(a);F=null}}_on(d,a,w=null){var S;((S=this._listeners)[d]||(S[d]=[])).push({listener:a,external:!0===(null==w?void 0:w.external),once:!0===(null==w?void 0:w.once)})}_off(d,a,w=null){const F=this._listeners[d];if(F)for(let S=0,b=F.length;S<b;S++)if(F[S].listener===a)return void F.splice(S,1)}}t.EventBus=l;t.AutomationEventBus=class f extends l{dispatch(d,a){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(e,t,u)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenericL10n=void 0,u(19);var s=u(4);const l=document.webL10n;t.GenericL10n=class f{constructor(d){this._lang=d,this._ready=new Promise((a,w)=>{l.setLanguage((0,s.fixupLangCode)(d),()=>{a(l)})})}getLanguage(){var d=this;return p(function*(){return(yield d._ready).getLanguage()})()}getDirection(){var d=this;return p(function*(){return(yield d._ready).getDirection()})()}get(d,a=null,w=(0,s.getL10nFallback)(d,a)){var F=this;return p(function*(){return(yield F._ready).get(d,a,w)})()}translate(d){var a=this;return p(function*(){return(yield a._ready).translate(d)})()}}},()=>{document.webL10n=function(e,t,u){var s={},l="",f="textContent",k="",d={},a="loading";function r(R,z,v){z=z||function(C){},v=v||function(){};var c=new XMLHttpRequest;c.open("GET",R,true),c.overrideMimeType&&c.overrideMimeType("text/plain; charset=utf-8"),c.onreadystatechange=function(){4==c.readyState&&(200==c.status||0===c.status?z(c.responseText):v())},c.onerror=v,c.ontimeout=v;try{c.send(null)}catch(o){v()}}function y(R,z,v,c){var o=R.replace(/[^\/]*$/,"")||"./";function C(T){return T.lastIndexOf("\\")<0?T:T.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}r(R,function(T){l+=T,function _(T,i){var x={},E=/^\s*|\s*$/,B=/^\s*#|^\s*$/,g=/^\s*\[(.*)\]\s*$/,j=/^\s*@import\s+url\((.*)\)\s*$/i,X=/^([^=\s]*)\s*=\s*(.+)$/;function $(ne,he,ue){var ge=ne.replace(E,"").split(/[\r\n]+/),h="*",O=z.split("-",1)[0],ee=!1,G="";!function Y(){for(;;){if(!ge.length)return void ue();var ae=ge.shift();if(!B.test(ae)){if(he){if(G=g.exec(ae)){h=G[1].toLowerCase(),ee="*"!==h&&h!==z&&h!==O;continue}if(ee)continue;if(G=j.exec(ae))return void Q(o+G[1],Y)}var pe=ae.match(X);pe&&3==pe.length&&(x[pe[1]]=C(pe[2]))}}}()}function Q(ne,he){r(ne,function(ue){$(ue,!1,he)},function(){console.warn(ne+" not found."),he()})}$(T,!0,function(){i(x)})}(T,function(i){for(var x in i){var E,B,g=x.lastIndexOf(".");g>0?(E=x.substring(0,g),B=x.substring(g+1)):(E=x,B=f),s[E]||(s[E]={}),s[E][B]=i[x]}v&&v()})},c)}function m(R,z){R&&(R=R.toLowerCase()),z=z||function(){},function A(){s={},l="",k=""}(),k=R;var v=function F(){return t.querySelectorAll('link[type="application/l10n"]')}(),c=v.length;if(0!==c){var T,i=0;T=function(){++i>=c&&(z(),a="complete")};for(var E=0;E<c;E++)new x(v[E]).load(R,T)}else{var o=function S(){var R=t.querySelector('script[type="application/l10n"]');return R?JSON.parse(R.innerHTML):null}();if(o&&o.locales&&o.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(s=o.locales[R])){var C=o.default_locale.toLowerCase();for(var _ in o.locales){if((_=_.toLowerCase())===R){s=o.locales[R];break}_===C&&(s=o.locales[C])}}z()}else console.log("no resource to load, early way out");a="complete"}function x(g){var j=g.href;this.load=function(X,$){y(j,X,$,function(){console.warn(j+" not found."),console.warn('"'+X+'" resource not found'),k="",$()})}}}function L(R,z,v){var c=s[R];if(!c){if(console.warn("#"+R+" is undefined."),!v)return null;c=v}var o={};for(var C in c){var _=c[C];_=U(_=V(_,z,R,C),z,R),o[C]=_}return o}function V(R,z,v,c){var C=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(R);if(!C||!C.length)return R;var i,_=C[1],T=C[2];return z&&T in z?i=z[T]:T in s&&(i=s[T]),_ in d&&(R=(0,d[_])(R,i,v,c)),R}function U(R,z,v){return R.replace(/\{\{\s*(.+?)\s*\}\}/g,function(o,C){return z&&C in z?z[C]:C in s?s[C]:(console.log("argument {{"+C+"}} for #"+v+" is undefined."),o)})}function N(R){var z=function n(R){if(!R)return{};var z=R.getAttribute("data-l10n-id"),v=R.getAttribute("data-l10n-args"),c={};if(v)try{c=JSON.parse(v)}catch(o){console.warn("could not parse arguments for #"+z)}return{id:z,args:c}}(R);if(z.id){var v=L(z.id,z.args);if(!v)return void console.warn("#"+z.id+" is undefined.");if(v[f]){if(0===function I(R){if(R.children)return R.children.length;if(void 0!==R.childElementCount)return R.childElementCount;for(var z=0,v=0;v<R.childNodes.length;v++)z+=1===R.nodeType?1:0;return z}(R))R[f]=v[f];else{for(var c=R.childNodes,o=!1,C=0,_=c.length;C<_;C++)3===c[C].nodeType&&/\S/.test(c[C].nodeValue)&&(o?c[C].nodeValue="":(c[C].nodeValue=v[f],o=!0));if(!o){var T=t.createTextNode(v[f]);R.insertBefore(T,R.firstChild)}}delete v[f]}for(var i in v)R[i]=v[i]}}return d.plural=function(R,z,v,c){var o=parseFloat(z);if(isNaN(o)||c!=f)return R;d._pluralRules||(d._pluralRules=function D(R){function v(_,T){return-1!==T.indexOf(_)}function c(_,T,i){return T<=_&&_<=i}var o={0:function(_){return"other"},1:function(_){return c(_%100,3,10)?"few":0===_?"zero":c(_%100,11,99)?"many":2==_?"two":1==_?"one":"other"},2:function(_){return 0!==_&&_%10==0?"many":2==_?"two":1==_?"one":"other"},3:function(_){return 1==_?"one":"other"},4:function(_){return c(_,0,1)?"one":"other"},5:function(_){return c(_,0,2)&&2!=_?"one":"other"},6:function(_){return 0===_?"zero":_%10==1&&_%100!=11?"one":"other"},7:function(_){return 2==_?"two":1==_?"one":"other"},8:function(_){return c(_,3,6)?"few":c(_,7,10)?"many":2==_?"two":1==_?"one":"other"},9:function(_){return 0===_||1!=_&&c(_%100,1,19)?"few":1==_?"one":"other"},10:function(_){return c(_%10,2,9)&&!c(_%100,11,19)?"few":_%10!=1||c(_%100,11,19)?"other":"one"},11:function(_){return c(_%10,2,4)&&!c(_%100,12,14)?"few":_%10==0||c(_%10,5,9)||c(_%100,11,14)?"many":_%10==1&&_%100!=11?"one":"other"},12:function(_){return c(_,2,4)?"few":1==_?"one":"other"},13:function(_){return c(_%10,2,4)&&!c(_%100,12,14)?"few":1!=_&&c(_%10,0,1)||c(_%10,5,9)||c(_%100,12,14)?"many":1==_?"one":"other"},14:function(_){return c(_%100,3,4)?"few":_%100==2?"two":_%100==1?"one":"other"},15:function(_){return 0===_||c(_%100,2,10)?"few":c(_%100,11,19)?"many":1==_?"one":"other"},16:function(_){return _%10==1&&11!=_?"one":"other"},17:function(_){return 3==_?"few":0===_?"zero":6==_?"many":2==_?"two":1==_?"one":"other"},18:function(_){return 0===_?"zero":c(_,0,2)&&0!==_&&2!=_?"one":"other"},19:function(_){return c(_,2,10)?"few":c(_,0,1)?"one":"other"},20:function(_){return!c(_%10,3,4)&&_%10!=9||c(_%100,10,19)||c(_%100,70,79)||c(_%100,90,99)?_%1e6==0&&0!==_?"many":_%10!=2||v(_%100,[12,72,92])?_%10!=1||v(_%100,[11,71,91])?"other":"one":"two":"few"},21:function(_){return 0===_?"zero":1==_?"one":"other"},22:function(_){return c(_,0,1)||c(_,11,99)?"one":"other"},23:function(_){return c(_%10,1,2)||_%20==0?"one":"other"},24:function(_){return c(_,3,10)||c(_,13,19)?"few":v(_,[2,12])?"two":v(_,[1,11])?"one":"other"}},C={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[R.replace(/-.*$/,"")];return C in o?o[C]:(console.warn("plural form unknown for ["+R+"]"),function(){return"other"})}(k));var C="["+d._pluralRules(o)+"]";return 0===o&&v+"[zero]"in s?R=s[v+"[zero]"][c]:1==o&&v+"[one]"in s?R=s[v+"[one]"][c]:2==o&&v+"[two]"in s?R=s[v+"[two]"][c]:v+C in s?R=s[v+C][c]:v+"[other]"in s&&(R=s[v+"[other]"][c]),R},{get:function(R,z,v){var C,c=R.lastIndexOf("."),o=f;c>0&&(o=R.substring(c+1),R=R.substring(0,c)),v&&((C={})[o]=v);var _=L(R,z,C);return _&&o in _?_[o]:"{{"+R+"}}"},getData:function(){return s},getText:function(){return l},getLanguage:function(){return k},setLanguage:function(R,z){m(R,function(){z&&z()})},getDirection:function(){var z=k.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(z)>=0?"rtl":"ltr"},translate:function H(R){for(var z=function b(R){return R?R.querySelectorAll("*[data-l10n-id]"):[]}(R=R||t.documentElement),v=z.length,c=0;c<v;c++)N(z[c]);N(R)},getReadyState:function(){return a},ready:function(R){R&&("complete"==a||"interactive"==a?e.setTimeout(function(){R()}):t.addEventListener&&t.addEventListener("localized",function z(){t.removeEventListener("localized",z),R()}))}}}(window,document)},(e,t,u)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFindController=t.FindState=void 0;var s=u(6),l=u(3),f=u(21);const k={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};t.FindState=k;const F={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},S=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),b=[...S.values()].map(U=>String.fromCharCode(U)).join(""),n=/\p{M}+/gu,r=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,y=/([^\p{M}])\p{M}*$/u,m=/^\p{M}*([^\p{M}])/u;let A=null;function D(U){if(!A){const _=Object.keys(F).join("");A=new RegExp(`([${_}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const N=[];let I;for(;null!==(I=n.exec(U));)N.push([I[0].length,I.index]);let H=U.normalize("NFD");const R=[[0,0]];let z=0,v=0,c=0,o=0,C=!1;return H=H.replace(A,(_,T,i,x,E,B)=>{var g;if(B-=c,T){const j=F[_],X=j.length;for(let $=1;$<X;$++)R.push([B-v+$,v-$]);return v-=X-1,j}if(i){const j=i.endsWith("\n"),X=j?i.length-2:i.length;C=!0;let $=X;B+o===(null==(g=N[z])?void 0:g[1])&&($-=N[z][0],++z);for(let Q=1;Q<$+1;Q++)R.push([B-1-v+Q,v-Q]);return v-=$,c+=$,j?(R.push([(B+=X-1)-v+1,1+v]),v+=1,c+=1,o+=1,i.slice(0,X)):i}return x?(R.push([B-v+1,1+v]),v+=1,c+=1,o+=1,x.charAt(0)):(R.push([B-v+1,v-1]),v-=1,c+=1,o+=1," ")}),R.push([H.length,v]),[H,R,C]}function L(U,N,I){if(!U)return[N,I];const H=N,R=N+I;let z=(0,s.binarySearchFirstItem)(U,c=>c[0]>=H);U[z][0]>H&&--z;let v=(0,s.binarySearchFirstItem)(U,c=>c[0]>=R,z);return U[v][0]>R&&--v,[H+U[z][1],I+U[v][1]-U[z][1]]}t.PDFFindController=class V{constructor({linkService:N,eventBus:I}){this._linkService=N,this._eventBus=I,this._reset(),I._on("find",this._onFind.bind(this)),I._on("findbarclose",this._onFindBarClose.bind(this)),this.executeCommand=(H,R)=>{console.error('Deprecated method `PDFFindController.executeCommand` called, please dispatch a "find"-event using the EventBus instead.');const z=Object.assign(Object.create(null),R,{type:H.substring(4)});this._onFind(z)}}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(N){this._pdfDocument&&this._reset(),N&&(this._pdfDocument=N,this._firstPageCapability.resolve())}_onFind(N){if(!N)return;const I=this._pdfDocument,{type:H}=N;(null===this._state||this._shouldDirtyMatch(N))&&(this._dirtyMatch=!0),this._state=N,"highlightallchange"!==H&&this._updateUIState(k.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||I&&this._pdfDocument!==I)return;this._extractText();const R=!this._highlightMatches,z=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),H?this._dirtyMatch?this._nextMatch():"again"===H?(this._nextMatch(),R&&this._state.highlightAll&&this._updateAllPages()):"highlightallchange"===H?(z?this._nextMatch():this._highlightMatches=!0,this._updateAllPages()):this._nextMatch():this._findTimeout=setTimeout(()=>{this._nextMatch(),this._findTimeout=null},250)})}scrollMatchIntoView({element:N=null,selectedLeft:I=0,pageIndex:H=-1,matchIndex:R=-1}){this._scrollMatches&&N&&-1!==R&&R===this._selected.matchIdx&&-1!==H&&H===this._selected.pageIdx&&(this._scrollMatches=!1,(0,s.scrollIntoView)(N,{top:-50,left:I+-400},!0))}_reset(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,l.createPromiseCapability)()}get _query(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=D(this._state.query)),this._normalizedQuery}_shouldDirtyMatch(N){if(N.query!==this._state.query)return!0;switch(N.type){case"again":const I=this._selected.pageIdx+1,H=this._linkService;return I>=1&&I<=H.pagesCount&&I!==H.page&&!H.isPageVisible(I);case"highlightallchange":return!1}return!0}_isEntireWord(N,I,H){let R=N.slice(0,I).match(y);if(R){const z=N.charCodeAt(I),v=R[1].charCodeAt(0);if((0,f.getCharacterType)(z)===(0,f.getCharacterType)(v))return!1}if(R=N.slice(I+H).match(m),R){const z=N.charCodeAt(I+H-1),v=R[1].charCodeAt(0);if((0,f.getCharacterType)(z)===(0,f.getCharacterType)(v))return!1}return!0}_calculateRegExpMatch(N,I,H,R){const z=[],v=[],c=this._pageDiffs[H];let o;for(;null!==(o=N.exec(R));){if(I&&!this._isEntireWord(R,o.index,o[0].length))continue;const[C,_]=L(c,o.index,o[0].length);_&&(z.push(C),v.push(_))}this._pageMatches[H]=z,this._pageMatchesLength[H]=v}_convertToRegExpString(N,I){const{matchDiacritics:H}=this._state;let R=!1;const z="[ ]*";return(N=N.replace(r,(v,c,o,C,_,T)=>c?`[ ]*\\${c}[ ]*`:o?`[ ]*${o}[ ]*`:C?"[ ]+":H?_||T:_?S.has(_.charCodeAt(0))?_:"":I?(R=!0,`${T}\\p{M}*`):T)).endsWith(z)&&(N=N.slice(0,N.length-z.length)),H&&I&&(R=!0,N=`${N}(?=[${b}]|[^\\p{M}]|$)`),[R,N]}_calculateMatch(N){let I=this._query;if(0===I.length)return;const{caseSensitive:H,entireWord:R,phraseSearch:z}=this._state,v=this._pageContents[N],c=this._hasDiacritics[N];let o=!1;if(z)[o,I]=this._convertToRegExpString(I,c);else{const T=I.match(/\S+/g);T&&(I=T.sort().reverse().map(i=>{const[x,E]=this._convertToRegExpString(i,c);return o||(o=x),`(${E})`}).join("|"))}I=new RegExp(I,`g${o?"u":""}${H?"":"i"}`),this._calculateRegExpMatch(I,R,N,v),this._state.highlightAll&&this._updatePage(N),this._resumePageIdx===N&&(this._resumePageIdx=null,this._nextPageMatch());const _=this._pageMatches[N].length;_>0&&(this._matchesCountTotal+=_,this._updateUIResultsCount())}_extractText(){if(this._extractTextPromises.length>0)return;let N=Promise.resolve();for(let I=0,H=this._linkService.pagesCount;I<H;I++){const R=(0,l.createPromiseCapability)();this._extractTextPromises[I]=R.promise,N=N.then(()=>this._pdfDocument.getPage(I+1).then(z=>z.getTextContent()).then(z=>{const v=z.items,c=[];for(let o=0,C=v.length;o<C;o++)c.push(v[o].str),v[o].hasEOL&&c.push("\n");[this._pageContents[I],this._pageDiffs[I],this._hasDiacritics[I]]=D(c.join("")),R.resolve(I)},z=>{console.error(`Unable to get text content for page ${I+1}`,z),this._pageContents[I]="",this._pageDiffs[I]=null,this._hasDiacritics[I]=!1,R.resolve(I)}))}}_updatePage(N){this._scrollMatches&&this._selected.pageIdx===N&&(this._linkService.page=N+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:N})}_updateAllPages(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}_nextMatch(){const N=this._state.findPrevious,I=this._linkService.page-1,H=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=I,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(let z=0;z<H;z++)this._pendingFindMatches.has(z)||(this._pendingFindMatches.add(z),this._extractTextPromises[z].then(v=>{this._pendingFindMatches.delete(v),this._calculateMatch(v)}))}if(""===this._query)return void this._updateUIState(k.FOUND);if(this._resumePageIdx)return;const R=this._offset;if(this._pagesToSearch=H,null!==R.matchIdx){const z=this._pageMatches[R.pageIdx].length;if(!N&&R.matchIdx+1<z||N&&R.matchIdx>0)return R.matchIdx=N?R.matchIdx-1:R.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(N)}this._nextPageMatch()}_matchesReady(N){const I=this._offset,H=N.length,R=this._state.findPrevious;return H?(I.matchIdx=R?H-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(R),!!(I.wrapped&&(I.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}_nextPageMatch(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let N=null;do{const I=this._offset.pageIdx;if(N=this._pageMatches[I],!N){this._resumePageIdx=I;break}}while(!this._matchesReady(N))}_advanceOffsetPage(N){const I=this._offset,H=this._linkService.pagesCount;I.pageIdx=N?I.pageIdx-1:I.pageIdx+1,I.matchIdx=null,this._pagesToSearch--,(I.pageIdx>=H||I.pageIdx<0)&&(I.pageIdx=N?H-1:0,I.wrapped=!0)}_updateMatch(N=!1){let I=k.NOT_FOUND;const H=this._offset.wrapped;if(this._offset.wrapped=!1,N){const R=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,I=H?k.WRAPPED:k.FOUND,-1!==R&&R!==this._selected.pageIdx&&this._updatePage(R)}this._updateUIState(I,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}_onFindBarClose(N){const I=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||I&&this._pdfDocument!==I||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this._updateUIState(k.FOUND),this._highlightMatches=!1,this._updateAllPages())})}_requestMatchesCount(){var z;const{pageIdx:N,matchIdx:I}=this._selected;let H=0,R=this._matchesCountTotal;if(-1!==I){for(let v=0;v<N;v++)H+=(null==(z=this._pageMatches[v])?void 0:z.length)||0;H+=I+1}return(H<1||H>R)&&(H=R=0),{current:H,total:R}}_updateUIResultsCount(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}_updateUIState(N,I=!1){var H,R;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:N,previous:I,matchesCount:this._requestMatchesCount(),rawQuery:null!=(R=null==(H=this._state)?void 0:H.query)?R:null})}}},(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterType=void 0,t.getCharacterType=function n(r){return function s(r){return r<11904}(r)?function l(r){return 0==(65408&r)}(r)?function d(r){return 32===r||9===r||13===r||10===r}(r)?u.SPACE:function f(r){return r>=97&&r<=122||r>=65&&r<=90}(r)||function k(r){return r>=48&&r<=57}(r)||95===r?u.ALPHA_LETTER:u.PUNCT:function b(r){return 3584==(65408&r)}(r)?u.THAI_LETTER:160===r?u.SPACE:u.ALPHA_LETTER:function a(r){return r>=13312&&r<=40959||r>=63744&&r<=64255}(r)?u.HAN_LETTER:function w(r){return r>=12448&&r<=12543}(r)?u.KATAKANA_LETTER:function F(r){return r>=12352&&r<=12447}(r)?u.HIRAGANA_LETTER:function S(r){return r>=65376&&r<=65439}(r)?u.HALFWIDTH_KATAKANA_LETTER:u.ALPHA_LETTER};const u={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};t.CharacterType=u},(e,t,u)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFHistory=void 0,t.isDestArraysEqual=S,t.isDestHashesEqual=F;var s=u(6),l=u(17);function a(){return document.location.hash}function F(b,n){return"string"==typeof b&&"string"==typeof n&&(b===n||(0,s.parseQueryString)(b).get("nameddest")===n)}function S(b,n){function r(y,m){if(typeof y!=typeof m||Array.isArray(y)||Array.isArray(m))return!1;if(null!==y&&"object"==typeof y&&null!==m){if(Object.keys(y).length!==Object.keys(m).length)return!1;for(const A in y)if(!r(y[A],m[A]))return!1;return!0}return y===m||Number.isNaN(y)&&Number.isNaN(m)}if(!Array.isArray(b)||!Array.isArray(n)||b.length!==n.length)return!1;for(let y=0,m=b.length;y<m;y++)if(!r(b[y],n[y]))return!1;return!0}t.PDFHistory=class w{constructor({linkService:n,eventBus:r}){this.linkService=n,this.eventBus=r,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",y=>{this._isViewerInPresentationMode=y.state!==s.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",y=>{this._isPagesLoaded=!!y.pagesCount},{once:!0})})}initialize({fingerprint:n,resetHistory:r=!1,updateUrl:y=!1}){if(!n||"string"!=typeof n)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const m=""!==this._fingerprint&&this._fingerprint!==n;this._fingerprint=n,this._updateUrl=!0===y,this._initialized=!0,this._bindEvents();const A=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=a(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(A,!0)||r){const{hash:L,page:V,rotation:U}=this._parseCurrentHash(!0);return!L||m||r?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:L,page:V,rotation:U},!0)}const D=A.destination;this._updateInternalState(D,A.uid,!0),void 0!==D.rotation&&(this._initialRotation=D.rotation),D.dest?(this._initialBookmark=JSON.stringify(D.dest),this._destination.page=null):D.hash?this._initialBookmark=D.hash:D.page&&(this._initialBookmark=`page=${D.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:n=null,explicitDest:r,pageNumber:y}){if(!this._initialized)return;if(n&&"string"!=typeof n)return void console.error(`PDFHistory.push: "${n}" is not a valid namedDest parameter.`);if(!Array.isArray(r))return void console.error(`PDFHistory.push: "${r}" is not a valid explicitDest parameter.`);if(!this._isValidPage(y)&&(null!==y||this._destination))return void console.error(`PDFHistory.push: "${y}" is not a valid pageNumber parameter.`);const m=n||JSON.stringify(r);if(!m)return;let A=!1;if(this._destination&&(F(this._destination.hash,m)||S(this._destination.dest,r))){if(this._destination.page)return;A=!0}this._popStateInProgress&&!A||(this._pushOrReplaceState({dest:r,hash:m,page:y,rotation:this.linkService.rotation},A),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(n){var r;if(this._initialized){if(!this._isValidPage(n))return void console.error(`PDFHistory.pushPage: "${n}" is not a valid page number.`);(null==(r=this._destination)?void 0:r.page)!==n&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${n}`,page:n,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this._isValidState(n)&&n.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const n=window.history.state;this._isValidState(n)&&n.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(n,r=!1){const y=r||!this._destination,m={fingerprint:this._fingerprint,uid:y?this._uid:this._uid+1,destination:n};let A;if(this._updateInternalState(n,m.uid),this._updateUrl&&(null==n?void 0:n.hash)){const D=document.location.href.split("#")[0];D.startsWith("file://")||(A=`${D}#${n.hash}`)}y?window.history.replaceState(m,"",A):window.history.pushState(m,"",A)}_tryPushCurrentPosition(n=!1){if(!this._position)return;let r=this._position;if(n&&(r=Object.assign(Object.create(null),this._position),r.temporary=!0),!this._destination)return void this._pushOrReplaceState(r);if(this._destination.temporary)return void this._pushOrReplaceState(r,!0);if(this._destination.hash===r.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let y=!1;if(this._destination.page>=r.first&&this._destination.page<=r.page){if(void 0!==this._destination.dest||!this._destination.first)return;y=!0}this._pushOrReplaceState(r,y)}_isValidPage(n){return Number.isInteger(n)&&n>0&&n<=this.linkService.pagesCount}_isValidState(n,r=!1){if(!n)return!1;if(n.fingerprint!==this._fingerprint){if(!r)return!1;{if("string"!=typeof n.fingerprint||n.fingerprint.length!==this._fingerprint.length)return!1;const[y]=performance.getEntriesByType("navigation");if("reload"!==(null==y?void 0:y.type))return!1}}return!(!Number.isInteger(n.uid)||n.uid<0||null===n.destination||"object"!=typeof n.destination)}_updateInternalState(n,r,y=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),y&&(null==n?void 0:n.temporary)&&delete n.temporary,this._destination=n,this._uid=r,this._maxUid=Math.max(this._maxUid,r),this._numPositionUpdates=0}_parseCurrentHash(n=!1){const r=unescape(a()).substring(1),y=(0,s.parseQueryString)(r),m=y.get("nameddest")||"";let A=0|y.get("page");return(!this._isValidPage(A)||n&&m.length>0)&&(A=null),{hash:r,page:A,rotation:this.linkService.rotation}}_updateViewarea({location:n}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?`page=${n.pageNumber}`:n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:n}){const r=a(),y=this._currentHash!==r;if(this._currentHash=r,!n){this._uid++;const{hash:A,page:D,rotation:L}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:A,page:D,rotation:L},!0)}if(!this._isValidState(n))return;this._popStateInProgress=!0,y&&(this._blockHashChange++,(0,l.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const m=n.destination;this._updateInternalState(m,n.uid,!0),(0,s.isValidRotation)(m.rotation)&&(this.linkService.rotation=m.rotation),m.dest?this.linkService.goToDestination(m.dest):m.hash?this.linkService.setHash(m.hash):m.page&&(this.linkService.page=m.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(e,t,u)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFScriptingManager=void 0;var s=u(6),l=u(3);t.PDFScriptingManager=class f{constructor({eventBus:d,sandboxBundleSrc:a=null,scriptingFactory:w=null,docPropertiesLookup:F=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=d,this._sandboxBundleSrc=a,this._scriptingFactory=w,this._docPropertiesLookup=F,this._scriptingFactory||window.addEventListener("updatefromsandbox",S=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:S.detail})})}setViewer(d){this._pdfViewer=d}setDocument(d){var a=this;return p(function*(){var b;if(a._pdfDocument&&(yield a._destroyScripting()),a._pdfDocument=d,!d)return;const[w,F,S]=yield Promise.all([d.getFieldObjects(),d.getCalculationOrderIds(),d.getJSActions()]);if(w||S){if(d===a._pdfDocument){try{a._scripting=a._createScripting()}catch(n){return console.error(`PDFScriptingManager.setDocument: "${null==n?void 0:n.message}".`),void(yield a._destroyScripting())}a._internalEvents.set("updatefromsandbox",n=>{(null==n?void 0:n.source)===window&&a._updateFromSandbox(n.detail)}),a._internalEvents.set("dispatcheventinsandbox",n=>{var r;null==(r=a._scripting)||r.dispatchEventInSandbox(n.detail)}),a._internalEvents.set("pagechanging",({pageNumber:n,previous:r})=>{n!==r&&(a._dispatchPageClose(r),a._dispatchPageOpen(n))}),a._internalEvents.set("pagerendered",({pageNumber:n})=>{!a._pageOpenPending.has(n)||n===a._pdfViewer.currentPageNumber&&a._dispatchPageOpen(n)}),a._internalEvents.set("pagesdestroy",function(){var n=p(function*(r){var y,m;yield a._dispatchPageClose(a._pdfViewer.currentPageNumber),yield null==(y=a._scripting)?void 0:y.dispatchEventInSandbox({id:"doc",name:"WillClose"}),null==(m=a._closeCapability)||m.resolve()});return function(r){return n.apply(this,arguments)}}()),a._domEvents.set("mousedown",n=>{a._mouseState.isDown=!0}),a._domEvents.set("mouseup",n=>{a._mouseState.isDown=!1});for(const[n,r]of a._internalEvents)a._eventBus._on(n,r);for(const[n,r]of a._domEvents)window.addEventListener(n,r);try{const n=yield a._getDocProperties();if(d!==a._pdfDocument)return;yield a._scripting.createSandbox({objects:w,calculationOrder:F,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:et(Ke({},n),{actions:S})}),a._eventBus.dispatch("sandboxcreated",{source:a})}catch(n){return console.error(`PDFScriptingManager.setDocument: "${null==n?void 0:n.message}".`),void(yield a._destroyScripting())}yield null==(b=a._scripting)?void 0:b.dispatchEventInSandbox({id:"doc",name:"Open"}),yield a._dispatchPageOpen(a._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{d===a._pdfDocument&&(a._ready=!0)})}}else yield a._destroyScripting()})()}dispatchWillSave(d){var a=this;return p(function*(){var w;return null==(w=a._scripting)?void 0:w.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(d){var a=this;return p(function*(){var w;return null==(w=a._scripting)?void 0:w.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(d){var a=this;return p(function*(){var w;return null==(w=a._scripting)?void 0:w.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(d){var a=this;return p(function*(){var w;return null==(w=a._scripting)?void 0:w.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){var d;return(null==(d=this._destroyCapability)?void 0:d.promise)||null}get ready(){return this._ready}get _internalEvents(){return(0,l.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,l.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,l.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,l.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(d){var a=this;return p(function*(){var y;const w=a._pdfViewer.isInPresentationMode||a._pdfViewer.isChangingPresentationMode,{id:F,siblings:S,command:b,value:n}=d;if(!F){switch(b){case"clear":console.clear();break;case"error":console.error(n);break;case"layout":if(w)return;const m=(0,s.apiPageLayoutToViewerModes)(n);a._pdfViewer.spreadMode=m.spreadMode;break;case"page-num":a._pdfViewer.currentPageNumber=n+1;break;case"print":yield a._pdfViewer.pagesPromise,a._eventBus.dispatch("print",{source:a});break;case"println":console.log(n);break;case"zoom":if(w)return;a._pdfViewer.currentScaleValue=n;break;case"SaveAs":a._eventBus.dispatch("save",{source:a});break;case"FirstPage":a._pdfViewer.currentPageNumber=1;break;case"LastPage":a._pdfViewer.currentPageNumber=a._pdfViewer.pagesCount;break;case"NextPage":a._pdfViewer.nextPage();break;case"PrevPage":a._pdfViewer.previousPage();break;case"ZoomViewIn":if(w)return;a._pdfViewer.increaseScale();break;case"ZoomViewOut":if(w)return;a._pdfViewer.decreaseScale()}return}if(w&&d.focus)return;delete d.id,delete d.siblings;const r=S?[F,...S]:[F];for(const m of r){const A=document.getElementById(m);A?A.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:d})):null==(y=a._pdfDocument)||y.annotationStorage.setValue(m,d)}})()}_dispatchPageOpen(d,a=!1){var w=this;return p(function*(){const F=w._pdfDocument,S=w._visitedPages;if(a&&(w._closeCapability=(0,l.createPromiseCapability)()),!w._closeCapability)return;const b=w._pdfViewer.getPageView(d-1);if((null==b?void 0:b.renderingState)!==s.RenderingStates.FINISHED)return void w._pageOpenPending.add(d);w._pageOpenPending.delete(d);const n=p(function*(){var y,m;const r=yield S.has(d)?null:null==(y=b.pdfPage)?void 0:y.getJSActions();F===w._pdfDocument&&(yield null==(m=w._scripting)?void 0:m.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:d,actions:r}))})();S.set(d,n)})()}_dispatchPageClose(d){var a=this;return p(function*(){var b;const w=a._pdfDocument,F=a._visitedPages;if(!a._closeCapability||a._pageOpenPending.has(d))return;const S=F.get(d);!S||(F.set(d,null),yield S,w===a._pdfDocument&&(yield null==(b=a._scripting)?void 0:b.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:d})))})()}_getDocProperties(){var d=this;return p(function*(){if(d._docPropertiesLookup)return d._docPropertiesLookup(d._pdfDocument);const{docPropertiesLookup:a}=u(24);return a(d._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,l.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:d}=u(24);return new d(this._sandboxBundleSrc)}_destroyScripting(){var d=this;return p(function*(){var a,w;if(!d._scripting)return d._pdfDocument=null,void(null==(a=d._destroyCapability)||a.resolve());d._closeCapability&&(yield Promise.race([d._closeCapability.promise,new Promise(F=>{setTimeout(F,1e3)})]).catch(F=>{}),d._closeCapability=null),d._pdfDocument=null;try{yield d._scripting.destroySandbox()}catch(F){}for(const[F,S]of d._internalEvents)d._eventBus._off(F,S);d._internalEvents.clear();for(const[F,S]of d._domEvents)window.removeEventListener(F,S);d._domEvents.clear(),d._pageOpenPending.clear(),d._visitedPages.clear(),d._scripting=null,delete d._mouseState.isDown,d._ready=!1,null==(w=d._destroyCapability)||w.resolve()})()}}},(e,t,u)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GenericScripting=void 0,t.docPropertiesLookup=function l(d){return f.apply(this,arguments)};var s=u(3);function f(){return(f=p(function*(d){const w="".split("#")[0];let{info:F,metadata:S,contentDispositionFilename:b,contentLength:n}=yield d.getMetadata();if(!n){const{length:r}=yield d.getDownloadInfo();n=r}return et(Ke({},F),{baseURL:w,filesize:n,filename:b||(0,s.getPdfFilenameFromUrl)(""),metadata:null==S?void 0:S.getRaw(),authors:null==S?void 0:S.get("dc:creator"),numPages:d.numPages,URL:""})})).apply(this,arguments)}t.GenericScripting=class k{constructor(a){this._ready=(0,s.loadScript)(a,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(a){var w=this;return p(function*(){(yield w._ready).create(a)})()}dispatchEventInSandbox(a){var w=this;return p(function*(){const F=yield w._ready;setTimeout(()=>F.dispatchEvent(a),0)})()}destroySandbox(){var a=this;return p(function*(){(yield a._ready).nukeSandbox()})()}}}],ie={};function se(e){var t=ie[e];if(void 0!==t)return t.exports;var u=ie[e]={exports:{}};return le[e](u,u.exports,se),u.exports}var te={};return(()=>{var e=te;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return f.AnnotationLayerBuilder}}),Object.defineProperty(e,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return t.DefaultAnnotationLayerFactory}}),Object.defineProperty(e,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return t.DefaultStructTreeLayerFactory}}),Object.defineProperty(e,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return t.DefaultTextLayerFactory}}),Object.defineProperty(e,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return t.DefaultXfaLayerFactory}}),Object.defineProperty(e,"DownloadManager",{enumerable:!0,get:function(){return k.DownloadManager}}),Object.defineProperty(e,"EventBus",{enumerable:!0,get:function(){return d.EventBus}}),Object.defineProperty(e,"GenericL10n",{enumerable:!0,get:function(){return a.GenericL10n}}),Object.defineProperty(e,"LinkTarget",{enumerable:!0,get:function(){return u.LinkTarget}}),Object.defineProperty(e,"NullL10n",{enumerable:!0,get:function(){return w.NullL10n}}),Object.defineProperty(e,"PDFFindController",{enumerable:!0,get:function(){return F.PDFFindController}}),Object.defineProperty(e,"PDFHistory",{enumerable:!0,get:function(){return S.PDFHistory}}),Object.defineProperty(e,"PDFLinkService",{enumerable:!0,get:function(){return u.PDFLinkService}}),Object.defineProperty(e,"PDFPageView",{enumerable:!0,get:function(){return b.PDFPageView}}),Object.defineProperty(e,"PDFScriptingManager",{enumerable:!0,get:function(){return n.PDFScriptingManager}}),Object.defineProperty(e,"PDFSinglePageViewer",{enumerable:!0,get:function(){return l.PDFSinglePageViewer}}),Object.defineProperty(e,"PDFViewer",{enumerable:!0,get:function(){return l.PDFViewer}}),Object.defineProperty(e,"ProgressBar",{enumerable:!0,get:function(){return s.ProgressBar}}),Object.defineProperty(e,"SimpleLinkService",{enumerable:!0,get:function(){return u.SimpleLinkService}}),Object.defineProperty(e,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return r.StructTreeLayerBuilder}}),Object.defineProperty(e,"TextLayerBuilder",{enumerable:!0,get:function(){return y.TextLayerBuilder}}),Object.defineProperty(e,"XfaLayerBuilder",{enumerable:!0,get:function(){return m.XfaLayerBuilder}}),Object.defineProperty(e,"parseQueryString",{enumerable:!0,get:function(){return s.parseQueryString}});var t=se(1),u=se(5),s=se(6),l=se(10),f=se(2),k=se(16),d=se(17),a=se(18),w=se(4),F=se(20),S=se(22),b=se(12),n=se(23),r=se(7),y=se(8),m=se(9)})(),te})()},8926:de=>{function M(p,le,ie,se,te,e,t){try{var u=p[e](t),s=u.value}catch(l){return void ie(l)}u.done?le(s):Promise.resolve(s).then(se,te)}de.exports=function K(p){return function(){var le=this,ie=arguments;return new Promise(function(se,te){var e=p.apply(le,ie);function t(s){M(e,se,te,t,u,"next",s)}function u(s){M(e,se,te,t,u,"throw",s)}t(void 0)})}},de.exports.__esModule=!0,de.exports.default=de.exports},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{}}]);